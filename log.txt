[2022-04-01T21:25:55Z INFO  ats_monitoring] starting up ats-monitoring app
[2022-04-01T21:25:55Z INFO  ats_monitoring] please wait for connecting to plc
[2022-04-01T21:25:55Z DEBUG tokio_postgres::simple_query] executing statement batch: alter database postgres set default_transaction_isolation to serializable
[2022-04-01T21:25:55Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS avr_control_insert (
                        mains_power_supply int NOT NULL,
                        start_generator int NOT NULL,
                        generator_faulty int NOT NULL,
                        generator_work int NOT NULL,
                        connection int NOT NULL,
                        mark timestamptz default current_timestamp
                    )
                
[2022-04-01T21:25:55Z INFO  postgres::config] NOTICE: relation "avr_control_insert" already exists, skipping
[2022-04-01T21:25:55Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS журнал_работы_приложения (
                        событие text NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    )
                
[2022-04-01T21:25:55Z INFO  postgres::config] NOTICE: relation "журнал_работы_приложения" already exists, skipping
[2022-04-01T21:25:55Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS зимний_сад (
                        фитоосвещение_1 int NOT NULL,
                        фитоосвещение_2 int NOT NULL,
                        фитоосвещение_3 int NOT NULL,
                        фитоосвещение_4 int NOT NULL,
                        вентилятор int NOT NULL,
                        автополив_1 int NOT NULL,
                        автополив_2 int NOT NULL,
                        автополив_3 int NOT NULL,
                        температура int NOT NULL,
                        влажность int NOT NULL,
                        освещенность_в_помещении int NOT NULL,
                        освещенность_на_улице int NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    )
                
[2022-04-01T21:25:55Z INFO  postgres::config] NOTICE: relation "зимний_сад" already exists, skipping
[2022-04-01T21:25:55Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS нагрузка_на_генератор (
                        нагрузка int NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    
                    )
                
[2022-04-01T21:25:55Z INFO  postgres::config] NOTICE: relation "нагрузка_на_генератор" already exists, skipping
[2022-04-01T21:25:55Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS события_авр (
                        событие text NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    )
                
[2022-04-01T21:25:55Z INFO  postgres::config] NOTICE: relation "события_авр" already exists, skipping
[2022-04-01T21:25:55Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:25:55Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:25:55Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-04-01T21:25:55Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:25:55Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:25:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь Modbus клиента с ПЛК отсутствует!
[2022-04-01T21:25:55Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь Modbus клиента с ПЛК отсутствует!
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s0: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s1: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s2: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s0 with parameters: ["Ошибка! Связь Modbus клиента с ПЛК отсутствует!"]
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s2 with parameters: ["Ошибка! Связь Modbus клиента с ПЛК отсутствует!"]
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s1 with parameters: []
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s3: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s3 with parameters: []
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s4: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:25:55Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848180.843379, Skytable = 1648848180.843379
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s4 with parameters: []
[2022-04-01T21:25:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь Modbus клиента с ПЛК отсутствует!
[2022-04-01T21:25:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь Modbus клиента с ПЛК отсутствует!
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s5: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s5 with parameters: []
[2022-04-01T21:25:55Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848355.96176, Skytable = 1648848355.96176
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s6: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s6 with parameters: []
[2022-04-01T21:25:55Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:25:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:25:55Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:25:55Z DEBUG tokio_postgres::prepare] preparing query s7: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:55Z DEBUG tokio_postgres::query] executing statement s7 with parameters: []
[2022-04-01T21:25:55Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:25:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:25:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:25:56Z DEBUG tokio_postgres::prepare] preparing query s8: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:25:56Z DEBUG tokio_postgres::query] executing statement s8 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:25:56Z DEBUG tokio_postgres::prepare] preparing query s9: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:56Z DEBUG tokio_postgres::query] executing statement s9 with parameters: []
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:25:56Z DEBUG tokio_postgres::prepare] preparing query s10: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:25:56Z DEBUG tokio_postgres::query] executing statement s10 with parameters: [0]
[2022-04-01T21:25:56Z DEBUG tokio_postgres::prepare] preparing query s11: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:25:56Z DEBUG tokio_postgres::query] executing statement s11 with parameters: []
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:25:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65463]
[2022-04-01T21:25:58Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:25:58Z DEBUG tokio_postgres::prepare] preparing query s12: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:58Z DEBUG tokio_postgres::query] executing statement s12 with parameters: []
[2022-04-01T21:25:58Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848356.085179, Skytable = 1648848356.085179
[2022-04-01T21:25:58Z DEBUG tokio_postgres::prepare] preparing query s13: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:25:58Z DEBUG tokio_postgres::query] executing statement s13 with parameters: []
[2022-04-01T21:25:58Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848358.990344, Skytable = 1648848358.990344
[2022-04-01T21:25:58Z DEBUG tokio_postgres::prepare] preparing query s14: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:58Z DEBUG tokio_postgres::query] executing statement s14 with parameters: []
[2022-04-01T21:25:58Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:25:58Z DEBUG tokio_postgres::prepare] preparing query s15: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:58Z DEBUG tokio_postgres::query] executing statement s15 with parameters: []
[2022-04-01T21:25:58Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:25:59Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:25:59Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:25:59Z DEBUG tokio_postgres::prepare] preparing query s16: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:25:59Z DEBUG tokio_postgres::query] executing statement s16 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:25:59Z DEBUG tokio_postgres::prepare] preparing query s17: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:25:59Z DEBUG tokio_postgres::query] executing statement s17 with parameters: []
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:25:59Z DEBUG tokio_postgres::prepare] preparing query s18: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:25:59Z DEBUG tokio_postgres::query] executing statement s18 with parameters: [0]
[2022-04-01T21:25:59Z DEBUG tokio_postgres::prepare] preparing query s19: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:25:59Z DEBUG tokio_postgres::query] executing statement s19 with parameters: []
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:25:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [16]
[2022-04-01T21:26:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:26:01Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:01Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-04-01T21:26:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:26:01Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:26:01Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Произошел сбой питания от электросети
[2022-04-01T21:26:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ожидание (90 секунд) подтверждения отсутствия питания от электросети
[2022-04-01T21:26:01Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:01Z DEBUG tokio_postgres::prepare] preparing query s20: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:01Z DEBUG tokio_postgres::prepare] preparing query s21: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:01Z DEBUG tokio_postgres::query] executing statement s20 with parameters: ["Произошел сбой питания от электросети! Ожидание (90 секунд) подтверждения отсутствия питания от электросети."]
[2022-04-01T21:26:01Z DEBUG tokio_postgres::query] executing statement s21 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:01Z DEBUG tokio_postgres::prepare] preparing query s22: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:01Z DEBUG tokio_postgres::prepare] preparing query s23: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:01Z DEBUG tokio_postgres::query] executing statement s22 with parameters: []
[2022-04-01T21:26:01Z DEBUG tokio_postgres::query] executing statement s23 with parameters: []
[2022-04-01T21:26:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Произошел сбой питания от электросети! Ожидание (90 секунд) подтверждения отсутствия питания от электросети.
[2022-04-01T21:26:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:01Z DEBUG tokio_postgres::prepare] preparing query s24: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:01Z DEBUG tokio_postgres::query] executing statement s24 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:01Z DEBUG tokio_postgres::prepare] preparing query s25: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:01Z DEBUG tokio_postgres::query] executing statement s25 with parameters: []
[2022-04-01T21:26:01Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s26: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s26 with parameters: []
[2022-04-01T21:26:02Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848359.226596, Skytable = 1648848359.226596
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s27: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s27 with parameters: []
[2022-04-01T21:26:02Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848362.02283, Skytable = 1648848362.02283
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s28: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s28 with parameters: []
[2022-04-01T21:26:02Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s29: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s29 with parameters: []
[2022-04-01T21:26:02Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:02Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s30: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s30 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s31: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s31 with parameters: []
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s32: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s32 with parameters: [0]
[2022-04-01T21:26:02Z DEBUG tokio_postgres::prepare] preparing query s33: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:02Z DEBUG tokio_postgres::query] executing statement s33 with parameters: []
[2022-04-01T21:26:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:03Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:26:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65453]
[2022-04-01T21:26:05Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:05Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:05Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:05Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s34: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s34 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s35: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s35 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s36: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s36 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s37: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s37 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:05Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s38: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s38 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848362.366789, Skytable = 1648848362.366789
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s39: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s39 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848365.064875, Skytable = 1648848365.064875
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s40: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s40 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s41: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s41 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:05Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s42: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s42 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s43: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s43 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s44: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s44 with parameters: [0]
[2022-04-01T21:26:05Z DEBUG tokio_postgres::prepare] preparing query s45: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:05Z DEBUG tokio_postgres::query] executing statement s45 with parameters: []
[2022-04-01T21:26:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:06Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:26:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65459]
[2022-04-01T21:26:08Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:08Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:08Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:08Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s46: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s46 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s47: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s47 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s48: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s48 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s49: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s49 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:08Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s50: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s50 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848365.525909, Skytable = 1648848365.525909
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s51: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s51 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848368.12481, Skytable = 1648848368.12481
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s52: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s52 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s53: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s53 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:08Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s54: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s54 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s55: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s55 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s56: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s56 with parameters: [0]
[2022-04-01T21:26:08Z DEBUG tokio_postgres::prepare] preparing query s57: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:08Z DEBUG tokio_postgres::query] executing statement s57 with parameters: []
[2022-04-01T21:26:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:09Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:26:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65464]
[2022-04-01T21:26:11Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:11Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:11Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:11Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s58: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s58 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s59: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s59 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s60: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s60 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s61: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s61 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:11Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s62: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s62 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848368.665185, Skytable = 1648848368.665185
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s63: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s63 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848371.183766, Skytable = 1648848371.183766
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s64: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s64 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s65: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s65 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:11Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s66: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s66 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s67: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s67 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s68: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s68 with parameters: [0]
[2022-04-01T21:26:11Z DEBUG tokio_postgres::prepare] preparing query s69: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:11Z DEBUG tokio_postgres::query] executing statement s69 with parameters: []
[2022-04-01T21:26:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:13Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:26:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65474]
[2022-04-01T21:26:14Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:14Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:14Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:14Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s70: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s70 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s71: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s71 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s72: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s72 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s73: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s73 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:14Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s74: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s74 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848371.814436, Skytable = 1648848371.814436
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s75: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s75 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848374.241871, Skytable = 1648848374.241871
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s76: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s76 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s77: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s77 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:14Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s78: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s78 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s79: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s79 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s80: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s80 with parameters: [0]
[2022-04-01T21:26:14Z DEBUG tokio_postgres::prepare] preparing query s81: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:14Z DEBUG tokio_postgres::query] executing statement s81 with parameters: []
[2022-04-01T21:26:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:16Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:26:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65479]
[2022-04-01T21:26:17Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:17Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:17Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:17Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s82: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s82 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s83: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s83 with parameters: []
[2022-04-01T21:26:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s84: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s84 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s85: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s85 with parameters: []
[2022-04-01T21:26:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:17Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s86: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s86 with parameters: []
[2022-04-01T21:26:17Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848374.956958, Skytable = 1648848374.956958
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s87: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s87 with parameters: []
[2022-04-01T21:26:17Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848377.299565, Skytable = 1648848377.299565
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s88: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s88 with parameters: []
[2022-04-01T21:26:17Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::prepare] preparing query s89: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:17Z DEBUG tokio_postgres::query] executing statement s89 with parameters: []
[2022-04-01T21:26:17Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:17Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:17Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:18Z DEBUG tokio_postgres::prepare] preparing query s90: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:18Z DEBUG tokio_postgres::query] executing statement s90 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:18Z DEBUG tokio_postgres::prepare] preparing query s91: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:18Z DEBUG tokio_postgres::query] executing statement s91 with parameters: []
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:18Z DEBUG tokio_postgres::prepare] preparing query s92: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:18Z DEBUG tokio_postgres::query] executing statement s92 with parameters: [0]
[2022-04-01T21:26:18Z DEBUG tokio_postgres::prepare] preparing query s93: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:18Z DEBUG tokio_postgres::query] executing statement s93 with parameters: []
[2022-04-01T21:26:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:19Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:26:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65437]
[2022-04-01T21:26:20Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:20Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:20Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:20Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s94: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s94 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s95: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s95 with parameters: []
[2022-04-01T21:26:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s96: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s96 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s97: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s97 with parameters: []
[2022-04-01T21:26:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:20Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s98: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s98 with parameters: []
[2022-04-01T21:26:20Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848378.096955, Skytable = 1648848378.096955
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s99: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s99 with parameters: []
[2022-04-01T21:26:20Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848380.357379, Skytable = 1648848380.357379
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s100: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s100 with parameters: []
[2022-04-01T21:26:20Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::prepare] preparing query s101: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:20Z DEBUG tokio_postgres::query] executing statement s101 with parameters: []
[2022-04-01T21:26:20Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:21Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:21Z DEBUG tokio_postgres::prepare] preparing query s102: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:21Z DEBUG tokio_postgres::query] executing statement s102 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:21Z DEBUG tokio_postgres::prepare] preparing query s103: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:21Z DEBUG tokio_postgres::query] executing statement s103 with parameters: []
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:21Z DEBUG tokio_postgres::prepare] preparing query s104: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:21Z DEBUG tokio_postgres::query] executing statement s104 with parameters: [0]
[2022-04-01T21:26:21Z DEBUG tokio_postgres::prepare] preparing query s105: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:21Z DEBUG tokio_postgres::query] executing statement s105 with parameters: []
[2022-04-01T21:26:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:22Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:26:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65453]
[2022-04-01T21:26:23Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:23Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:23Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:23Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s106: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s106 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s107: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s107 with parameters: []
[2022-04-01T21:26:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s108: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s108 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s109: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s109 with parameters: []
[2022-04-01T21:26:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:23Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s110: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s110 with parameters: []
[2022-04-01T21:26:23Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848381.243113, Skytable = 1648848381.243113
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s111: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s111 with parameters: []
[2022-04-01T21:26:23Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848383.414843, Skytable = 1648848383.414843
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s112: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s112 with parameters: []
[2022-04-01T21:26:23Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::prepare] preparing query s113: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:23Z DEBUG tokio_postgres::query] executing statement s113 with parameters: []
[2022-04-01T21:26:23Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:24Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:24Z DEBUG tokio_postgres::prepare] preparing query s114: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:24Z DEBUG tokio_postgres::query] executing statement s114 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:24Z DEBUG tokio_postgres::prepare] preparing query s115: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:24Z DEBUG tokio_postgres::query] executing statement s115 with parameters: []
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:24Z DEBUG tokio_postgres::prepare] preparing query s116: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:24Z DEBUG tokio_postgres::query] executing statement s116 with parameters: [0]
[2022-04-01T21:26:24Z DEBUG tokio_postgres::prepare] preparing query s117: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:24Z DEBUG tokio_postgres::query] executing statement s117 with parameters: []
[2022-04-01T21:26:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:26Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:26Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:26Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:26Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:26Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s118: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s118 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s119: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s119 with parameters: []
[2022-04-01T21:26:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s120: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s120 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s121: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s121 with parameters: []
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [21]
[2022-04-01T21:26:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65496]
[2022-04-01T21:26:26Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s122: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s122 with parameters: []
[2022-04-01T21:26:26Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848384.383099, Skytable = 1648848384.383099
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s123: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s123 with parameters: []
[2022-04-01T21:26:26Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848386.471709, Skytable = 1648848386.471709
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s124: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s124 with parameters: []
[2022-04-01T21:26:26Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::prepare] preparing query s125: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:26Z DEBUG tokio_postgres::query] executing statement s125 with parameters: []
[2022-04-01T21:26:26Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:27Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:27Z DEBUG tokio_postgres::prepare] preparing query s126: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:27Z DEBUG tokio_postgres::query] executing statement s126 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:27Z DEBUG tokio_postgres::prepare] preparing query s127: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:27Z DEBUG tokio_postgres::query] executing statement s127 with parameters: []
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:27Z DEBUG tokio_postgres::prepare] preparing query s128: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:27Z DEBUG tokio_postgres::query] executing statement s128 with parameters: [0]
[2022-04-01T21:26:27Z DEBUG tokio_postgres::prepare] preparing query s129: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:27Z DEBUG tokio_postgres::query] executing statement s129 with parameters: []
[2022-04-01T21:26:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:29Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:29Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:29Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:29Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s130: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s130 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s131: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s131 with parameters: []
[2022-04-01T21:26:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s132: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s132 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s133: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s133 with parameters: []
[2022-04-01T21:26:29Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:29Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s134: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s134 with parameters: []
[2022-04-01T21:26:29Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848387.535449, Skytable = 1648848387.535449
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s135: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s135 with parameters: []
[2022-04-01T21:26:29Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848389.528625, Skytable = 1648848389.528625
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s136: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s136 with parameters: []
[2022-04-01T21:26:29Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:29Z DEBUG tokio_postgres::prepare] preparing query s137: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:29Z DEBUG tokio_postgres::query] executing statement s137 with parameters: []
[2022-04-01T21:26:29Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:26:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65439]
[2022-04-01T21:26:30Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:30Z DEBUG tokio_postgres::prepare] preparing query s138: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:30Z DEBUG tokio_postgres::query] executing statement s138 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:30Z DEBUG tokio_postgres::prepare] preparing query s139: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:30Z DEBUG tokio_postgres::query] executing statement s139 with parameters: []
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:30Z DEBUG tokio_postgres::prepare] preparing query s140: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:30Z DEBUG tokio_postgres::query] executing statement s140 with parameters: [0]
[2022-04-01T21:26:30Z DEBUG tokio_postgres::prepare] preparing query s141: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:30Z DEBUG tokio_postgres::query] executing statement s141 with parameters: []
[2022-04-01T21:26:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:32Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:32Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:32Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:32Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s142: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s142 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s143: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s143 with parameters: []
[2022-04-01T21:26:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s144: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s144 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s145: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s145 with parameters: []
[2022-04-01T21:26:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:32Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s146: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s146 with parameters: []
[2022-04-01T21:26:32Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848390.661049, Skytable = 1648848390.661049
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s147: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s147 with parameters: []
[2022-04-01T21:26:32Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848392.586245, Skytable = 1648848392.586245
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s148: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s148 with parameters: []
[2022-04-01T21:26:32Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::prepare] preparing query s149: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:32Z DEBUG tokio_postgres::query] executing statement s149 with parameters: []
[2022-04-01T21:26:32Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:32Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:26:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65445]
[2022-04-01T21:26:33Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:33Z DEBUG tokio_postgres::prepare] preparing query s150: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:33Z DEBUG tokio_postgres::query] executing statement s150 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:33Z DEBUG tokio_postgres::prepare] preparing query s151: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:33Z DEBUG tokio_postgres::query] executing statement s151 with parameters: []
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:33Z DEBUG tokio_postgres::prepare] preparing query s152: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:33Z DEBUG tokio_postgres::query] executing statement s152 with parameters: [0]
[2022-04-01T21:26:33Z DEBUG tokio_postgres::prepare] preparing query s153: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:33Z DEBUG tokio_postgres::query] executing statement s153 with parameters: []
[2022-04-01T21:26:33Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:35Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:35Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:35Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:35Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s154: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s154 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s155: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s155 with parameters: []
[2022-04-01T21:26:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s156: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s156 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s157: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s157 with parameters: []
[2022-04-01T21:26:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:35Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s158: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s158 with parameters: []
[2022-04-01T21:26:35Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848393.827726, Skytable = 1648848393.827726
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s159: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s159 with parameters: []
[2022-04-01T21:26:35Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848395.643814, Skytable = 1648848395.643814
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s160: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s160 with parameters: []
[2022-04-01T21:26:35Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::prepare] preparing query s161: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:35Z DEBUG tokio_postgres::query] executing statement s161 with parameters: []
[2022-04-01T21:26:35Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:35Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65481]
[2022-04-01T21:26:36Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:36Z DEBUG tokio_postgres::prepare] preparing query s162: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:36Z DEBUG tokio_postgres::query] executing statement s162 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:37Z DEBUG tokio_postgres::prepare] preparing query s163: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:37Z DEBUG tokio_postgres::query] executing statement s163 with parameters: []
[2022-04-01T21:26:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:37Z DEBUG tokio_postgres::prepare] preparing query s164: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:37Z DEBUG tokio_postgres::query] executing statement s164 with parameters: [0]
[2022-04-01T21:26:37Z DEBUG tokio_postgres::prepare] preparing query s165: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:37Z DEBUG tokio_postgres::query] executing statement s165 with parameters: []
[2022-04-01T21:26:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:38Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:38Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:38Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:38Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s166: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s166 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s167: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s167 with parameters: []
[2022-04-01T21:26:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s168: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s168 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s169: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s169 with parameters: []
[2022-04-01T21:26:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:38Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s170: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s170 with parameters: []
[2022-04-01T21:26:38Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848396.997133, Skytable = 1648848396.997133
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s171: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s171 with parameters: []
[2022-04-01T21:26:38Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848398.701325, Skytable = 1648848398.701325
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s172: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s172 with parameters: []
[2022-04-01T21:26:38Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::prepare] preparing query s173: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:38Z DEBUG tokio_postgres::query] executing statement s173 with parameters: []
[2022-04-01T21:26:38Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:39Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [13]
[2022-04-01T21:26:39Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65465]
[2022-04-01T21:26:40Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:40Z DEBUG tokio_postgres::prepare] preparing query s174: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:40Z DEBUG tokio_postgres::query] executing statement s174 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:40Z DEBUG tokio_postgres::prepare] preparing query s175: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:40Z DEBUG tokio_postgres::query] executing statement s175 with parameters: []
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:40Z DEBUG tokio_postgres::prepare] preparing query s176: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:40Z DEBUG tokio_postgres::query] executing statement s176 with parameters: [0]
[2022-04-01T21:26:40Z DEBUG tokio_postgres::prepare] preparing query s177: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:40Z DEBUG tokio_postgres::query] executing statement s177 with parameters: []
[2022-04-01T21:26:40Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:41Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:41Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:41Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:41Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s178: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s178 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s179: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s179 with parameters: []
[2022-04-01T21:26:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s180: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s180 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s181: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s181 with parameters: []
[2022-04-01T21:26:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:41Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s182: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s182 with parameters: []
[2022-04-01T21:26:41Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848400.144876, Skytable = 1648848400.144876
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s183: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s183 with parameters: []
[2022-04-01T21:26:41Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848401.758935, Skytable = 1648848401.758935
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s184: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s184 with parameters: []
[2022-04-01T21:26:41Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::prepare] preparing query s185: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:41Z DEBUG tokio_postgres::query] executing statement s185 with parameters: []
[2022-04-01T21:26:41Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:42Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:26:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65454]
[2022-04-01T21:26:43Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:43Z DEBUG tokio_postgres::prepare] preparing query s186: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:43Z DEBUG tokio_postgres::query] executing statement s186 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:43Z DEBUG tokio_postgres::prepare] preparing query s187: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:43Z DEBUG tokio_postgres::query] executing statement s187 with parameters: []
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:43Z DEBUG tokio_postgres::prepare] preparing query s188: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:43Z DEBUG tokio_postgres::query] executing statement s188 with parameters: [0]
[2022-04-01T21:26:43Z DEBUG tokio_postgres::prepare] preparing query s189: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:43Z DEBUG tokio_postgres::query] executing statement s189 with parameters: []
[2022-04-01T21:26:43Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:44Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:44Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:44Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:44Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s190: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s190 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s191: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s191 with parameters: []
[2022-04-01T21:26:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s192: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s192 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s193: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s193 with parameters: []
[2022-04-01T21:26:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:44Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s194: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s194 with parameters: []
[2022-04-01T21:26:44Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848403.293185, Skytable = 1648848403.293185
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s195: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s195 with parameters: []
[2022-04-01T21:26:44Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848404.816534, Skytable = 1648848404.816534
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s196: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s196 with parameters: []
[2022-04-01T21:26:44Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::prepare] preparing query s197: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:44Z DEBUG tokio_postgres::query] executing statement s197 with parameters: []
[2022-04-01T21:26:44Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:45Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:26:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65445]
[2022-04-01T21:26:46Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:46Z DEBUG tokio_postgres::prepare] preparing query s198: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:46Z DEBUG tokio_postgres::query] executing statement s198 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:46Z DEBUG tokio_postgres::prepare] preparing query s199: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:46Z DEBUG tokio_postgres::query] executing statement s199 with parameters: []
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:46Z DEBUG tokio_postgres::prepare] preparing query s200: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:46Z DEBUG tokio_postgres::query] executing statement s200 with parameters: [0]
[2022-04-01T21:26:46Z DEBUG tokio_postgres::prepare] preparing query s201: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:46Z DEBUG tokio_postgres::query] executing statement s201 with parameters: []
[2022-04-01T21:26:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:47Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:47Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:47Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:47Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s202: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s202 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s203: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s203 with parameters: []
[2022-04-01T21:26:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s204: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s204 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s205: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s205 with parameters: []
[2022-04-01T21:26:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:47Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s206: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s206 with parameters: []
[2022-04-01T21:26:47Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848406.446145, Skytable = 1648848406.446145
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s207: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s207 with parameters: []
[2022-04-01T21:26:47Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848407.874106, Skytable = 1648848407.874106
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s208: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s208 with parameters: []
[2022-04-01T21:26:47Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::prepare] preparing query s209: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:47Z DEBUG tokio_postgres::query] executing statement s209 with parameters: []
[2022-04-01T21:26:47Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:48Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [14]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65484]
[2022-04-01T21:26:49Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:49Z DEBUG tokio_postgres::prepare] preparing query s210: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:49Z DEBUG tokio_postgres::query] executing statement s210 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:49Z DEBUG tokio_postgres::prepare] preparing query s211: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:49Z DEBUG tokio_postgres::query] executing statement s211 with parameters: []
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:49Z DEBUG tokio_postgres::prepare] preparing query s212: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:49Z DEBUG tokio_postgres::query] executing statement s212 with parameters: [0]
[2022-04-01T21:26:49Z DEBUG tokio_postgres::prepare] preparing query s213: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:49Z DEBUG tokio_postgres::query] executing statement s213 with parameters: []
[2022-04-01T21:26:49Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:50Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:50Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:50Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:50Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s214: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s214 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s215: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s215 with parameters: []
[2022-04-01T21:26:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s216: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s216 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s217: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s217 with parameters: []
[2022-04-01T21:26:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:50Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s218: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s218 with parameters: []
[2022-04-01T21:26:50Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848409.593163, Skytable = 1648848409.593163
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s219: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s219 with parameters: []
[2022-04-01T21:26:50Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848410.932051, Skytable = 1648848410.932051
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s220: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s220 with parameters: []
[2022-04-01T21:26:50Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::prepare] preparing query s221: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:50Z DEBUG tokio_postgres::query] executing statement s221 with parameters: []
[2022-04-01T21:26:50Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:52Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65484]
[2022-04-01T21:26:52Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:52Z DEBUG tokio_postgres::prepare] preparing query s222: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:52Z DEBUG tokio_postgres::query] executing statement s222 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:52Z DEBUG tokio_postgres::prepare] preparing query s223: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:52Z DEBUG tokio_postgres::query] executing statement s223 with parameters: []
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:52Z DEBUG tokio_postgres::prepare] preparing query s224: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:52Z DEBUG tokio_postgres::query] executing statement s224 with parameters: [0]
[2022-04-01T21:26:52Z DEBUG tokio_postgres::prepare] preparing query s225: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:52Z DEBUG tokio_postgres::query] executing statement s225 with parameters: []
[2022-04-01T21:26:52Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:53Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:53Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:53Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:53Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s226: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:53Z DEBUG tokio_postgres::query] executing statement s226 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s227: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:53Z DEBUG tokio_postgres::query] executing statement s227 with parameters: []
[2022-04-01T21:26:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s228: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:53Z DEBUG tokio_postgres::query] executing statement s228 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s229: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:53Z DEBUG tokio_postgres::query] executing statement s229 with parameters: []
[2022-04-01T21:26:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:53Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s230: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:53Z DEBUG tokio_postgres::query] executing statement s230 with parameters: []
[2022-04-01T21:26:53Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848412.72906, Skytable = 1648848412.72906
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s231: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:53Z DEBUG tokio_postgres::query] executing statement s231 with parameters: []
[2022-04-01T21:26:53Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848413.989576, Skytable = 1648848413.989576
[2022-04-01T21:26:53Z DEBUG tokio_postgres::prepare] preparing query s232: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:54Z DEBUG tokio_postgres::query] executing statement s232 with parameters: []
[2022-04-01T21:26:54Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:54Z DEBUG tokio_postgres::prepare] preparing query s233: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:54Z DEBUG tokio_postgres::query] executing statement s233 with parameters: []
[2022-04-01T21:26:54Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:55Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65460]
[2022-04-01T21:26:55Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:55Z DEBUG tokio_postgres::prepare] preparing query s234: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:55Z DEBUG tokio_postgres::query] executing statement s234 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:55Z DEBUG tokio_postgres::prepare] preparing query s235: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:55Z DEBUG tokio_postgres::query] executing statement s235 with parameters: []
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:55Z DEBUG tokio_postgres::prepare] preparing query s236: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:55Z DEBUG tokio_postgres::query] executing statement s236 with parameters: [0]
[2022-04-01T21:26:55Z DEBUG tokio_postgres::prepare] preparing query s237: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:55Z DEBUG tokio_postgres::query] executing statement s237 with parameters: []
[2022-04-01T21:26:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:56Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:56Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:56Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:56Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:56Z DEBUG tokio_postgres::prepare] preparing query s238: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:56Z DEBUG tokio_postgres::query] executing statement s238 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:56Z DEBUG tokio_postgres::prepare] preparing query s239: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:56Z DEBUG tokio_postgres::query] executing statement s239 with parameters: []
[2022-04-01T21:26:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:56Z DEBUG tokio_postgres::prepare] preparing query s240: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:56Z DEBUG tokio_postgres::query] executing statement s240 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:56Z DEBUG tokio_postgres::prepare] preparing query s241: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:56Z DEBUG tokio_postgres::query] executing statement s241 with parameters: []
[2022-04-01T21:26:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:57Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:26:57Z DEBUG tokio_postgres::prepare] preparing query s242: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:57Z DEBUG tokio_postgres::query] executing statement s242 with parameters: []
[2022-04-01T21:26:57Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848415.884989, Skytable = 1648848415.884989
[2022-04-01T21:26:57Z DEBUG tokio_postgres::prepare] preparing query s243: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:26:57Z DEBUG tokio_postgres::query] executing statement s243 with parameters: []
[2022-04-01T21:26:57Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848417.04713, Skytable = 1648848417.04713
[2022-04-01T21:26:57Z DEBUG tokio_postgres::prepare] preparing query s244: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:57Z DEBUG tokio_postgres::query] executing statement s244 with parameters: []
[2022-04-01T21:26:57Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:26:57Z DEBUG tokio_postgres::prepare] preparing query s245: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:57Z DEBUG tokio_postgres::query] executing statement s245 with parameters: []
[2022-04-01T21:26:57Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:26:58Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65448]
[2022-04-01T21:26:58Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:26:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:26:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:26:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s246: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s246 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s247: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s247 with parameters: []
[2022-04-01T21:26:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s248: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s248 with parameters: [0]
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s249: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s249 with parameters: []
[2022-04-01T21:26:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:26:59Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:26:59Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:26:59Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:26:59Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s250: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s250 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s251: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s251 with parameters: []
[2022-04-01T21:26:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s252: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s252 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:26:59Z DEBUG tokio_postgres::prepare] preparing query s253: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:26:59Z DEBUG tokio_postgres::query] executing statement s253 with parameters: []
[2022-04-01T21:26:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:00Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:00Z DEBUG tokio_postgres::prepare] preparing query s254: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:00Z DEBUG tokio_postgres::query] executing statement s254 with parameters: []
[2022-04-01T21:27:00Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848419.025085, Skytable = 1648848419.025085
[2022-04-01T21:27:00Z DEBUG tokio_postgres::prepare] preparing query s255: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:00Z DEBUG tokio_postgres::query] executing statement s255 with parameters: []
[2022-04-01T21:27:00Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848420.104691, Skytable = 1648848420.104691
[2022-04-01T21:27:00Z DEBUG tokio_postgres::prepare] preparing query s256: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:00Z DEBUG tokio_postgres::query] executing statement s256 with parameters: []
[2022-04-01T21:27:00Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:00Z DEBUG tokio_postgres::prepare] preparing query s257: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:00Z DEBUG tokio_postgres::query] executing statement s257 with parameters: []
[2022-04-01T21:27:00Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:01Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:27:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65456]
[2022-04-01T21:27:02Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s258: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s258 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s259: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s259 with parameters: []
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s260: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s260 with parameters: [0]
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s261: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s261 with parameters: []
[2022-04-01T21:27:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:02Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:02Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:02Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:02Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s262: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s262 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s263: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s263 with parameters: []
[2022-04-01T21:27:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s264: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s264 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:02Z DEBUG tokio_postgres::prepare] preparing query s265: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:02Z DEBUG tokio_postgres::query] executing statement s265 with parameters: []
[2022-04-01T21:27:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:03Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:03Z DEBUG tokio_postgres::prepare] preparing query s266: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:03Z DEBUG tokio_postgres::query] executing statement s266 with parameters: []
[2022-04-01T21:27:03Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848422.165226, Skytable = 1648848422.165226
[2022-04-01T21:27:03Z DEBUG tokio_postgres::prepare] preparing query s267: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:03Z DEBUG tokio_postgres::query] executing statement s267 with parameters: []
[2022-04-01T21:27:03Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848423.162927, Skytable = 1648848423.162927
[2022-04-01T21:27:03Z DEBUG tokio_postgres::prepare] preparing query s268: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:03Z DEBUG tokio_postgres::query] executing statement s268 with parameters: []
[2022-04-01T21:27:03Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:03Z DEBUG tokio_postgres::prepare] preparing query s269: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:03Z DEBUG tokio_postgres::query] executing statement s269 with parameters: []
[2022-04-01T21:27:03Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:04Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:27:05Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65453]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s270: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s270 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s271: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s271 with parameters: []
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s272: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s272 with parameters: [0]
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s273: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s273 with parameters: []
[2022-04-01T21:27:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:05Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:05Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:05Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:05Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s274: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s274 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s275: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s275 with parameters: []
[2022-04-01T21:27:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s276: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s276 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:05Z DEBUG tokio_postgres::prepare] preparing query s277: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:05Z DEBUG tokio_postgres::query] executing statement s277 with parameters: []
[2022-04-01T21:27:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:06Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:06Z DEBUG tokio_postgres::prepare] preparing query s278: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:06Z DEBUG tokio_postgres::query] executing statement s278 with parameters: []
[2022-04-01T21:27:06Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848425.337226, Skytable = 1648848425.337226
[2022-04-01T21:27:06Z DEBUG tokio_postgres::prepare] preparing query s279: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:06Z DEBUG tokio_postgres::query] executing statement s279 with parameters: []
[2022-04-01T21:27:06Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848426.220109, Skytable = 1648848426.220109
[2022-04-01T21:27:06Z DEBUG tokio_postgres::prepare] preparing query s280: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:06Z DEBUG tokio_postgres::query] executing statement s280 with parameters: []
[2022-04-01T21:27:06Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:06Z DEBUG tokio_postgres::prepare] preparing query s281: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:06Z DEBUG tokio_postgres::query] executing statement s281 with parameters: []
[2022-04-01T21:27:06Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:08Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65468]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s282: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s282 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s283: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s283 with parameters: []
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s284: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s284 with parameters: [0]
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s285: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s285 with parameters: []
[2022-04-01T21:27:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:08Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:08Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:08Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:08Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s286: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s286 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s287: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s287 with parameters: []
[2022-04-01T21:27:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s288: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s288 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:08Z DEBUG tokio_postgres::prepare] preparing query s289: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:08Z DEBUG tokio_postgres::query] executing statement s289 with parameters: []
[2022-04-01T21:27:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:09Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:09Z DEBUG tokio_postgres::prepare] preparing query s290: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:09Z DEBUG tokio_postgres::query] executing statement s290 with parameters: []
[2022-04-01T21:27:09Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848428.495425, Skytable = 1648848428.495425
[2022-04-01T21:27:09Z DEBUG tokio_postgres::prepare] preparing query s291: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:09Z DEBUG tokio_postgres::query] executing statement s291 with parameters: []
[2022-04-01T21:27:09Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848429.277722, Skytable = 1648848429.277722
[2022-04-01T21:27:09Z DEBUG tokio_postgres::prepare] preparing query s292: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:09Z DEBUG tokio_postgres::query] executing statement s292 with parameters: []
[2022-04-01T21:27:09Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:09Z DEBUG tokio_postgres::prepare] preparing query s293: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:09Z DEBUG tokio_postgres::query] executing statement s293 with parameters: []
[2022-04-01T21:27:09Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:11Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s294: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s294 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s295: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s295 with parameters: []
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s296: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s296 with parameters: [0]
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s297: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s297 with parameters: []
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:27:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65468]
[2022-04-01T21:27:11Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:11Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:11Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:11Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s298: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s298 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s299: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s299 with parameters: []
[2022-04-01T21:27:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s300: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s300 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:11Z DEBUG tokio_postgres::prepare] preparing query s301: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:11Z DEBUG tokio_postgres::query] executing statement s301 with parameters: []
[2022-04-01T21:27:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:12Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:12Z DEBUG tokio_postgres::prepare] preparing query s302: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:12Z DEBUG tokio_postgres::query] executing statement s302 with parameters: []
[2022-04-01T21:27:12Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848431.649283, Skytable = 1648848431.649283
[2022-04-01T21:27:12Z DEBUG tokio_postgres::prepare] preparing query s303: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:12Z DEBUG tokio_postgres::query] executing statement s303 with parameters: []
[2022-04-01T21:27:12Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848432.334989, Skytable = 1648848432.334989
[2022-04-01T21:27:12Z DEBUG tokio_postgres::prepare] preparing query s304: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:12Z DEBUG tokio_postgres::query] executing statement s304 with parameters: []
[2022-04-01T21:27:12Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:12Z DEBUG tokio_postgres::prepare] preparing query s305: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:12Z DEBUG tokio_postgres::query] executing statement s305 with parameters: []
[2022-04-01T21:27:12Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:14Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s306: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s306 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s307: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s307 with parameters: []
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s308: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s308 with parameters: [0]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s309: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s309 with parameters: []
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:14Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:14Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:14Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:14Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s310: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s310 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s311: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s311 with parameters: []
[2022-04-01T21:27:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s312: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s312 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:14Z DEBUG tokio_postgres::prepare] preparing query s313: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:14Z DEBUG tokio_postgres::query] executing statement s313 with parameters: []
[2022-04-01T21:27:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:27:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65468]
[2022-04-01T21:27:15Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:15Z DEBUG tokio_postgres::prepare] preparing query s314: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:15Z DEBUG tokio_postgres::query] executing statement s314 with parameters: []
[2022-04-01T21:27:15Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848434.844702, Skytable = 1648848434.844702
[2022-04-01T21:27:15Z DEBUG tokio_postgres::prepare] preparing query s315: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:15Z DEBUG tokio_postgres::query] executing statement s315 with parameters: []
[2022-04-01T21:27:15Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848435.392076, Skytable = 1648848435.392076
[2022-04-01T21:27:15Z DEBUG tokio_postgres::prepare] preparing query s316: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:15Z DEBUG tokio_postgres::query] executing statement s316 with parameters: []
[2022-04-01T21:27:15Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:15Z DEBUG tokio_postgres::prepare] preparing query s317: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:15Z DEBUG tokio_postgres::query] executing statement s317 with parameters: []
[2022-04-01T21:27:15Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:17Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:17Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:17Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:17Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:17Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:17Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:17Z DEBUG tokio_postgres::prepare] preparing query s318: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:17Z DEBUG tokio_postgres::query] executing statement s318 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:17Z DEBUG tokio_postgres::prepare] preparing query s319: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:17Z DEBUG tokio_postgres::query] executing statement s319 with parameters: []
[2022-04-01T21:27:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:17Z DEBUG tokio_postgres::prepare] preparing query s320: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:17Z DEBUG tokio_postgres::query] executing statement s320 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:17Z DEBUG tokio_postgres::prepare] preparing query s321: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:17Z DEBUG tokio_postgres::query] executing statement s321 with parameters: []
[2022-04-01T21:27:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:17Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s322: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s322 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s323: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s323 with parameters: []
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s324: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s324 with parameters: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s325: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s325 with parameters: []
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:27:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65446]
[2022-04-01T21:27:18Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s326: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s326 with parameters: []
[2022-04-01T21:27:18Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848438.045211, Skytable = 1648848438.045211
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s327: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s327 with parameters: []
[2022-04-01T21:27:18Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848438.449669, Skytable = 1648848438.449669
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s328: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s328 with parameters: []
[2022-04-01T21:27:18Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::prepare] preparing query s329: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:18Z DEBUG tokio_postgres::query] executing statement s329 with parameters: []
[2022-04-01T21:27:18Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:20Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:20Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:20Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:20Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:20Z DEBUG tokio_postgres::prepare] preparing query s330: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:20Z DEBUG tokio_postgres::query] executing statement s330 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:20Z DEBUG tokio_postgres::prepare] preparing query s331: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:20Z DEBUG tokio_postgres::query] executing statement s331 with parameters: []
[2022-04-01T21:27:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s332: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s332 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s333: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s333 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:21Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s334: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s334 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s335: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s335 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s336: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s336 with parameters: [0]
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s337: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s337 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:21Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:27:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65457]
[2022-04-01T21:27:21Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s338: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s338 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848441.181368, Skytable = 1648848441.181368
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s339: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s339 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848441.497857, Skytable = 1648848441.497857
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s340: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s340 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::prepare] preparing query s341: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:21Z DEBUG tokio_postgres::query] executing statement s341 with parameters: []
[2022-04-01T21:27:21Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:24Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:24Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:24Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:24Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s342: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s342 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s343: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s343 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s344: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s344 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s345: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s345 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:24Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s346: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s346 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s347: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s347 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s348: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s348 with parameters: [0]
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s349: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s349 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:24Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s350: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s350 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848444.334637, Skytable = 1648848444.334637
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s351: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s351 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848444.530626, Skytable = 1648848444.530626
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s352: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s352 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::prepare] preparing query s353: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:24Z DEBUG tokio_postgres::query] executing statement s353 with parameters: []
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:27:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65468]
[2022-04-01T21:27:27Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:27Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:27Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:27Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s354: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s354 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s355: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s355 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s356: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s356 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s357: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s357 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:27Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s358: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s358 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s359: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s359 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s360: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s360 with parameters: [0]
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s361: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s361 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:27Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s362: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s362 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848447.489465, Skytable = 1648848447.489465
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s363: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s363 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848447.58747, Skytable = 1648848447.58747
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s364: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s364 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::prepare] preparing query s365: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:27Z DEBUG tokio_postgres::query] executing statement s365 with parameters: []
[2022-04-01T21:27:27Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:27Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [15]
[2022-04-01T21:27:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65473]
[2022-04-01T21:27:30Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:30Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:30Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:30Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s366: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s366 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s367: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s367 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s368: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s368 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s369: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s369 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:30Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:30Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s370: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s370 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848447.489465, Skytable = 1648848447.489465
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s371: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s371 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848450.645271, Skytable = 1648848450.645271
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s372: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s372 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:30Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s373: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s373 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s374: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s374 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s375: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s375 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s376: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s376 with parameters: [0]
[2022-04-01T21:27:30Z DEBUG tokio_postgres::prepare] preparing query s377: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:30Z DEBUG tokio_postgres::query] executing statement s377 with parameters: []
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:30Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [15]
[2022-04-01T21:27:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65473]
[2022-04-01T21:27:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Повторный запрос наличия питания от электросети
[2022-04-01T21:27:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Подтверждение отсутствия питания от электросети
[2022-04-01T21:27:31Z DEBUG tokio_postgres::prepare] preparing query s378: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:31Z DEBUG tokio_postgres::query] executing statement s378 with parameters: ["Подтверждение отсутствия питания от электросети."]
[2022-04-01T21:27:32Z DEBUG tokio_postgres::prepare] preparing query s379: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:32Z DEBUG tokio_postgres::query] executing statement s379 with parameters: []
[2022-04-01T21:27:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Подтверждение отсутствия питания от электросети.
[2022-04-01T21:27:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Выполнение http запроса поставщику услуг SMS оповещения
[2022-04-01T21:27:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Сбой старта генератора!
[2022-04-01T21:27:32Z DEBUG tokio_postgres::prepare] preparing query s380: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:32Z DEBUG tokio_postgres::query] executing statement s380 with parameters: ["Сбой питания от электросети. Сбой старта генератора."]
[2022-04-01T21:27:32Z DEBUG tokio_postgres::prepare] preparing query s381: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:32Z DEBUG tokio_postgres::query] executing statement s381 with parameters: []
[2022-04-01T21:27:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Сбой питания от электросети. Сбой старта генератора.
[2022-04-01T21:27:32Z DEBUG tokio_postgres::prepare] preparing query s382: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:32Z DEBUG tokio_postgres::query] executing statement s382 with parameters: ["Сбой старта генератора!"]
[2022-04-01T21:27:32Z DEBUG tokio_postgres::prepare] preparing query s383: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:32Z DEBUG tokio_postgres::query] executing statement s383 with parameters: []
[2022-04-01T21:27:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Сбой старта генератора!
[2022-04-01T21:27:32Z DEBUG reqwest::connect] starting new connection: https://api-mapper.clicksend.com/
[2022-04-01T21:27:33Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:33Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:33Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:33Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s384: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s384 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s385: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s385 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s386: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s386 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s387: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s387 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:33Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s388: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s388 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848450.733361, Skytable = 1648848450.733361
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s389: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s389 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848453.70325, Skytable = 1648848453.70325
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s390: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s390 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s391: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s391 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:33Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s392: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s392 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s393: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s393 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s394: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s394 with parameters: [0]
[2022-04-01T21:27:33Z DEBUG tokio_postgres::prepare] preparing query s395: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:33Z DEBUG tokio_postgres::query] executing statement s395 with parameters: []
[2022-04-01T21:27:33Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:34Z DEBUG reqwest::async_impl::client] response '200 OK' for https://api-mapper.clicksend.com/http/v2/send.php?method=http&username=development-service@yandex.ru&key=1E82A334-89D8-985C-526B-712DB70A713D&to=+79139402913&message=%D0%A1%D0%B1%D0%BE%D0%B9+%D0%BF%D0%B8%D1%82%D0%B0%D0%BD%D0%B8%D1%8F+%D0%BE%D1%82+%D1%8D%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%BE%D1%81%D0%B5%D1%82%D0%B8.+%D0%A1%D0%B1%D0%BE%D0%B9+%D1%81%D1%82%D0%B0%D1%80%D1%82%D0%B0+%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%B0.
[2022-04-01T21:27:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Http запрос выполнен успешно
[2022-04-01T21:27:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Отправлено SMS сообщение: /Сбой питания от электросети. Сбой старта генератора./ на номер +79139402913
[2022-04-01T21:27:34Z DEBUG tokio_postgres::prepare] preparing query s396: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:34Z DEBUG tokio_postgres::query] executing statement s396 with parameters: ["Отправлено SMS сообщение: /Сбой питания от электросети. Сбой старта генератора./ на номер +79139402913"]
[2022-04-01T21:27:34Z DEBUG tokio_postgres::prepare] preparing query s397: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:34Z DEBUG tokio_postgres::query] executing statement s397 with parameters: []
[2022-04-01T21:27:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Отправлено SMS сообщение: /Сбой питания от электросети. Сбой старта генератора./ на номер +79139402913
[2022-04-01T21:27:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:34Z DEBUG tokio_postgres::prepare] preparing query s398: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:34Z DEBUG tokio_postgres::query] executing statement s398 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:34Z DEBUG tokio_postgres::prepare] preparing query s399: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:34Z DEBUG tokio_postgres::query] executing statement s399 with parameters: []
[2022-04-01T21:27:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:34Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:27:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65465]
[2022-04-01T21:27:36Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:36Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:36Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:36Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s400: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s400 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s401: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s401 with parameters: []
[2022-04-01T21:27:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s402: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s402 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s403: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s403 with parameters: []
[2022-04-01T21:27:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:36Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s404: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s404 with parameters: []
[2022-04-01T21:27:36Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848453.870168, Skytable = 1648848453.870168
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s405: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s405 with parameters: []
[2022-04-01T21:27:36Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848456.761194, Skytable = 1648848456.761194
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s406: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s406 with parameters: []
[2022-04-01T21:27:36Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::prepare] preparing query s407: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:36Z DEBUG tokio_postgres::query] executing statement s407 with parameters: []
[2022-04-01T21:27:36Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:36Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:36Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:37Z DEBUG tokio_postgres::prepare] preparing query s408: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:37Z DEBUG tokio_postgres::query] executing statement s408 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:37Z DEBUG tokio_postgres::prepare] preparing query s409: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:37Z DEBUG tokio_postgres::query] executing statement s409 with parameters: []
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:37Z DEBUG tokio_postgres::prepare] preparing query s410: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:37Z DEBUG tokio_postgres::query] executing statement s410 with parameters: [0]
[2022-04-01T21:27:37Z DEBUG tokio_postgres::prepare] preparing query s411: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:37Z DEBUG tokio_postgres::query] executing statement s411 with parameters: []
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:37Z DEBUG tokio_postgres::prepare] preparing query s412: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:37Z DEBUG tokio_postgres::query] executing statement s412 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:37Z DEBUG tokio_postgres::prepare] preparing query s413: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:37Z DEBUG tokio_postgres::query] executing statement s413 with parameters: []
[2022-04-01T21:27:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:37Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:27:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65437]
[2022-04-01T21:27:39Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:39Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:39Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:39Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s414: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s414 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s415: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s415 with parameters: []
[2022-04-01T21:27:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s416: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s416 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s417: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s417 with parameters: []
[2022-04-01T21:27:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:39Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s418: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s418 with parameters: []
[2022-04-01T21:27:39Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848457.017413, Skytable = 1648848457.017413
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s419: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s419 with parameters: []
[2022-04-01T21:27:39Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848459.817879, Skytable = 1648848459.817879
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s420: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s420 with parameters: []
[2022-04-01T21:27:39Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::prepare] preparing query s421: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:39Z DEBUG tokio_postgres::query] executing statement s421 with parameters: []
[2022-04-01T21:27:39Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:40Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:40Z DEBUG tokio_postgres::prepare] preparing query s422: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:40Z DEBUG tokio_postgres::query] executing statement s422 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:40Z DEBUG tokio_postgres::prepare] preparing query s423: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:40Z DEBUG tokio_postgres::query] executing statement s423 with parameters: []
[2022-04-01T21:27:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:40Z DEBUG tokio_postgres::prepare] preparing query s424: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:40Z DEBUG tokio_postgres::query] executing statement s424 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:40Z DEBUG tokio_postgres::prepare] preparing query s425: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:40Z DEBUG tokio_postgres::query] executing statement s425 with parameters: []
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:40Z DEBUG tokio_postgres::prepare] preparing query s426: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:40Z DEBUG tokio_postgres::query] executing statement s426 with parameters: [0]
[2022-04-01T21:27:40Z DEBUG tokio_postgres::prepare] preparing query s427: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:40Z DEBUG tokio_postgres::query] executing statement s427 with parameters: []
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:40Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:27:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65471]
[2022-04-01T21:27:42Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:42Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:42Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:42Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s428: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s428 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s429: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s429 with parameters: []
[2022-04-01T21:27:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s430: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s430 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s431: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s431 with parameters: []
[2022-04-01T21:27:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:42Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s432: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s432 with parameters: []
[2022-04-01T21:27:42Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848460.177316, Skytable = 1648848460.177316
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s433: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s433 with parameters: []
[2022-04-01T21:27:42Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848462.874621, Skytable = 1648848462.874621
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s434: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s434 with parameters: []
[2022-04-01T21:27:42Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::prepare] preparing query s435: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:42Z DEBUG tokio_postgres::query] executing statement s435 with parameters: []
[2022-04-01T21:27:42Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:43Z DEBUG tokio_postgres::prepare] preparing query s436: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:43Z DEBUG tokio_postgres::query] executing statement s436 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:43Z DEBUG tokio_postgres::prepare] preparing query s437: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:43Z DEBUG tokio_postgres::query] executing statement s437 with parameters: []
[2022-04-01T21:27:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:43Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:43Z DEBUG tokio_postgres::prepare] preparing query s438: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:43Z DEBUG tokio_postgres::query] executing statement s438 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:43Z DEBUG tokio_postgres::prepare] preparing query s439: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:43Z DEBUG tokio_postgres::query] executing statement s439 with parameters: []
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:43Z DEBUG tokio_postgres::prepare] preparing query s440: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:43Z DEBUG tokio_postgres::query] executing statement s440 with parameters: [0]
[2022-04-01T21:27:43Z DEBUG tokio_postgres::prepare] preparing query s441: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:43Z DEBUG tokio_postgres::query] executing statement s441 with parameters: []
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:43Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:43Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:27:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65461]
[2022-04-01T21:27:45Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:45Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:45Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:45Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s442: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s442 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s443: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s443 with parameters: []
[2022-04-01T21:27:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s444: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s444 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s445: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s445 with parameters: []
[2022-04-01T21:27:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:45Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s446: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s446 with parameters: []
[2022-04-01T21:27:45Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848463.333558, Skytable = 1648848463.333558
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s447: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s447 with parameters: []
[2022-04-01T21:27:45Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848465.932828, Skytable = 1648848465.932828
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s448: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s448 with parameters: []
[2022-04-01T21:27:45Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::prepare] preparing query s449: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:45Z DEBUG tokio_postgres::query] executing statement s449 with parameters: []
[2022-04-01T21:27:45Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:46Z DEBUG tokio_postgres::prepare] preparing query s450: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:46Z DEBUG tokio_postgres::query] executing statement s450 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:46Z DEBUG tokio_postgres::prepare] preparing query s451: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:46Z DEBUG tokio_postgres::query] executing statement s451 with parameters: []
[2022-04-01T21:27:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:46Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:46Z DEBUG tokio_postgres::prepare] preparing query s452: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:46Z DEBUG tokio_postgres::query] executing statement s452 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:46Z DEBUG tokio_postgres::prepare] preparing query s453: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:46Z DEBUG tokio_postgres::query] executing statement s453 with parameters: []
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:46Z DEBUG tokio_postgres::prepare] preparing query s454: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:46Z DEBUG tokio_postgres::query] executing statement s454 with parameters: [0]
[2022-04-01T21:27:46Z DEBUG tokio_postgres::prepare] preparing query s455: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:46Z DEBUG tokio_postgres::query] executing statement s455 with parameters: []
[2022-04-01T21:27:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:47Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:48Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:48Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:48Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:48Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:48Z DEBUG tokio_postgres::prepare] preparing query s456: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:48Z DEBUG tokio_postgres::query] executing statement s456 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:48Z DEBUG tokio_postgres::prepare] preparing query s457: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:48Z DEBUG tokio_postgres::query] executing statement s457 with parameters: []
[2022-04-01T21:27:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:27:48Z DEBUG tokio_postgres::prepare] preparing query s458: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:48Z DEBUG tokio_postgres::query] executing statement s458 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:48Z DEBUG tokio_postgres::prepare] preparing query s459: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:48Z DEBUG tokio_postgres::query] executing statement s459 with parameters: []
[2022-04-01T21:27:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65470]
[2022-04-01T21:27:48Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:48Z DEBUG tokio_postgres::prepare] preparing query s460: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:48Z DEBUG tokio_postgres::query] executing statement s460 with parameters: []
[2022-04-01T21:27:48Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848466.484051, Skytable = 1648848466.484051
[2022-04-01T21:27:48Z DEBUG tokio_postgres::prepare] preparing query s461: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:48Z DEBUG tokio_postgres::query] executing statement s461 with parameters: []
[2022-04-01T21:27:48Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848468.98998, Skytable = 1648848468.98998
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s462: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s462 with parameters: []
[2022-04-01T21:27:49Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s463: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s463 with parameters: []
[2022-04-01T21:27:49Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s464: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s464 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s465: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s465 with parameters: []
[2022-04-01T21:27:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:49Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s466: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s466 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s467: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s467 with parameters: []
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s468: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s468 with parameters: [0]
[2022-04-01T21:27:49Z DEBUG tokio_postgres::prepare] preparing query s469: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:49Z DEBUG tokio_postgres::query] executing statement s469 with parameters: []
[2022-04-01T21:27:49Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:51Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:51Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:51Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:51Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:51Z DEBUG tokio_postgres::prepare] preparing query s470: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:51Z DEBUG tokio_postgres::query] executing statement s470 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:51Z DEBUG tokio_postgres::prepare] preparing query s471: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:51Z DEBUG tokio_postgres::query] executing statement s471 with parameters: []
[2022-04-01T21:27:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:51Z DEBUG tokio_postgres::prepare] preparing query s472: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:51Z DEBUG tokio_postgres::query] executing statement s472 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:51Z DEBUG tokio_postgres::prepare] preparing query s473: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:51Z DEBUG tokio_postgres::query] executing statement s473 with parameters: []
[2022-04-01T21:27:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:27:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65465]
[2022-04-01T21:27:52Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s474: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s474 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848469.627729, Skytable = 1648848469.627729
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s475: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s475 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848472.050414, Skytable = 1648848472.050414
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s476: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s476 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s477: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s477 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s478: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s478 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s479: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s479 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:52Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s480: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s480 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s481: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s481 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s482: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s482 with parameters: [0]
[2022-04-01T21:27:52Z DEBUG tokio_postgres::prepare] preparing query s483: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:52Z DEBUG tokio_postgres::query] executing statement s483 with parameters: []
[2022-04-01T21:27:52Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:54Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:54Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:54Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:54Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:54Z DEBUG tokio_postgres::prepare] preparing query s484: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:54Z DEBUG tokio_postgres::query] executing statement s484 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:54Z DEBUG tokio_postgres::prepare] preparing query s485: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:54Z DEBUG tokio_postgres::query] executing statement s485 with parameters: []
[2022-04-01T21:27:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:54Z DEBUG tokio_postgres::prepare] preparing query s486: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:54Z DEBUG tokio_postgres::query] executing statement s486 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:54Z DEBUG tokio_postgres::prepare] preparing query s487: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:54Z DEBUG tokio_postgres::query] executing statement s487 with parameters: []
[2022-04-01T21:27:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:54Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:27:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65442]
[2022-04-01T21:27:55Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s488: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s488 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848472.767323, Skytable = 1648848472.767323
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s489: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s489 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848475.1124, Skytable = 1648848475.1124
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s490: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s490 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s491: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s491 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s492: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s492 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s493: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s493 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:55Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s494: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s494 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s495: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s495 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s496: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s496 with parameters: [0]
[2022-04-01T21:27:55Z DEBUG tokio_postgres::prepare] preparing query s497: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:55Z DEBUG tokio_postgres::query] executing statement s497 with parameters: []
[2022-04-01T21:27:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:27:57Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:27:57Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:27:57Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:27:57Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:27:57Z DEBUG tokio_postgres::prepare] preparing query s498: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:27:57Z DEBUG tokio_postgres::query] executing statement s498 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:57Z DEBUG tokio_postgres::prepare] preparing query s499: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:57Z DEBUG tokio_postgres::query] executing statement s499 with parameters: []
[2022-04-01T21:27:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:57Z DEBUG tokio_postgres::prepare] preparing query s500: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:57Z DEBUG tokio_postgres::query] executing statement s500 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:27:57Z DEBUG tokio_postgres::prepare] preparing query s501: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:57Z DEBUG tokio_postgres::query] executing statement s501 with parameters: []
[2022-04-01T21:27:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:27:57Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:27:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:27:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:27:58Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:27:58Z DEBUG tokio_postgres::prepare] preparing query s502: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:58Z DEBUG tokio_postgres::query] executing statement s502 with parameters: []
[2022-04-01T21:27:58Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848475.911906, Skytable = 1648848475.911906
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:27:58Z DEBUG tokio_postgres::prepare] preparing query s503: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:27:58Z DEBUG tokio_postgres::query] executing statement s503 with parameters: []
[2022-04-01T21:27:58Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848478.175165, Skytable = 1648848478.175165
[2022-04-01T21:27:58Z DEBUG tokio_postgres::prepare] preparing query s504: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:58Z DEBUG tokio_postgres::query] executing statement s504 with parameters: []
[2022-04-01T21:27:58Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65452]
[2022-04-01T21:27:58Z DEBUG tokio_postgres::prepare] preparing query s505: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:58Z DEBUG tokio_postgres::query] executing statement s505 with parameters: []
[2022-04-01T21:27:58Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:27:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:27:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:27:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:27:58Z DEBUG tokio_postgres::prepare] preparing query s506: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:27:58Z DEBUG tokio_postgres::query] executing statement s506 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:27:58Z DEBUG tokio_postgres::prepare] preparing query s507: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:58Z DEBUG tokio_postgres::query] executing statement s507 with parameters: []
[2022-04-01T21:27:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:27:58Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:27:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:27:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:27:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:27:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:27:59Z DEBUG tokio_postgres::prepare] preparing query s508: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:27:59Z DEBUG tokio_postgres::query] executing statement s508 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:27:59Z DEBUG tokio_postgres::prepare] preparing query s509: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:27:59Z DEBUG tokio_postgres::query] executing statement s509 with parameters: []
[2022-04-01T21:27:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:27:59Z DEBUG tokio_postgres::prepare] preparing query s510: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:27:59Z DEBUG tokio_postgres::query] executing statement s510 with parameters: [0]
[2022-04-01T21:27:59Z DEBUG tokio_postgres::prepare] preparing query s511: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:27:59Z DEBUG tokio_postgres::query] executing statement s511 with parameters: []
[2022-04-01T21:27:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:00Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:00Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:00Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:00Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:00Z DEBUG tokio_postgres::prepare] preparing query s512: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:00Z DEBUG tokio_postgres::query] executing statement s512 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:00Z DEBUG tokio_postgres::prepare] preparing query s513: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:00Z DEBUG tokio_postgres::query] executing statement s513 with parameters: []
[2022-04-01T21:28:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:00Z DEBUG tokio_postgres::prepare] preparing query s514: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:00Z DEBUG tokio_postgres::query] executing statement s514 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:00Z DEBUG tokio_postgres::prepare] preparing query s515: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:00Z DEBUG tokio_postgres::query] executing statement s515 with parameters: []
[2022-04-01T21:28:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:01Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:01Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:01Z DEBUG tokio_postgres::prepare] preparing query s516: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:01Z DEBUG tokio_postgres::query] executing statement s516 with parameters: []
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:01Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848479.067149, Skytable = 1648848479.067149
[2022-04-01T21:28:01Z DEBUG tokio_postgres::prepare] preparing query s517: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:01Z DEBUG tokio_postgres::query] executing statement s517 with parameters: []
[2022-04-01T21:28:01Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848481.232558, Skytable = 1648848481.232558
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:01Z DEBUG tokio_postgres::prepare] preparing query s518: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:01Z DEBUG tokio_postgres::query] executing statement s518 with parameters: []
[2022-04-01T21:28:01Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:01Z DEBUG tokio_postgres::prepare] preparing query s519: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:01Z DEBUG tokio_postgres::query] executing statement s519 with parameters: []
[2022-04-01T21:28:01Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:01Z DEBUG tokio_postgres::prepare] preparing query s520: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:01Z DEBUG tokio_postgres::query] executing statement s520 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:01Z DEBUG tokio_postgres::prepare] preparing query s521: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:01Z DEBUG tokio_postgres::query] executing statement s521 with parameters: []
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:28:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65474]
[2022-04-01T21:28:02Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:02Z DEBUG tokio_postgres::prepare] preparing query s522: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:02Z DEBUG tokio_postgres::query] executing statement s522 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:02Z DEBUG tokio_postgres::prepare] preparing query s523: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:02Z DEBUG tokio_postgres::query] executing statement s523 with parameters: []
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:02Z DEBUG tokio_postgres::prepare] preparing query s524: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:02Z DEBUG tokio_postgres::query] executing statement s524 with parameters: [0]
[2022-04-01T21:28:02Z DEBUG tokio_postgres::prepare] preparing query s525: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:02Z DEBUG tokio_postgres::query] executing statement s525 with parameters: []
[2022-04-01T21:28:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:03Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:03Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:03Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:03Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:03Z DEBUG tokio_postgres::prepare] preparing query s526: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:03Z DEBUG tokio_postgres::query] executing statement s526 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:03Z DEBUG tokio_postgres::prepare] preparing query s527: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:03Z DEBUG tokio_postgres::query] executing statement s527 with parameters: []
[2022-04-01T21:28:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:03Z DEBUG tokio_postgres::prepare] preparing query s528: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:03Z DEBUG tokio_postgres::query] executing statement s528 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:03Z DEBUG tokio_postgres::prepare] preparing query s529: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:03Z DEBUG tokio_postgres::query] executing statement s529 with parameters: []
[2022-04-01T21:28:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:04Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:04Z DEBUG tokio_postgres::prepare] preparing query s530: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:04Z DEBUG tokio_postgres::query] executing statement s530 with parameters: []
[2022-04-01T21:28:04Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848482.205644, Skytable = 1648848482.205644
[2022-04-01T21:28:04Z DEBUG tokio_postgres::prepare] preparing query s531: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:04Z DEBUG tokio_postgres::query] executing statement s531 with parameters: []
[2022-04-01T21:28:04Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848484.290229, Skytable = 1648848484.290229
[2022-04-01T21:28:04Z DEBUG tokio_postgres::prepare] preparing query s532: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:04Z DEBUG tokio_postgres::query] executing statement s532 with parameters: []
[2022-04-01T21:28:04Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:04Z DEBUG tokio_postgres::prepare] preparing query s533: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:04Z DEBUG tokio_postgres::query] executing statement s533 with parameters: []
[2022-04-01T21:28:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:04Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:04Z DEBUG tokio_postgres::prepare] preparing query s534: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:04Z DEBUG tokio_postgres::query] executing statement s534 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:04Z DEBUG tokio_postgres::prepare] preparing query s535: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:04Z DEBUG tokio_postgres::query] executing statement s535 with parameters: []
[2022-04-01T21:28:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:04Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:28:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65457]
[2022-04-01T21:28:05Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:05Z DEBUG tokio_postgres::prepare] preparing query s536: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:05Z DEBUG tokio_postgres::query] executing statement s536 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:05Z DEBUG tokio_postgres::prepare] preparing query s537: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:05Z DEBUG tokio_postgres::query] executing statement s537 with parameters: []
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:05Z DEBUG tokio_postgres::prepare] preparing query s538: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:05Z DEBUG tokio_postgres::query] executing statement s538 with parameters: [0]
[2022-04-01T21:28:05Z DEBUG tokio_postgres::prepare] preparing query s539: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:05Z DEBUG tokio_postgres::query] executing statement s539 with parameters: []
[2022-04-01T21:28:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:06Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:06Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:06Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:06Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:06Z DEBUG tokio_postgres::prepare] preparing query s540: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:06Z DEBUG tokio_postgres::query] executing statement s540 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:06Z DEBUG tokio_postgres::prepare] preparing query s541: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:06Z DEBUG tokio_postgres::query] executing statement s541 with parameters: []
[2022-04-01T21:28:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:06Z DEBUG tokio_postgres::prepare] preparing query s542: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:06Z DEBUG tokio_postgres::query] executing statement s542 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:06Z DEBUG tokio_postgres::prepare] preparing query s543: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:06Z DEBUG tokio_postgres::query] executing statement s543 with parameters: []
[2022-04-01T21:28:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:07Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:07Z DEBUG tokio_postgres::prepare] preparing query s544: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:07Z DEBUG tokio_postgres::query] executing statement s544 with parameters: []
[2022-04-01T21:28:07Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848485.368144, Skytable = 1648848485.368144
[2022-04-01T21:28:07Z DEBUG tokio_postgres::prepare] preparing query s545: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:07Z DEBUG tokio_postgres::query] executing statement s545 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:07Z DEBUG tokio_postgres::prepare] preparing query s546: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:07Z DEBUG tokio_postgres::query] executing statement s546 with parameters: []
[2022-04-01T21:28:07Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848487.332897, Skytable = 1648848487.332897
[2022-04-01T21:28:07Z DEBUG tokio_postgres::prepare] preparing query s547: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:07Z DEBUG tokio_postgres::query] executing statement s547 with parameters: []
[2022-04-01T21:28:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:07Z DEBUG tokio_postgres::prepare] preparing query s548: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:07Z DEBUG tokio_postgres::query] executing statement s548 with parameters: []
[2022-04-01T21:28:07Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:07Z DEBUG tokio_postgres::prepare] preparing query s549: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:07Z DEBUG tokio_postgres::query] executing statement s549 with parameters: []
[2022-04-01T21:28:07Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:07Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:28:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65465]
[2022-04-01T21:28:08Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:08Z DEBUG tokio_postgres::prepare] preparing query s550: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:08Z DEBUG tokio_postgres::query] executing statement s550 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:08Z DEBUG tokio_postgres::prepare] preparing query s551: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:08Z DEBUG tokio_postgres::query] executing statement s551 with parameters: []
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:08Z DEBUG tokio_postgres::prepare] preparing query s552: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:08Z DEBUG tokio_postgres::query] executing statement s552 with parameters: [0]
[2022-04-01T21:28:08Z DEBUG tokio_postgres::prepare] preparing query s553: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:08Z DEBUG tokio_postgres::query] executing statement s553 with parameters: []
[2022-04-01T21:28:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:09Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:09Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:09Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:09Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:09Z DEBUG tokio_postgres::prepare] preparing query s554: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:09Z DEBUG tokio_postgres::query] executing statement s554 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:09Z DEBUG tokio_postgres::prepare] preparing query s555: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:09Z DEBUG tokio_postgres::query] executing statement s555 with parameters: []
[2022-04-01T21:28:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:09Z DEBUG tokio_postgres::prepare] preparing query s556: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:09Z DEBUG tokio_postgres::query] executing statement s556 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:09Z DEBUG tokio_postgres::prepare] preparing query s557: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:09Z DEBUG tokio_postgres::query] executing statement s557 with parameters: []
[2022-04-01T21:28:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:10Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:10Z DEBUG tokio_postgres::prepare] preparing query s558: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:10Z DEBUG tokio_postgres::query] executing statement s558 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:10Z DEBUG tokio_postgres::prepare] preparing query s559: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:10Z DEBUG tokio_postgres::query] executing statement s559 with parameters: []
[2022-04-01T21:28:10Z DEBUG tokio_postgres::prepare] preparing query s560: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:10Z DEBUG tokio_postgres::query] executing statement s560 with parameters: []
[2022-04-01T21:28:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:10Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848488.503814, Skytable = 1648848488.503814
[2022-04-01T21:28:10Z DEBUG tokio_postgres::prepare] preparing query s561: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:10Z DEBUG tokio_postgres::query] executing statement s561 with parameters: []
[2022-04-01T21:28:10Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848490.36022, Skytable = 1648848490.36022
[2022-04-01T21:28:10Z DEBUG tokio_postgres::prepare] preparing query s562: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:10Z DEBUG tokio_postgres::query] executing statement s562 with parameters: []
[2022-04-01T21:28:10Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:10Z DEBUG tokio_postgres::prepare] preparing query s563: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:10Z DEBUG tokio_postgres::query] executing statement s563 with parameters: []
[2022-04-01T21:28:10Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:10Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65451]
[2022-04-01T21:28:11Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:11Z DEBUG tokio_postgres::prepare] preparing query s564: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:11Z DEBUG tokio_postgres::query] executing statement s564 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:11Z DEBUG tokio_postgres::prepare] preparing query s565: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:11Z DEBUG tokio_postgres::query] executing statement s565 with parameters: []
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:11Z DEBUG tokio_postgres::prepare] preparing query s566: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:11Z DEBUG tokio_postgres::query] executing statement s566 with parameters: [0]
[2022-04-01T21:28:11Z DEBUG tokio_postgres::prepare] preparing query s567: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:11Z DEBUG tokio_postgres::query] executing statement s567 with parameters: []
[2022-04-01T21:28:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:12Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:12Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:12Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:12Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:12Z DEBUG tokio_postgres::prepare] preparing query s568: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:12Z DEBUG tokio_postgres::query] executing statement s568 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:12Z DEBUG tokio_postgres::prepare] preparing query s569: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:12Z DEBUG tokio_postgres::query] executing statement s569 with parameters: []
[2022-04-01T21:28:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:12Z DEBUG tokio_postgres::prepare] preparing query s570: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:12Z DEBUG tokio_postgres::query] executing statement s570 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:12Z DEBUG tokio_postgres::prepare] preparing query s571: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:12Z DEBUG tokio_postgres::query] executing statement s571 with parameters: []
[2022-04-01T21:28:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:13Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:13Z DEBUG tokio_postgres::prepare] preparing query s572: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:13Z DEBUG tokio_postgres::query] executing statement s572 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:13Z DEBUG tokio_postgres::prepare] preparing query s573: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:13Z DEBUG tokio_postgres::prepare] preparing query s574: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:13Z DEBUG tokio_postgres::query] executing statement s573 with parameters: []
[2022-04-01T21:28:13Z DEBUG tokio_postgres::query] executing statement s574 with parameters: []
[2022-04-01T21:28:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:13Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848491.645401, Skytable = 1648848491.645401
[2022-04-01T21:28:13Z DEBUG tokio_postgres::prepare] preparing query s575: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:13Z DEBUG tokio_postgres::query] executing statement s575 with parameters: []
[2022-04-01T21:28:13Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848493.392249, Skytable = 1648848493.392249
[2022-04-01T21:28:13Z DEBUG tokio_postgres::prepare] preparing query s576: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:13Z DEBUG tokio_postgres::query] executing statement s576 with parameters: []
[2022-04-01T21:28:13Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:13Z DEBUG tokio_postgres::prepare] preparing query s577: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:13Z DEBUG tokio_postgres::query] executing statement s577 with parameters: []
[2022-04-01T21:28:13Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:14Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [15]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65462]
[2022-04-01T21:28:14Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:14Z DEBUG tokio_postgres::prepare] preparing query s578: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:14Z DEBUG tokio_postgres::query] executing statement s578 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:14Z DEBUG tokio_postgres::prepare] preparing query s579: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:14Z DEBUG tokio_postgres::query] executing statement s579 with parameters: []
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:14Z DEBUG tokio_postgres::prepare] preparing query s580: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:14Z DEBUG tokio_postgres::query] executing statement s580 with parameters: [0]
[2022-04-01T21:28:14Z DEBUG tokio_postgres::prepare] preparing query s581: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:14Z DEBUG tokio_postgres::query] executing statement s581 with parameters: []
[2022-04-01T21:28:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:15Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:15Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:15Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:15Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:15Z DEBUG tokio_postgres::prepare] preparing query s582: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:15Z DEBUG tokio_postgres::query] executing statement s582 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:15Z DEBUG tokio_postgres::prepare] preparing query s583: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:15Z DEBUG tokio_postgres::query] executing statement s583 with parameters: []
[2022-04-01T21:28:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:15Z DEBUG tokio_postgres::prepare] preparing query s584: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:15Z DEBUG tokio_postgres::query] executing statement s584 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:15Z DEBUG tokio_postgres::prepare] preparing query s585: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:15Z DEBUG tokio_postgres::query] executing statement s585 with parameters: []
[2022-04-01T21:28:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:16Z DEBUG tokio_postgres::prepare] preparing query s586: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:16Z DEBUG tokio_postgres::query] executing statement s586 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:16Z DEBUG tokio_postgres::prepare] preparing query s587: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:16Z DEBUG tokio_postgres::query] executing statement s587 with parameters: []
[2022-04-01T21:28:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:16Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:16Z DEBUG tokio_postgres::prepare] preparing query s588: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:16Z DEBUG tokio_postgres::query] executing statement s588 with parameters: []
[2022-04-01T21:28:16Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848494.798449, Skytable = 1648848494.798449
[2022-04-01T21:28:16Z DEBUG tokio_postgres::prepare] preparing query s589: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:16Z DEBUG tokio_postgres::query] executing statement s589 with parameters: []
[2022-04-01T21:28:16Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848496.449604, Skytable = 1648848496.449604
[2022-04-01T21:28:16Z DEBUG tokio_postgres::prepare] preparing query s590: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:16Z DEBUG tokio_postgres::query] executing statement s590 with parameters: []
[2022-04-01T21:28:16Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:16Z DEBUG tokio_postgres::prepare] preparing query s591: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:16Z DEBUG tokio_postgres::query] executing statement s591 with parameters: []
[2022-04-01T21:28:16Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:17Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65456]
[2022-04-01T21:28:17Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s592: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s592 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s593: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s593 with parameters: []
[2022-04-01T21:28:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s594: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s594 with parameters: [0]
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s595: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s595 with parameters: []
[2022-04-01T21:28:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:18Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:18Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:18Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:18Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s596: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s596 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s597: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s597 with parameters: []
[2022-04-01T21:28:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s598: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s598 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:18Z DEBUG tokio_postgres::prepare] preparing query s599: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:18Z DEBUG tokio_postgres::query] executing statement s599 with parameters: []
[2022-04-01T21:28:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:19Z DEBUG tokio_postgres::prepare] preparing query s600: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:19Z DEBUG tokio_postgres::query] executing statement s600 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:19Z DEBUG tokio_postgres::prepare] preparing query s601: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:19Z DEBUG tokio_postgres::query] executing statement s601 with parameters: []
[2022-04-01T21:28:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:19Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:19Z DEBUG tokio_postgres::prepare] preparing query s602: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:19Z DEBUG tokio_postgres::query] executing statement s602 with parameters: []
[2022-04-01T21:28:19Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848498.046772, Skytable = 1648848498.046772
[2022-04-01T21:28:19Z DEBUG tokio_postgres::prepare] preparing query s603: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:19Z DEBUG tokio_postgres::query] executing statement s603 with parameters: []
[2022-04-01T21:28:19Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848499.506536, Skytable = 1648848499.506536
[2022-04-01T21:28:19Z DEBUG tokio_postgres::prepare] preparing query s604: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:19Z DEBUG tokio_postgres::query] executing statement s604 with parameters: []
[2022-04-01T21:28:19Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:19Z DEBUG tokio_postgres::prepare] preparing query s605: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:19Z DEBUG tokio_postgres::query] executing statement s605 with parameters: []
[2022-04-01T21:28:19Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:20Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:28:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65476]
[2022-04-01T21:28:21Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s606: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s606 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s607: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s607 with parameters: []
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s608: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s608 with parameters: [0]
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s609: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s609 with parameters: []
[2022-04-01T21:28:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:21Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:21Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:21Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:21Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s610: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s610 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s611: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s611 with parameters: []
[2022-04-01T21:28:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s612: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s612 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:21Z DEBUG tokio_postgres::prepare] preparing query s613: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:21Z DEBUG tokio_postgres::query] executing statement s613 with parameters: []
[2022-04-01T21:28:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:22Z DEBUG tokio_postgres::prepare] preparing query s614: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:22Z DEBUG tokio_postgres::query] executing statement s614 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:22Z DEBUG tokio_postgres::prepare] preparing query s615: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:22Z DEBUG tokio_postgres::query] executing statement s615 with parameters: []
[2022-04-01T21:28:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:22Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:22Z DEBUG tokio_postgres::prepare] preparing query s616: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:22Z DEBUG tokio_postgres::query] executing statement s616 with parameters: []
[2022-04-01T21:28:22Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848501.19004, Skytable = 1648848501.19004
[2022-04-01T21:28:22Z DEBUG tokio_postgres::prepare] preparing query s617: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:22Z DEBUG tokio_postgres::query] executing statement s617 with parameters: []
[2022-04-01T21:28:22Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848502.564089, Skytable = 1648848502.564089
[2022-04-01T21:28:22Z DEBUG tokio_postgres::prepare] preparing query s618: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:22Z DEBUG tokio_postgres::query] executing statement s618 with parameters: []
[2022-04-01T21:28:22Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:22Z DEBUG tokio_postgres::prepare] preparing query s619: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:22Z DEBUG tokio_postgres::query] executing statement s619 with parameters: []
[2022-04-01T21:28:22Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:23Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:28:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:28:24Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: []
[2022-04-01T21:28:24Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:24Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:24Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:24Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:24Z DEBUG tokio_postgres::prepare] preparing query s620: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:24Z DEBUG tokio_postgres::query] executing statement s620 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:24Z DEBUG tokio_postgres::prepare] preparing query s621: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:24Z DEBUG tokio_postgres::query] executing statement s621 with parameters: []
[2022-04-01T21:28:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:24Z DEBUG tokio_postgres::prepare] preparing query s622: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:24Z DEBUG tokio_postgres::query] executing statement s622 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:24Z DEBUG tokio_postgres::prepare] preparing query s623: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:24Z DEBUG tokio_postgres::query] executing statement s623 with parameters: []
[2022-04-01T21:28:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: []
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:28:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:25Z DEBUG tokio_postgres::prepare] preparing query s624: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:25Z DEBUG tokio_postgres::query] executing statement s624 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:25Z DEBUG tokio_postgres::prepare] preparing query s625: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:25Z DEBUG tokio_postgres::query] executing statement s625 with parameters: []
[2022-04-01T21:28:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:25Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:25Z DEBUG tokio_postgres::prepare] preparing query s626: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:25Z DEBUG tokio_postgres::query] executing statement s626 with parameters: []
[2022-04-01T21:28:25Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848501.19004, Skytable = 1648848501.19004
[2022-04-01T21:28:25Z DEBUG tokio_postgres::prepare] preparing query s627: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:25Z DEBUG tokio_postgres::query] executing statement s627 with parameters: []
[2022-04-01T21:28:25Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848505.621662, Skytable = 1648848505.621662
[2022-04-01T21:28:25Z DEBUG tokio_postgres::prepare] preparing query s628: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:25Z DEBUG tokio_postgres::query] executing statement s628 with parameters: []
[2022-04-01T21:28:25Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:25Z DEBUG tokio_postgres::prepare] preparing query s629: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:25Z DEBUG tokio_postgres::query] executing statement s629 with parameters: []
[2022-04-01T21:28:25Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:26Z DEBUG tokio_postgres::prepare] preparing query s630: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:26Z DEBUG tokio_postgres::query] executing statement s630 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:26Z DEBUG tokio_postgres::prepare] preparing query s631: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:26Z DEBUG tokio_postgres::query] executing statement s631 with parameters: []
[2022-04-01T21:28:26Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:26Z DEBUG tokio_postgres::prepare] preparing query s632: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:26Z DEBUG tokio_postgres::query] executing statement s632 with parameters: [0]
[2022-04-01T21:28:26Z DEBUG tokio_postgres::prepare] preparing query s633: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:26Z DEBUG tokio_postgres::query] executing statement s633 with parameters: []
[2022-04-01T21:28:26Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:27Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:27Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:27Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:27Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:27Z DEBUG tokio_postgres::prepare] preparing query s634: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:27Z DEBUG tokio_postgres::query] executing statement s634 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:27Z DEBUG tokio_postgres::prepare] preparing query s635: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:27Z DEBUG tokio_postgres::query] executing statement s635 with parameters: []
[2022-04-01T21:28:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:27Z DEBUG tokio_postgres::prepare] preparing query s636: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:27Z DEBUG tokio_postgres::query] executing statement s636 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:27Z DEBUG tokio_postgres::prepare] preparing query s637: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:27Z DEBUG tokio_postgres::query] executing statement s637 with parameters: []
[2022-04-01T21:28:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:28Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:28Z DEBUG tokio_postgres::prepare] preparing query s638: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:28Z DEBUG tokio_postgres::query] executing statement s638 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:28Z DEBUG tokio_postgres::prepare] preparing query s639: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:28Z DEBUG tokio_postgres::query] executing statement s639 with parameters: []
[2022-04-01T21:28:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:28Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:28Z DEBUG tokio_postgres::prepare] preparing query s640: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:28Z DEBUG tokio_postgres::query] executing statement s640 with parameters: []
[2022-04-01T21:28:28Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848506.029902, Skytable = 1648848506.029902
[2022-04-01T21:28:28Z DEBUG tokio_postgres::prepare] preparing query s641: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:28Z DEBUG tokio_postgres::query] executing statement s641 with parameters: []
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: []
[2022-04-01T21:28:28Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848508.679494, Skytable = 1648848508.679494
[2022-04-01T21:28:28Z DEBUG tokio_postgres::prepare] preparing query s642: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:28Z DEBUG tokio_postgres::query] executing statement s642 with parameters: []
[2022-04-01T21:28:28Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:28Z DEBUG tokio_postgres::prepare] preparing query s643: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:28Z DEBUG tokio_postgres::query] executing statement s643 with parameters: []
[2022-04-01T21:28:28Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:28:29Z DEBUG tokio_postgres::prepare] preparing query s644: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:29Z DEBUG tokio_postgres::query] executing statement s644 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:29Z DEBUG tokio_postgres::prepare] preparing query s645: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:29Z DEBUG tokio_postgres::query] executing statement s645 with parameters: []
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:29Z DEBUG tokio_postgres::prepare] preparing query s646: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:29Z DEBUG tokio_postgres::query] executing statement s646 with parameters: [0]
[2022-04-01T21:28:29Z DEBUG tokio_postgres::prepare] preparing query s647: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:29Z DEBUG tokio_postgres::query] executing statement s647 with parameters: []
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [19]
[2022-04-01T21:28:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:28:30Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:30Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:30Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:30Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:30Z DEBUG tokio_postgres::prepare] preparing query s648: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:30Z DEBUG tokio_postgres::query] executing statement s648 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:30Z DEBUG tokio_postgres::prepare] preparing query s649: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:30Z DEBUG tokio_postgres::query] executing statement s649 with parameters: []
[2022-04-01T21:28:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:30Z DEBUG tokio_postgres::prepare] preparing query s650: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:30Z DEBUG tokio_postgres::query] executing statement s650 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:30Z DEBUG tokio_postgres::prepare] preparing query s651: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:30Z DEBUG tokio_postgres::query] executing statement s651 with parameters: []
[2022-04-01T21:28:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:31Z DEBUG tokio_postgres::prepare] preparing query s652: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:31Z DEBUG tokio_postgres::query] executing statement s652 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:31Z DEBUG tokio_postgres::prepare] preparing query s653: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:31Z DEBUG tokio_postgres::query] executing statement s653 with parameters: []
[2022-04-01T21:28:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:31Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:31Z DEBUG tokio_postgres::prepare] preparing query s654: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:31Z DEBUG tokio_postgres::query] executing statement s654 with parameters: []
[2022-04-01T21:28:31Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848509.18212, Skytable = 1648848509.18212
[2022-04-01T21:28:31Z DEBUG tokio_postgres::prepare] preparing query s655: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:31Z DEBUG tokio_postgres::query] executing statement s655 with parameters: []
[2022-04-01T21:28:31Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848511.737179, Skytable = 1648848511.737179
[2022-04-01T21:28:31Z DEBUG tokio_postgres::prepare] preparing query s656: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:31Z DEBUG tokio_postgres::query] executing statement s656 with parameters: []
[2022-04-01T21:28:31Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:31Z DEBUG tokio_postgres::prepare] preparing query s657: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:31Z DEBUG tokio_postgres::query] executing statement s657 with parameters: []
[2022-04-01T21:28:31Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:32Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:32Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:32Z DEBUG tokio_postgres::prepare] preparing query s658: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:32Z DEBUG tokio_postgres::query] executing statement s658 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:32Z DEBUG tokio_postgres::prepare] preparing query s659: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:32Z DEBUG tokio_postgres::query] executing statement s659 with parameters: []
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:32Z DEBUG tokio_postgres::prepare] preparing query s660: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:32Z DEBUG tokio_postgres::query] executing statement s660 with parameters: [0]
[2022-04-01T21:28:32Z DEBUG tokio_postgres::prepare] preparing query s661: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:32Z DEBUG tokio_postgres::query] executing statement s661 with parameters: []
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:28:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65482]
[2022-04-01T21:28:33Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:33Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:33Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:33Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:33Z DEBUG tokio_postgres::prepare] preparing query s662: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:33Z DEBUG tokio_postgres::query] executing statement s662 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:33Z DEBUG tokio_postgres::prepare] preparing query s663: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:33Z DEBUG tokio_postgres::query] executing statement s663 with parameters: []
[2022-04-01T21:28:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:33Z DEBUG tokio_postgres::prepare] preparing query s664: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:33Z DEBUG tokio_postgres::query] executing statement s664 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:33Z DEBUG tokio_postgres::prepare] preparing query s665: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:33Z DEBUG tokio_postgres::query] executing statement s665 with parameters: []
[2022-04-01T21:28:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:34Z DEBUG tokio_postgres::prepare] preparing query s666: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:34Z DEBUG tokio_postgres::query] executing statement s666 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:34Z DEBUG tokio_postgres::prepare] preparing query s667: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:34Z DEBUG tokio_postgres::query] executing statement s667 with parameters: []
[2022-04-01T21:28:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:34Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:34Z DEBUG tokio_postgres::prepare] preparing query s668: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:34Z DEBUG tokio_postgres::query] executing statement s668 with parameters: []
[2022-04-01T21:28:34Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848512.335081, Skytable = 1648848512.335081
[2022-04-01T21:28:34Z DEBUG tokio_postgres::prepare] preparing query s669: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:34Z DEBUG tokio_postgres::query] executing statement s669 with parameters: []
[2022-04-01T21:28:34Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848514.794177, Skytable = 1648848514.794177
[2022-04-01T21:28:34Z DEBUG tokio_postgres::prepare] preparing query s670: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:34Z DEBUG tokio_postgres::query] executing statement s670 with parameters: []
[2022-04-01T21:28:34Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:34Z DEBUG tokio_postgres::prepare] preparing query s671: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:34Z DEBUG tokio_postgres::query] executing statement s671 with parameters: []
[2022-04-01T21:28:34Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:35Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:35Z DEBUG tokio_postgres::prepare] preparing query s672: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:35Z DEBUG tokio_postgres::query] executing statement s672 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:35Z DEBUG tokio_postgres::prepare] preparing query s673: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:35Z DEBUG tokio_postgres::query] executing statement s673 with parameters: []
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:35Z DEBUG tokio_postgres::prepare] preparing query s674: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:35Z DEBUG tokio_postgres::query] executing statement s674 with parameters: [0]
[2022-04-01T21:28:35Z DEBUG tokio_postgres::prepare] preparing query s675: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:35Z DEBUG tokio_postgres::query] executing statement s675 with parameters: []
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:28:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65474]
[2022-04-01T21:28:36Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:36Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:36Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:36Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:36Z DEBUG tokio_postgres::prepare] preparing query s676: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:36Z DEBUG tokio_postgres::query] executing statement s676 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:36Z DEBUG tokio_postgres::prepare] preparing query s677: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:36Z DEBUG tokio_postgres::query] executing statement s677 with parameters: []
[2022-04-01T21:28:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:36Z DEBUG tokio_postgres::prepare] preparing query s678: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:36Z DEBUG tokio_postgres::query] executing statement s678 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:36Z DEBUG tokio_postgres::prepare] preparing query s679: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:36Z DEBUG tokio_postgres::query] executing statement s679 with parameters: []
[2022-04-01T21:28:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:37Z DEBUG tokio_postgres::prepare] preparing query s680: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:37Z DEBUG tokio_postgres::query] executing statement s680 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:37Z DEBUG tokio_postgres::prepare] preparing query s681: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:37Z DEBUG tokio_postgres::query] executing statement s681 with parameters: []
[2022-04-01T21:28:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:37Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:37Z DEBUG tokio_postgres::prepare] preparing query s682: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:37Z DEBUG tokio_postgres::query] executing statement s682 with parameters: []
[2022-04-01T21:28:37Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848515.494283, Skytable = 1648848515.494283
[2022-04-01T21:28:37Z DEBUG tokio_postgres::prepare] preparing query s683: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:37Z DEBUG tokio_postgres::query] executing statement s683 with parameters: []
[2022-04-01T21:28:37Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848517.841767, Skytable = 1648848517.841767
[2022-04-01T21:28:37Z DEBUG tokio_postgres::prepare] preparing query s684: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:37Z DEBUG tokio_postgres::query] executing statement s684 with parameters: []
[2022-04-01T21:28:37Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:37Z DEBUG tokio_postgres::prepare] preparing query s685: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:37Z DEBUG tokio_postgres::query] executing statement s685 with parameters: []
[2022-04-01T21:28:37Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:38Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:38Z DEBUG tokio_postgres::prepare] preparing query s686: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:38Z DEBUG tokio_postgres::query] executing statement s686 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:38Z DEBUG tokio_postgres::prepare] preparing query s687: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:38Z DEBUG tokio_postgres::query] executing statement s687 with parameters: []
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:38Z DEBUG tokio_postgres::prepare] preparing query s688: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:38Z DEBUG tokio_postgres::query] executing statement s688 with parameters: [0]
[2022-04-01T21:28:38Z DEBUG tokio_postgres::prepare] preparing query s689: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:38Z DEBUG tokio_postgres::query] executing statement s689 with parameters: []
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:38Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:28:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65487]
[2022-04-01T21:28:39Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:39Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:39Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:39Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:39Z DEBUG tokio_postgres::prepare] preparing query s690: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:39Z DEBUG tokio_postgres::query] executing statement s690 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:39Z DEBUG tokio_postgres::prepare] preparing query s691: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:39Z DEBUG tokio_postgres::query] executing statement s691 with parameters: []
[2022-04-01T21:28:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:39Z DEBUG tokio_postgres::prepare] preparing query s692: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:39Z DEBUG tokio_postgres::query] executing statement s692 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:39Z DEBUG tokio_postgres::prepare] preparing query s693: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:39Z DEBUG tokio_postgres::query] executing statement s693 with parameters: []
[2022-04-01T21:28:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:40Z DEBUG tokio_postgres::prepare] preparing query s694: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:40Z DEBUG tokio_postgres::query] executing statement s694 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:40Z DEBUG tokio_postgres::prepare] preparing query s695: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:40Z DEBUG tokio_postgres::query] executing statement s695 with parameters: []
[2022-04-01T21:28:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:40Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:40Z DEBUG tokio_postgres::prepare] preparing query s696: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:40Z DEBUG tokio_postgres::query] executing statement s696 with parameters: []
[2022-04-01T21:28:40Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848518.642063, Skytable = 1648848518.642063
[2022-04-01T21:28:40Z DEBUG tokio_postgres::prepare] preparing query s697: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:40Z DEBUG tokio_postgres::query] executing statement s697 with parameters: []
[2022-04-01T21:28:40Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848520.874203, Skytable = 1648848520.874203
[2022-04-01T21:28:40Z DEBUG tokio_postgres::prepare] preparing query s698: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:40Z DEBUG tokio_postgres::query] executing statement s698 with parameters: []
[2022-04-01T21:28:40Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:40Z DEBUG tokio_postgres::prepare] preparing query s699: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:40Z DEBUG tokio_postgres::query] executing statement s699 with parameters: []
[2022-04-01T21:28:40Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:41Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:41Z DEBUG tokio_postgres::prepare] preparing query s700: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:41Z DEBUG tokio_postgres::query] executing statement s700 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:41Z DEBUG tokio_postgres::prepare] preparing query s701: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:41Z DEBUG tokio_postgres::query] executing statement s701 with parameters: []
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:41Z DEBUG tokio_postgres::prepare] preparing query s702: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:41Z DEBUG tokio_postgres::query] executing statement s702 with parameters: [0]
[2022-04-01T21:28:41Z DEBUG tokio_postgres::prepare] preparing query s703: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:41Z DEBUG tokio_postgres::query] executing statement s703 with parameters: []
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:41Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [15]
[2022-04-01T21:28:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65444]
[2022-04-01T21:28:42Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:42Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:42Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:42Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:42Z DEBUG tokio_postgres::prepare] preparing query s704: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:42Z DEBUG tokio_postgres::query] executing statement s704 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:42Z DEBUG tokio_postgres::prepare] preparing query s705: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:42Z DEBUG tokio_postgres::query] executing statement s705 with parameters: []
[2022-04-01T21:28:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:42Z DEBUG tokio_postgres::prepare] preparing query s706: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:42Z DEBUG tokio_postgres::query] executing statement s706 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:42Z DEBUG tokio_postgres::prepare] preparing query s707: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:42Z DEBUG tokio_postgres::query] executing statement s707 with parameters: []
[2022-04-01T21:28:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:43Z DEBUG tokio_postgres::prepare] preparing query s708: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:43Z DEBUG tokio_postgres::query] executing statement s708 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:43Z DEBUG tokio_postgres::prepare] preparing query s709: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:43Z DEBUG tokio_postgres::query] executing statement s709 with parameters: []
[2022-04-01T21:28:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:43Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:43Z DEBUG tokio_postgres::prepare] preparing query s710: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:43Z DEBUG tokio_postgres::query] executing statement s710 with parameters: []
[2022-04-01T21:28:43Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848521.804201, Skytable = 1648848521.804201
[2022-04-01T21:28:43Z DEBUG tokio_postgres::prepare] preparing query s711: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:43Z DEBUG tokio_postgres::query] executing statement s711 with parameters: []
[2022-04-01T21:28:43Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848523.931841, Skytable = 1648848523.931841
[2022-04-01T21:28:43Z DEBUG tokio_postgres::prepare] preparing query s712: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:43Z DEBUG tokio_postgres::query] executing statement s712 with parameters: []
[2022-04-01T21:28:43Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:43Z DEBUG tokio_postgres::prepare] preparing query s713: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:43Z DEBUG tokio_postgres::query] executing statement s713 with parameters: []
[2022-04-01T21:28:43Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:44Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:44Z DEBUG tokio_postgres::prepare] preparing query s714: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:44Z DEBUG tokio_postgres::query] executing statement s714 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:44Z DEBUG tokio_postgres::prepare] preparing query s715: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:44Z DEBUG tokio_postgres::query] executing statement s715 with parameters: []
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:44Z DEBUG tokio_postgres::prepare] preparing query s716: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:44Z DEBUG tokio_postgres::query] executing statement s716 with parameters: [0]
[2022-04-01T21:28:44Z DEBUG tokio_postgres::prepare] preparing query s717: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:44Z DEBUG tokio_postgres::query] executing statement s717 with parameters: []
[2022-04-01T21:28:44Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:45Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:28:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65442]
[2022-04-01T21:28:45Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:46Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:46Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:46Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s718: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s718 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s719: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s719 with parameters: []
[2022-04-01T21:28:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s720: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s720 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s721: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s721 with parameters: []
[2022-04-01T21:28:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s722: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s722 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s723: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s723 with parameters: []
[2022-04-01T21:28:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:46Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s724: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s724 with parameters: []
[2022-04-01T21:28:46Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848524.97399, Skytable = 1648848524.97399
[2022-04-01T21:28:46Z DEBUG tokio_postgres::prepare] preparing query s725: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:46Z DEBUG tokio_postgres::query] executing statement s725 with parameters: []
[2022-04-01T21:28:46Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848526.99014, Skytable = 1648848526.99014
[2022-04-01T21:28:47Z DEBUG tokio_postgres::prepare] preparing query s726: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:47Z DEBUG tokio_postgres::query] executing statement s726 with parameters: []
[2022-04-01T21:28:47Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:47Z DEBUG tokio_postgres::prepare] preparing query s727: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:47Z DEBUG tokio_postgres::query] executing statement s727 with parameters: []
[2022-04-01T21:28:47Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:47Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:48Z DEBUG tokio_postgres::prepare] preparing query s728: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:48Z DEBUG tokio_postgres::query] executing statement s728 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:48Z DEBUG tokio_postgres::prepare] preparing query s729: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:48Z DEBUG tokio_postgres::query] executing statement s729 with parameters: []
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:48Z DEBUG tokio_postgres::prepare] preparing query s730: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:48Z DEBUG tokio_postgres::query] executing statement s730 with parameters: [0]
[2022-04-01T21:28:48Z DEBUG tokio_postgres::prepare] preparing query s731: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:48Z DEBUG tokio_postgres::query] executing statement s731 with parameters: []
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:48Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [21]
[2022-04-01T21:28:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65479]
[2022-04-01T21:28:49Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:49Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:49Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:49Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:49Z DEBUG tokio_postgres::prepare] preparing query s732: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:49Z DEBUG tokio_postgres::query] executing statement s732 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:49Z DEBUG tokio_postgres::prepare] preparing query s733: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:49Z DEBUG tokio_postgres::query] executing statement s733 with parameters: []
[2022-04-01T21:28:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:49Z DEBUG tokio_postgres::prepare] preparing query s734: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:49Z DEBUG tokio_postgres::query] executing statement s734 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:49Z DEBUG tokio_postgres::prepare] preparing query s735: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:49Z DEBUG tokio_postgres::query] executing statement s735 with parameters: []
[2022-04-01T21:28:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:49Z DEBUG tokio_postgres::prepare] preparing query s736: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:49Z DEBUG tokio_postgres::query] executing statement s736 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:49Z DEBUG tokio_postgres::prepare] preparing query s737: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:49Z DEBUG tokio_postgres::query] executing statement s737 with parameters: []
[2022-04-01T21:28:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:50Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:50Z DEBUG tokio_postgres::prepare] preparing query s738: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:50Z DEBUG tokio_postgres::query] executing statement s738 with parameters: []
[2022-04-01T21:28:50Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848528.122074, Skytable = 1648848528.122074
[2022-04-01T21:28:50Z DEBUG tokio_postgres::prepare] preparing query s739: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:50Z DEBUG tokio_postgres::query] executing statement s739 with parameters: []
[2022-04-01T21:28:50Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848530.050803, Skytable = 1648848530.050803
[2022-04-01T21:28:50Z DEBUG tokio_postgres::prepare] preparing query s740: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:50Z DEBUG tokio_postgres::query] executing statement s740 with parameters: []
[2022-04-01T21:28:50Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:50Z DEBUG tokio_postgres::prepare] preparing query s741: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:50Z DEBUG tokio_postgres::query] executing statement s741 with parameters: []
[2022-04-01T21:28:50Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:51Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:51Z DEBUG tokio_postgres::prepare] preparing query s742: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:51Z DEBUG tokio_postgres::query] executing statement s742 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:51Z DEBUG tokio_postgres::prepare] preparing query s743: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:51Z DEBUG tokio_postgres::query] executing statement s743 with parameters: []
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:51Z DEBUG tokio_postgres::prepare] preparing query s744: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:51Z DEBUG tokio_postgres::query] executing statement s744 with parameters: [0]
[2022-04-01T21:28:51Z DEBUG tokio_postgres::prepare] preparing query s745: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:51Z DEBUG tokio_postgres::query] executing statement s745 with parameters: []
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:28:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65482]
[2022-04-01T21:28:52Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:52Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:52Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:52Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:52Z DEBUG tokio_postgres::prepare] preparing query s746: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:52Z DEBUG tokio_postgres::query] executing statement s746 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:52Z DEBUG tokio_postgres::prepare] preparing query s747: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:52Z DEBUG tokio_postgres::query] executing statement s747 with parameters: []
[2022-04-01T21:28:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:52Z DEBUG tokio_postgres::prepare] preparing query s748: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:52Z DEBUG tokio_postgres::query] executing statement s748 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:52Z DEBUG tokio_postgres::prepare] preparing query s749: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:52Z DEBUG tokio_postgres::query] executing statement s749 with parameters: []
[2022-04-01T21:28:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:52Z DEBUG tokio_postgres::prepare] preparing query s750: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:52Z DEBUG tokio_postgres::query] executing statement s750 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:52Z DEBUG tokio_postgres::prepare] preparing query s751: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:52Z DEBUG tokio_postgres::query] executing statement s751 with parameters: []
[2022-04-01T21:28:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:53Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:53Z DEBUG tokio_postgres::prepare] preparing query s752: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:53Z DEBUG tokio_postgres::query] executing statement s752 with parameters: []
[2022-04-01T21:28:53Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848531.283709, Skytable = 1648848531.283709
[2022-04-01T21:28:53Z DEBUG tokio_postgres::prepare] preparing query s753: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:53Z DEBUG tokio_postgres::query] executing statement s753 with parameters: []
[2022-04-01T21:28:53Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848533.114425, Skytable = 1648848533.114425
[2022-04-01T21:28:53Z DEBUG tokio_postgres::prepare] preparing query s754: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:53Z DEBUG tokio_postgres::query] executing statement s754 with parameters: []
[2022-04-01T21:28:53Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:53Z DEBUG tokio_postgres::prepare] preparing query s755: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:53Z DEBUG tokio_postgres::query] executing statement s755 with parameters: []
[2022-04-01T21:28:53Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:54Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:54Z DEBUG tokio_postgres::prepare] preparing query s756: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:54Z DEBUG tokio_postgres::query] executing statement s756 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:54Z DEBUG tokio_postgres::prepare] preparing query s757: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:54Z DEBUG tokio_postgres::query] executing statement s757 with parameters: []
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:54Z DEBUG tokio_postgres::prepare] preparing query s758: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:54Z DEBUG tokio_postgres::query] executing statement s758 with parameters: [0]
[2022-04-01T21:28:54Z DEBUG tokio_postgres::prepare] preparing query s759: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:54Z DEBUG tokio_postgres::query] executing statement s759 with parameters: []
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:54Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:28:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65459]
[2022-04-01T21:28:55Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:55Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:55Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:55Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:55Z DEBUG tokio_postgres::prepare] preparing query s760: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:55Z DEBUG tokio_postgres::query] executing statement s760 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:55Z DEBUG tokio_postgres::prepare] preparing query s761: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:55Z DEBUG tokio_postgres::query] executing statement s761 with parameters: []
[2022-04-01T21:28:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:55Z DEBUG tokio_postgres::prepare] preparing query s762: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:55Z DEBUG tokio_postgres::query] executing statement s762 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:55Z DEBUG tokio_postgres::prepare] preparing query s763: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:55Z DEBUG tokio_postgres::query] executing statement s763 with parameters: []
[2022-04-01T21:28:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:55Z DEBUG tokio_postgres::prepare] preparing query s764: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:55Z DEBUG tokio_postgres::query] executing statement s764 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:55Z DEBUG tokio_postgres::prepare] preparing query s765: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:55Z DEBUG tokio_postgres::query] executing statement s765 with parameters: []
[2022-04-01T21:28:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:56Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:56Z DEBUG tokio_postgres::prepare] preparing query s766: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:56Z DEBUG tokio_postgres::query] executing statement s766 with parameters: []
[2022-04-01T21:28:56Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848534.450285, Skytable = 1648848534.450285
[2022-04-01T21:28:56Z DEBUG tokio_postgres::prepare] preparing query s767: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:56Z DEBUG tokio_postgres::query] executing statement s767 with parameters: []
[2022-04-01T21:28:56Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848536.171845, Skytable = 1648848536.171845
[2022-04-01T21:28:56Z DEBUG tokio_postgres::prepare] preparing query s768: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:56Z DEBUG tokio_postgres::query] executing statement s768 with parameters: []
[2022-04-01T21:28:56Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:56Z DEBUG tokio_postgres::prepare] preparing query s769: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:56Z DEBUG tokio_postgres::query] executing statement s769 with parameters: []
[2022-04-01T21:28:56Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:28:57Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:28:57Z DEBUG tokio_postgres::prepare] preparing query s770: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:28:57Z DEBUG tokio_postgres::query] executing statement s770 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:28:57Z DEBUG tokio_postgres::prepare] preparing query s771: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:57Z DEBUG tokio_postgres::query] executing statement s771 with parameters: []
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:28:57Z DEBUG tokio_postgres::prepare] preparing query s772: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:28:57Z DEBUG tokio_postgres::query] executing statement s772 with parameters: [0]
[2022-04-01T21:28:57Z DEBUG tokio_postgres::prepare] preparing query s773: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:57Z DEBUG tokio_postgres::query] executing statement s773 with parameters: []
[2022-04-01T21:28:57Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:28:58Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:28:58Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:28:58Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:28:58Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:28:58Z DEBUG tokio_postgres::prepare] preparing query s774: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:28:58Z DEBUG tokio_postgres::query] executing statement s774 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:58Z DEBUG tokio_postgres::prepare] preparing query s775: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:58Z DEBUG tokio_postgres::query] executing statement s775 with parameters: []
[2022-04-01T21:28:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:58Z DEBUG tokio_postgres::prepare] preparing query s776: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:58Z DEBUG tokio_postgres::query] executing statement s776 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:28:58Z DEBUG tokio_postgres::prepare] preparing query s777: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:58Z DEBUG tokio_postgres::query] executing statement s777 with parameters: []
[2022-04-01T21:28:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [14]
[2022-04-01T21:28:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65485]
[2022-04-01T21:28:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:28:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:28:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:28:58Z DEBUG tokio_postgres::prepare] preparing query s778: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:28:58Z DEBUG tokio_postgres::query] executing statement s778 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:28:58Z DEBUG tokio_postgres::prepare] preparing query s779: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:28:58Z DEBUG tokio_postgres::query] executing statement s779 with parameters: []
[2022-04-01T21:28:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:28:59Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:28:59Z DEBUG tokio_postgres::prepare] preparing query s780: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:59Z DEBUG tokio_postgres::query] executing statement s780 with parameters: []
[2022-04-01T21:28:59Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848537.591271, Skytable = 1648848537.591271
[2022-04-01T21:28:59Z DEBUG tokio_postgres::prepare] preparing query s781: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:28:59Z DEBUG tokio_postgres::query] executing statement s781 with parameters: []
[2022-04-01T21:28:59Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848539.229109, Skytable = 1648848539.229109
[2022-04-01T21:28:59Z DEBUG tokio_postgres::prepare] preparing query s782: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:59Z DEBUG tokio_postgres::query] executing statement s782 with parameters: []
[2022-04-01T21:28:59Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:28:59Z DEBUG tokio_postgres::prepare] preparing query s783: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:28:59Z DEBUG tokio_postgres::query] executing statement s783 with parameters: []
[2022-04-01T21:28:59Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:00Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:00Z DEBUG tokio_postgres::prepare] preparing query s784: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:00Z DEBUG tokio_postgres::query] executing statement s784 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:00Z DEBUG tokio_postgres::prepare] preparing query s785: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:00Z DEBUG tokio_postgres::query] executing statement s785 with parameters: []
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:00Z DEBUG tokio_postgres::prepare] preparing query s786: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:00Z DEBUG tokio_postgres::query] executing statement s786 with parameters: [0]
[2022-04-01T21:29:00Z DEBUG tokio_postgres::prepare] preparing query s787: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:00Z DEBUG tokio_postgres::query] executing statement s787 with parameters: []
[2022-04-01T21:29:00Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:01Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:01Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:01Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:01Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:01Z DEBUG tokio_postgres::prepare] preparing query s788: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:01Z DEBUG tokio_postgres::query] executing statement s788 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:01Z DEBUG tokio_postgres::prepare] preparing query s789: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:01Z DEBUG tokio_postgres::query] executing statement s789 with parameters: []
[2022-04-01T21:29:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:01Z DEBUG tokio_postgres::prepare] preparing query s790: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:01Z DEBUG tokio_postgres::query] executing statement s790 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:01Z DEBUG tokio_postgres::prepare] preparing query s791: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:01Z DEBUG tokio_postgres::query] executing statement s791 with parameters: []
[2022-04-01T21:29:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:01Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:29:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65483]
[2022-04-01T21:29:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:01Z DEBUG tokio_postgres::prepare] preparing query s792: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:01Z DEBUG tokio_postgres::query] executing statement s792 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:01Z DEBUG tokio_postgres::prepare] preparing query s793: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:01Z DEBUG tokio_postgres::query] executing statement s793 with parameters: []
[2022-04-01T21:29:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:02Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:02Z DEBUG tokio_postgres::prepare] preparing query s794: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:02Z DEBUG tokio_postgres::query] executing statement s794 with parameters: []
[2022-04-01T21:29:02Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848540.750068, Skytable = 1648848540.750068
[2022-04-01T21:29:02Z DEBUG tokio_postgres::prepare] preparing query s795: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:02Z DEBUG tokio_postgres::query] executing statement s795 with parameters: []
[2022-04-01T21:29:02Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848542.286395, Skytable = 1648848542.286395
[2022-04-01T21:29:02Z DEBUG tokio_postgres::prepare] preparing query s796: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:02Z DEBUG tokio_postgres::query] executing statement s796 with parameters: []
[2022-04-01T21:29:02Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:02Z DEBUG tokio_postgres::prepare] preparing query s797: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:02Z DEBUG tokio_postgres::query] executing statement s797 with parameters: []
[2022-04-01T21:29:02Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:03Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:03Z DEBUG tokio_postgres::prepare] preparing query s798: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:03Z DEBUG tokio_postgres::query] executing statement s798 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:03Z DEBUG tokio_postgres::prepare] preparing query s799: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:03Z DEBUG tokio_postgres::query] executing statement s799 with parameters: []
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:03Z DEBUG tokio_postgres::prepare] preparing query s800: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:03Z DEBUG tokio_postgres::query] executing statement s800 with parameters: [0]
[2022-04-01T21:29:03Z DEBUG tokio_postgres::prepare] preparing query s801: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:03Z DEBUG tokio_postgres::query] executing statement s801 with parameters: []
[2022-04-01T21:29:03Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:04Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:04Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:04Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:04Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:04Z DEBUG tokio_postgres::prepare] preparing query s802: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:04Z DEBUG tokio_postgres::query] executing statement s802 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:04Z DEBUG tokio_postgres::prepare] preparing query s803: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:04Z DEBUG tokio_postgres::query] executing statement s803 with parameters: []
[2022-04-01T21:29:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:04Z DEBUG tokio_postgres::prepare] preparing query s804: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:04Z DEBUG tokio_postgres::query] executing statement s804 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:04Z DEBUG tokio_postgres::prepare] preparing query s805: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:04Z DEBUG tokio_postgres::query] executing statement s805 with parameters: []
[2022-04-01T21:29:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:04Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:04Z DEBUG tokio_postgres::prepare] preparing query s806: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:04Z DEBUG tokio_postgres::query] executing statement s806 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:04Z DEBUG tokio_postgres::prepare] preparing query s807: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:04Z DEBUG tokio_postgres::query] executing statement s807 with parameters: []
[2022-04-01T21:29:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:29:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65444]
[2022-04-01T21:29:05Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:05Z DEBUG tokio_postgres::prepare] preparing query s808: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:05Z DEBUG tokio_postgres::query] executing statement s808 with parameters: []
[2022-04-01T21:29:05Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848543.901985, Skytable = 1648848543.901985
[2022-04-01T21:29:05Z DEBUG tokio_postgres::prepare] preparing query s809: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:05Z DEBUG tokio_postgres::query] executing statement s809 with parameters: []
[2022-04-01T21:29:05Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848545.344417, Skytable = 1648848545.344417
[2022-04-01T21:29:05Z DEBUG tokio_postgres::prepare] preparing query s810: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:05Z DEBUG tokio_postgres::query] executing statement s810 with parameters: []
[2022-04-01T21:29:05Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:05Z DEBUG tokio_postgres::prepare] preparing query s811: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:05Z DEBUG tokio_postgres::query] executing statement s811 with parameters: []
[2022-04-01T21:29:05Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:06Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:06Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s812: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s812 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s813: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s813 with parameters: []
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s814: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s814 with parameters: [0]
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s815: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s815 with parameters: []
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:07Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:07Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:07Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:07Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s816: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s816 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s817: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s817 with parameters: []
[2022-04-01T21:29:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s818: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s818 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s819: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s819 with parameters: []
[2022-04-01T21:29:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s820: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s820 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:07Z DEBUG tokio_postgres::prepare] preparing query s821: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:07Z DEBUG tokio_postgres::query] executing statement s821 with parameters: []
[2022-04-01T21:29:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:07Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:29:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:29:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:29:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65450]
[2022-04-01T21:29:08Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:08Z DEBUG tokio_postgres::prepare] preparing query s822: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:08Z DEBUG tokio_postgres::query] executing statement s822 with parameters: []
[2022-04-01T21:29:08Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848547.046358, Skytable = 1648848547.046358
[2022-04-01T21:29:08Z DEBUG tokio_postgres::prepare] preparing query s823: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:08Z DEBUG tokio_postgres::query] executing statement s823 with parameters: []
[2022-04-01T21:29:08Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848548.378118, Skytable = 1648848548.378118
[2022-04-01T21:29:08Z DEBUG tokio_postgres::prepare] preparing query s824: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:08Z DEBUG tokio_postgres::query] executing statement s824 with parameters: []
[2022-04-01T21:29:08Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:08Z DEBUG tokio_postgres::prepare] preparing query s825: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:08Z DEBUG tokio_postgres::query] executing statement s825 with parameters: []
[2022-04-01T21:29:08Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:10Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s826: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s826 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s827: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s827 with parameters: []
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s828: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s828 with parameters: [0]
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s829: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s829 with parameters: []
[2022-04-01T21:29:10Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:10Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:10Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:10Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:10Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s830: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s830 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s831: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s831 with parameters: []
[2022-04-01T21:29:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s832: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s832 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s833: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s833 with parameters: []
[2022-04-01T21:29:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s834: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s834 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:10Z DEBUG tokio_postgres::prepare] preparing query s835: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:10Z DEBUG tokio_postgres::query] executing statement s835 with parameters: []
[2022-04-01T21:29:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:11Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:29:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65490]
[2022-04-01T21:29:11Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:11Z DEBUG tokio_postgres::prepare] preparing query s836: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:11Z DEBUG tokio_postgres::query] executing statement s836 with parameters: []
[2022-04-01T21:29:11Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848550.20221, Skytable = 1648848550.20221
[2022-04-01T21:29:11Z DEBUG tokio_postgres::prepare] preparing query s837: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:11Z DEBUG tokio_postgres::query] executing statement s837 with parameters: []
[2022-04-01T21:29:11Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848551.43159, Skytable = 1648848551.43159
[2022-04-01T21:29:11Z DEBUG tokio_postgres::prepare] preparing query s838: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:11Z DEBUG tokio_postgres::query] executing statement s838 with parameters: []
[2022-04-01T21:29:11Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:11Z DEBUG tokio_postgres::prepare] preparing query s839: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:11Z DEBUG tokio_postgres::query] executing statement s839 with parameters: []
[2022-04-01T21:29:11Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:13Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:13Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:13Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:13Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:13Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s840: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s840 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s841: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s841 with parameters: []
[2022-04-01T21:29:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s842: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s842 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s843: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s843 with parameters: []
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s844: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s845: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s845 with parameters: [0]
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s844 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s846: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s846 with parameters: []
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s847: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s847 with parameters: []
[2022-04-01T21:29:13Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s848: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s848 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:13Z DEBUG tokio_postgres::prepare] preparing query s849: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:13Z DEBUG tokio_postgres::query] executing statement s849 with parameters: []
[2022-04-01T21:29:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:14Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:14Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:14Z DEBUG tokio_postgres::prepare] preparing query s850: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:14Z DEBUG tokio_postgres::query] executing statement s850 with parameters: []
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:14Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848553.361946, Skytable = 1648848553.361946
[2022-04-01T21:29:14Z DEBUG tokio_postgres::prepare] preparing query s851: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:14Z DEBUG tokio_postgres::query] executing statement s851 with parameters: []
[2022-04-01T21:29:14Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848554.469681, Skytable = 1648848554.469681
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:29:14Z DEBUG tokio_postgres::prepare] preparing query s852: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:14Z DEBUG tokio_postgres::query] executing statement s852 with parameters: []
[2022-04-01T21:29:14Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65471]
[2022-04-01T21:29:14Z DEBUG tokio_postgres::prepare] preparing query s853: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:14Z DEBUG tokio_postgres::query] executing statement s853 with parameters: []
[2022-04-01T21:29:14Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:16Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:16Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:16Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:16Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:16Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s854: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s854 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s855: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s855 with parameters: []
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s856: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s856 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s857: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s857 with parameters: []
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s858: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s858 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s859: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s859 with parameters: []
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s860: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s860 with parameters: [0]
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s861: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s861 with parameters: []
[2022-04-01T21:29:16Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s862: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s862 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:16Z DEBUG tokio_postgres::prepare] preparing query s863: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:16Z DEBUG tokio_postgres::query] executing statement s863 with parameters: []
[2022-04-01T21:29:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:17Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:17Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:17Z DEBUG tokio_postgres::prepare] preparing query s864: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:17Z DEBUG tokio_postgres::query] executing statement s864 with parameters: []
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:17Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848556.514143, Skytable = 1648848556.514143
[2022-04-01T21:29:17Z DEBUG tokio_postgres::prepare] preparing query s865: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:17Z DEBUG tokio_postgres::query] executing statement s865 with parameters: []
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848557.527548, Skytable = 1648848557.527548
[2022-04-01T21:29:17Z DEBUG tokio_postgres::prepare] preparing query s866: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:17Z DEBUG tokio_postgres::query] executing statement s866 with parameters: []
[2022-04-01T21:29:17Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:17Z DEBUG tokio_postgres::prepare] preparing query s867: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:17Z DEBUG tokio_postgres::query] executing statement s867 with parameters: []
[2022-04-01T21:29:17Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:29:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65453]
[2022-04-01T21:29:19Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:19Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:19Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:19Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s868: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s868 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s869: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s869 with parameters: []
[2022-04-01T21:29:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s870: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s870 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s871: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s871 with parameters: []
[2022-04-01T21:29:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:19Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s872: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s872 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s873: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s873 with parameters: []
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s874: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s874 with parameters: [0]
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s875: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s875 with parameters: []
[2022-04-01T21:29:19Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s876: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s876 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:19Z DEBUG tokio_postgres::prepare] preparing query s877: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:19Z DEBUG tokio_postgres::query] executing statement s877 with parameters: []
[2022-04-01T21:29:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:20Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:20Z DEBUG tokio_postgres::prepare] preparing query s878: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:20Z DEBUG tokio_postgres::query] executing statement s878 with parameters: []
[2022-04-01T21:29:20Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848559.666245, Skytable = 1648848559.666245
[2022-04-01T21:29:20Z DEBUG tokio_postgres::prepare] preparing query s879: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:20Z DEBUG tokio_postgres::query] executing statement s879 with parameters: []
[2022-04-01T21:29:20Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848560.585203, Skytable = 1648848560.585203
[2022-04-01T21:29:20Z DEBUG tokio_postgres::prepare] preparing query s880: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:20Z DEBUG tokio_postgres::query] executing statement s880 with parameters: []
[2022-04-01T21:29:20Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:20Z DEBUG tokio_postgres::prepare] preparing query s881: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:20Z DEBUG tokio_postgres::query] executing statement s881 with parameters: []
[2022-04-01T21:29:20Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:20Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:29:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65448]
[2022-04-01T21:29:22Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:22Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:22Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:22Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s882: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s882 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s883: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s883 with parameters: []
[2022-04-01T21:29:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s884: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s884 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s885: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s885 with parameters: []
[2022-04-01T21:29:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:22Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s886: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s886 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s887: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s887 with parameters: []
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s888: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s888 with parameters: [0]
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s889: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s889 with parameters: []
[2022-04-01T21:29:22Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s890: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s890 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:22Z DEBUG tokio_postgres::prepare] preparing query s891: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:22Z DEBUG tokio_postgres::query] executing statement s891 with parameters: []
[2022-04-01T21:29:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:23Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:23Z DEBUG tokio_postgres::prepare] preparing query s892: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:23Z DEBUG tokio_postgres::query] executing statement s892 with parameters: []
[2022-04-01T21:29:23Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848562.812417, Skytable = 1648848562.812417
[2022-04-01T21:29:23Z DEBUG tokio_postgres::prepare] preparing query s893: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:23Z DEBUG tokio_postgres::query] executing statement s893 with parameters: []
[2022-04-01T21:29:23Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848563.642291, Skytable = 1648848563.642291
[2022-04-01T21:29:23Z DEBUG tokio_postgres::prepare] preparing query s894: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:23Z DEBUG tokio_postgres::query] executing statement s894 with parameters: []
[2022-04-01T21:29:23Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:23Z DEBUG tokio_postgres::prepare] preparing query s895: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:23Z DEBUG tokio_postgres::query] executing statement s895 with parameters: []
[2022-04-01T21:29:23Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:23Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:29:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65465]
[2022-04-01T21:29:25Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:25Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:25Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:25Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s896: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s896 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s897: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s897 with parameters: []
[2022-04-01T21:29:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s898: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s898 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s899: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s899 with parameters: []
[2022-04-01T21:29:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:25Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s900: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s900 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s901: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s901 with parameters: []
[2022-04-01T21:29:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s902: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s902 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s903: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s903 with parameters: []
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s904: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s904 with parameters: [0]
[2022-04-01T21:29:25Z DEBUG tokio_postgres::prepare] preparing query s905: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:25Z DEBUG tokio_postgres::query] executing statement s905 with parameters: []
[2022-04-01T21:29:25Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:26Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:26Z DEBUG tokio_postgres::prepare] preparing query s906: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:26Z DEBUG tokio_postgres::query] executing statement s906 with parameters: []
[2022-04-01T21:29:26Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848565.974144, Skytable = 1648848565.974144
[2022-04-01T21:29:26Z DEBUG tokio_postgres::prepare] preparing query s907: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:26Z DEBUG tokio_postgres::query] executing statement s907 with parameters: []
[2022-04-01T21:29:26Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848566.698915, Skytable = 1648848566.698915
[2022-04-01T21:29:26Z DEBUG tokio_postgres::prepare] preparing query s908: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:26Z DEBUG tokio_postgres::query] executing statement s908 with parameters: []
[2022-04-01T21:29:26Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:26Z DEBUG tokio_postgres::prepare] preparing query s909: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:26Z DEBUG tokio_postgres::query] executing statement s909 with parameters: []
[2022-04-01T21:29:26Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:27Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:29:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65480]
[2022-04-01T21:29:28Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:28Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:28Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:28Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:28Z DEBUG tokio_postgres::prepare] preparing query s910: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:28Z DEBUG tokio_postgres::query] executing statement s910 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:28Z DEBUG tokio_postgres::prepare] preparing query s911: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:28Z DEBUG tokio_postgres::query] executing statement s911 with parameters: []
[2022-04-01T21:29:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:28Z DEBUG tokio_postgres::prepare] preparing query s912: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:28Z DEBUG tokio_postgres::query] executing statement s912 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:28Z DEBUG tokio_postgres::prepare] preparing query s913: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:28Z DEBUG tokio_postgres::query] executing statement s913 with parameters: []
[2022-04-01T21:29:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:28Z DEBUG tokio_postgres::prepare] preparing query s914: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:28Z DEBUG tokio_postgres::query] executing statement s914 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:28Z DEBUG tokio_postgres::prepare] preparing query s915: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:28Z DEBUG tokio_postgres::query] executing statement s915 with parameters: []
[2022-04-01T21:29:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:28Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s916: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s916 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s917: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s917 with parameters: []
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s918: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s918 with parameters: [0]
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s919: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s919 with parameters: []
[2022-04-01T21:29:29Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:29Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s920: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s920 with parameters: []
[2022-04-01T21:29:29Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848569.218543, Skytable = 1648848569.218543
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s921: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s921 with parameters: []
[2022-04-01T21:29:29Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848569.760573, Skytable = 1648848569.760573
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s922: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s922 with parameters: []
[2022-04-01T21:29:29Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::prepare] preparing query s923: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:29Z DEBUG tokio_postgres::query] executing statement s923 with parameters: []
[2022-04-01T21:29:29Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:30Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:31Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:31Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:31Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:31Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:31Z DEBUG tokio_postgres::prepare] preparing query s924: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:31Z DEBUG tokio_postgres::query] executing statement s924 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:31Z DEBUG tokio_postgres::prepare] preparing query s925: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:31Z DEBUG tokio_postgres::query] executing statement s925 with parameters: []
[2022-04-01T21:29:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:31Z DEBUG tokio_postgres::prepare] preparing query s926: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:31Z DEBUG tokio_postgres::query] executing statement s926 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:31Z DEBUG tokio_postgres::prepare] preparing query s927: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:31Z DEBUG tokio_postgres::query] executing statement s927 with parameters: []
[2022-04-01T21:29:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:31Z DEBUG tokio_postgres::prepare] preparing query s928: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:31Z DEBUG tokio_postgres::query] executing statement s928 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:31Z DEBUG tokio_postgres::prepare] preparing query s929: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:31Z DEBUG tokio_postgres::query] executing statement s929 with parameters: []
[2022-04-01T21:29:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:32Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [14]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65440]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s930: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s930 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s931: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s931 with parameters: []
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s932: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s932 with parameters: [0]
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s933: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s933 with parameters: []
[2022-04-01T21:29:32Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:32Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s934: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s934 with parameters: []
[2022-04-01T21:29:32Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848572.370107, Skytable = 1648848572.370107
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s935: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s935 with parameters: []
[2022-04-01T21:29:32Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848572.800532, Skytable = 1648848572.800532
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s936: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s936 with parameters: []
[2022-04-01T21:29:32Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::prepare] preparing query s937: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:32Z DEBUG tokio_postgres::query] executing statement s937 with parameters: []
[2022-04-01T21:29:32Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:34Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:34Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:34Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:34Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:34Z DEBUG tokio_postgres::prepare] preparing query s938: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:34Z DEBUG tokio_postgres::query] executing statement s938 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:34Z DEBUG tokio_postgres::prepare] preparing query s939: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:34Z DEBUG tokio_postgres::query] executing statement s939 with parameters: []
[2022-04-01T21:29:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:34Z DEBUG tokio_postgres::prepare] preparing query s940: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:34Z DEBUG tokio_postgres::query] executing statement s940 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:34Z DEBUG tokio_postgres::prepare] preparing query s941: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:34Z DEBUG tokio_postgres::query] executing statement s941 with parameters: []
[2022-04-01T21:29:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:34Z DEBUG tokio_postgres::prepare] preparing query s942: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:34Z DEBUG tokio_postgres::query] executing statement s942 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:34Z DEBUG tokio_postgres::prepare] preparing query s943: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:34Z DEBUG tokio_postgres::query] executing statement s943 with parameters: []
[2022-04-01T21:29:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:35Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [12]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65462]
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s944: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s944 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s945: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s945 with parameters: []
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s946: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s946 with parameters: [0]
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s947: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s947 with parameters: []
[2022-04-01T21:29:35Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:35Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s948: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s948 with parameters: []
[2022-04-01T21:29:35Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848575.526861, Skytable = 1648848575.526861
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s949: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s949 with parameters: []
[2022-04-01T21:29:35Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848575.853738, Skytable = 1648848575.853738
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s950: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s950 with parameters: []
[2022-04-01T21:29:35Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::prepare] preparing query s951: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:35Z DEBUG tokio_postgres::query] executing statement s951 with parameters: []
[2022-04-01T21:29:35Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:37Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:37Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:37Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:37Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:37Z DEBUG tokio_postgres::prepare] preparing query s952: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:37Z DEBUG tokio_postgres::query] executing statement s952 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:37Z DEBUG tokio_postgres::prepare] preparing query s953: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:37Z DEBUG tokio_postgres::query] executing statement s953 with parameters: []
[2022-04-01T21:29:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:37Z DEBUG tokio_postgres::prepare] preparing query s954: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:37Z DEBUG tokio_postgres::query] executing statement s954 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:37Z DEBUG tokio_postgres::prepare] preparing query s955: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:37Z DEBUG tokio_postgres::query] executing statement s955 with parameters: []
[2022-04-01T21:29:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:37Z DEBUG tokio_postgres::prepare] preparing query s956: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:37Z DEBUG tokio_postgres::query] executing statement s956 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:37Z DEBUG tokio_postgres::prepare] preparing query s957: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:37Z DEBUG tokio_postgres::query] executing statement s957 with parameters: []
[2022-04-01T21:29:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:38Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:38Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s958: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s958 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s959: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s959 with parameters: []
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s960: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s960 with parameters: [0]
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s961: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s961 with parameters: []
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:29:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65470]
[2022-04-01T21:29:38Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s962: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s962 with parameters: []
[2022-04-01T21:29:38Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848578.670336, Skytable = 1648848578.670336
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s963: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s963 with parameters: []
[2022-04-01T21:29:38Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848578.886401, Skytable = 1648848578.886401
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s964: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s964 with parameters: []
[2022-04-01T21:29:38Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::prepare] preparing query s965: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:38Z DEBUG tokio_postgres::query] executing statement s965 with parameters: []
[2022-04-01T21:29:38Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:40Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:40Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:40Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:40Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:40Z DEBUG tokio_postgres::prepare] preparing query s966: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:40Z DEBUG tokio_postgres::query] executing statement s966 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:40Z DEBUG tokio_postgres::prepare] preparing query s967: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:40Z DEBUG tokio_postgres::query] executing statement s967 with parameters: []
[2022-04-01T21:29:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:40Z DEBUG tokio_postgres::prepare] preparing query s968: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:40Z DEBUG tokio_postgres::query] executing statement s968 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:40Z DEBUG tokio_postgres::prepare] preparing query s969: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:40Z DEBUG tokio_postgres::query] executing statement s969 with parameters: []
[2022-04-01T21:29:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s970: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s970 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s971: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s971 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:41Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s972: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s972 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s973: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s973 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s974: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s974 with parameters: [0]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s975: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s975 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:41Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s976: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s976 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848581.826396, Skytable = 1648848581.826396
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s977: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s977 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848581.943945, Skytable = 1648848581.943945
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s978: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s978 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [14]
[2022-04-01T21:29:41Z DEBUG tokio_postgres::prepare] preparing query s979: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:41Z DEBUG tokio_postgres::query] executing statement s979 with parameters: []
[2022-04-01T21:29:41Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65474]
[2022-04-01T21:29:43Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:43Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:43Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:43Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:43Z DEBUG tokio_postgres::prepare] preparing query s980: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:43Z DEBUG tokio_postgres::query] executing statement s980 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:43Z DEBUG tokio_postgres::prepare] preparing query s981: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:43Z DEBUG tokio_postgres::query] executing statement s981 with parameters: []
[2022-04-01T21:29:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:43Z DEBUG tokio_postgres::prepare] preparing query s982: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:43Z DEBUG tokio_postgres::query] executing statement s982 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:43Z DEBUG tokio_postgres::prepare] preparing query s983: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:43Z DEBUG tokio_postgres::query] executing statement s983 with parameters: []
[2022-04-01T21:29:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s984: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s984 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s985: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s985 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:44Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s986: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s986 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s987: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s987 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s988: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s988 with parameters: [0]
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s989: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:44Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s989 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:44Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s990: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s990 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848584.966463, Skytable = 1648848584.966463
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s991: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s991 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848584.991123, Skytable = 1648848584.991123
[2022-04-01T21:29:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s992: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s992 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::prepare] preparing query s993: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:44Z DEBUG tokio_postgres::query] executing statement s993 with parameters: []
[2022-04-01T21:29:44Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:29:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65460]
[2022-04-01T21:29:46Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:46Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:46Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:46Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:46Z DEBUG tokio_postgres::prepare] preparing query s994: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:46Z DEBUG tokio_postgres::query] executing statement s994 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:46Z DEBUG tokio_postgres::prepare] preparing query s995: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:46Z DEBUG tokio_postgres::query] executing statement s995 with parameters: []
[2022-04-01T21:29:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:46Z DEBUG tokio_postgres::prepare] preparing query s996: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:46Z DEBUG tokio_postgres::query] executing statement s996 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:46Z DEBUG tokio_postgres::prepare] preparing query s997: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:46Z DEBUG tokio_postgres::query] executing statement s997 with parameters: []
[2022-04-01T21:29:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:47Z DEBUG tokio_postgres::prepare] preparing query s998: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:47Z DEBUG tokio_postgres::query] executing statement s998 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:47Z DEBUG tokio_postgres::prepare] preparing query s999: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:47Z DEBUG tokio_postgres::query] executing statement s999 with parameters: []
[2022-04-01T21:29:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:47Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:47Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:47Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1000: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1000 with parameters: []
[2022-04-01T21:29:48Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848584.966463, Skytable = 1648848584.966463
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1001: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1001 with parameters: []
[2022-04-01T21:29:48Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848588.02505, Skytable = 1648848588.02505
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1002: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1002 with parameters: []
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1003: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1003 with parameters: []
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1004: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1004 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1005: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1005 with parameters: []
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1006: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1006 with parameters: [0]
[2022-04-01T21:29:48Z DEBUG tokio_postgres::prepare] preparing query s1007: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:48Z DEBUG tokio_postgres::query] executing statement s1007 with parameters: []
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:48Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:29:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65464]
[2022-04-01T21:29:49Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:49Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:49Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:49Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:49Z DEBUG tokio_postgres::prepare] preparing query s1008: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:49Z DEBUG tokio_postgres::query] executing statement s1008 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:49Z DEBUG tokio_postgres::prepare] preparing query s1009: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:49Z DEBUG tokio_postgres::query] executing statement s1009 with parameters: []
[2022-04-01T21:29:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:49Z DEBUG tokio_postgres::prepare] preparing query s1010: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:49Z DEBUG tokio_postgres::query] executing statement s1010 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:49Z DEBUG tokio_postgres::prepare] preparing query s1011: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:49Z DEBUG tokio_postgres::query] executing statement s1011 with parameters: []
[2022-04-01T21:29:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:50Z DEBUG tokio_postgres::prepare] preparing query s1012: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:50Z DEBUG tokio_postgres::query] executing statement s1012 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:50Z DEBUG tokio_postgres::prepare] preparing query s1013: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:50Z DEBUG tokio_postgres::query] executing statement s1013 with parameters: []
[2022-04-01T21:29:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:51Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1014: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1014 with parameters: []
[2022-04-01T21:29:51Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848588.114294, Skytable = 1648848588.114294
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1015: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1015 with parameters: []
[2022-04-01T21:29:51Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848591.083049, Skytable = 1648848591.083049
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1016: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1016 with parameters: []
[2022-04-01T21:29:51Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1017: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1017 with parameters: []
[2022-04-01T21:29:51Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:51Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1018: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1018 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1019: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1019 with parameters: []
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1020: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1020 with parameters: [0]
[2022-04-01T21:29:51Z DEBUG tokio_postgres::prepare] preparing query s1021: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:51Z DEBUG tokio_postgres::query] executing statement s1021 with parameters: []
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:29:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65454]
[2022-04-01T21:29:52Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:52Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:52Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:52Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:52Z DEBUG tokio_postgres::prepare] preparing query s1022: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:52Z DEBUG tokio_postgres::query] executing statement s1022 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:52Z DEBUG tokio_postgres::prepare] preparing query s1023: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:52Z DEBUG tokio_postgres::query] executing statement s1023 with parameters: []
[2022-04-01T21:29:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:52Z DEBUG tokio_postgres::prepare] preparing query s1024: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:52Z DEBUG tokio_postgres::query] executing statement s1024 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:52Z DEBUG tokio_postgres::prepare] preparing query s1025: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:52Z DEBUG tokio_postgres::query] executing statement s1025 with parameters: []
[2022-04-01T21:29:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:53Z DEBUG tokio_postgres::prepare] preparing query s1026: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:53Z DEBUG tokio_postgres::query] executing statement s1026 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:53Z DEBUG tokio_postgres::prepare] preparing query s1027: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:53Z DEBUG tokio_postgres::query] executing statement s1027 with parameters: []
[2022-04-01T21:29:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:54Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1028: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1028 with parameters: []
[2022-04-01T21:29:54Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848591.254209, Skytable = 1648848591.254209
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1029: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1029 with parameters: []
[2022-04-01T21:29:54Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848594.14145, Skytable = 1648848594.14145
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1030: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1030 with parameters: []
[2022-04-01T21:29:54Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1031: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1031 with parameters: []
[2022-04-01T21:29:54Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:54Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1032: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1032 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1033: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1033 with parameters: []
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1034: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1034 with parameters: [0]
[2022-04-01T21:29:54Z DEBUG tokio_postgres::prepare] preparing query s1035: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:54Z DEBUG tokio_postgres::query] executing statement s1035 with parameters: []
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:54Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:29:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65459]
[2022-04-01T21:29:55Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:55Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:55Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:55Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:55Z DEBUG tokio_postgres::prepare] preparing query s1036: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:55Z DEBUG tokio_postgres::query] executing statement s1036 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:55Z DEBUG tokio_postgres::prepare] preparing query s1037: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:55Z DEBUG tokio_postgres::query] executing statement s1037 with parameters: []
[2022-04-01T21:29:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:55Z DEBUG tokio_postgres::prepare] preparing query s1038: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:55Z DEBUG tokio_postgres::query] executing statement s1038 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:55Z DEBUG tokio_postgres::prepare] preparing query s1039: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:55Z DEBUG tokio_postgres::query] executing statement s1039 with parameters: []
[2022-04-01T21:29:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:56Z DEBUG tokio_postgres::prepare] preparing query s1040: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:56Z DEBUG tokio_postgres::query] executing statement s1040 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:56Z DEBUG tokio_postgres::prepare] preparing query s1041: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:56Z DEBUG tokio_postgres::query] executing statement s1041 with parameters: []
[2022-04-01T21:29:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:29:57Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1042: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1042 with parameters: []
[2022-04-01T21:29:57Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848594.708228, Skytable = 1648848594.708228
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1043: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1043 with parameters: []
[2022-04-01T21:29:57Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848597.199452, Skytable = 1648848597.199452
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1044: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1044 with parameters: []
[2022-04-01T21:29:57Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1045: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1045 with parameters: []
[2022-04-01T21:29:57Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:29:57Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1046: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1046 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1047: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1047 with parameters: []
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1048: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1048 with parameters: [0]
[2022-04-01T21:29:57Z DEBUG tokio_postgres::prepare] preparing query s1049: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:57Z DEBUG tokio_postgres::query] executing statement s1049 with parameters: []
[2022-04-01T21:29:57Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:29:58Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:29:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65477]
[2022-04-01T21:29:58Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:29:58Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:29:58Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:29:58Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:29:58Z DEBUG tokio_postgres::prepare] preparing query s1050: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:29:58Z DEBUG tokio_postgres::query] executing statement s1050 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:58Z DEBUG tokio_postgres::prepare] preparing query s1051: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:58Z DEBUG tokio_postgres::query] executing statement s1051 with parameters: []
[2022-04-01T21:29:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:58Z DEBUG tokio_postgres::prepare] preparing query s1052: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:58Z DEBUG tokio_postgres::query] executing statement s1052 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:29:58Z DEBUG tokio_postgres::prepare] preparing query s1053: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:58Z DEBUG tokio_postgres::query] executing statement s1053 with parameters: []
[2022-04-01T21:29:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:29:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:29:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:29:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:29:59Z DEBUG tokio_postgres::prepare] preparing query s1054: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:29:59Z DEBUG tokio_postgres::query] executing statement s1054 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:29:59Z DEBUG tokio_postgres::prepare] preparing query s1055: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:29:59Z DEBUG tokio_postgres::query] executing statement s1055 with parameters: []
[2022-04-01T21:29:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:00Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:00Z DEBUG tokio_postgres::prepare] preparing query s1056: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:00Z DEBUG tokio_postgres::query] executing statement s1056 with parameters: []
[2022-04-01T21:30:00Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848597.851023, Skytable = 1648848597.851023
[2022-04-01T21:30:00Z DEBUG tokio_postgres::prepare] preparing query s1057: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:00Z DEBUG tokio_postgres::query] executing statement s1057 with parameters: []
[2022-04-01T21:30:00Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848600.26204, Skytable = 1648848600.26204
[2022-04-01T21:30:00Z DEBUG tokio_postgres::prepare] preparing query s1058: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:00Z DEBUG tokio_postgres::query] executing statement s1058 with parameters: []
[2022-04-01T21:30:00Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:00Z DEBUG tokio_postgres::prepare] preparing query s1059: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:00Z DEBUG tokio_postgres::query] executing statement s1059 with parameters: []
[2022-04-01T21:30:00Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:00Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:00Z DEBUG tokio_postgres::prepare] preparing query s1060: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:00Z DEBUG tokio_postgres::query] executing statement s1060 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1061: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1061 with parameters: []
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1062: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1062 with parameters: [0]
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1063: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1063 with parameters: []
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:01Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:30:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65479]
[2022-04-01T21:30:01Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:01Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:01Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:01Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1064: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1064 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1065: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1065 with parameters: []
[2022-04-01T21:30:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1066: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1066 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:01Z DEBUG tokio_postgres::prepare] preparing query s1067: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:01Z DEBUG tokio_postgres::query] executing statement s1067 with parameters: []
[2022-04-01T21:30:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:02Z DEBUG tokio_postgres::prepare] preparing query s1068: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:02Z DEBUG tokio_postgres::query] executing statement s1068 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:02Z DEBUG tokio_postgres::prepare] preparing query s1069: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:02Z DEBUG tokio_postgres::query] executing statement s1069 with parameters: []
[2022-04-01T21:30:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:03Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:03Z DEBUG tokio_postgres::prepare] preparing query s1070: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:03Z DEBUG tokio_postgres::query] executing statement s1070 with parameters: []
[2022-04-01T21:30:03Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848600.994528, Skytable = 1648848600.994528
[2022-04-01T21:30:03Z DEBUG tokio_postgres::prepare] preparing query s1071: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:03Z DEBUG tokio_postgres::query] executing statement s1071 with parameters: []
[2022-04-01T21:30:03Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848603.323918, Skytable = 1648848603.323918
[2022-04-01T21:30:03Z DEBUG tokio_postgres::prepare] preparing query s1072: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:03Z DEBUG tokio_postgres::query] executing statement s1072 with parameters: []
[2022-04-01T21:30:03Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:03Z DEBUG tokio_postgres::prepare] preparing query s1073: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:03Z DEBUG tokio_postgres::query] executing statement s1073 with parameters: []
[2022-04-01T21:30:03Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:04Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1074: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1074 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1075: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1075 with parameters: []
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1076: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1076 with parameters: [0]
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1077: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1077 with parameters: []
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:04Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:04Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:04Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:04Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:04Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1078: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1078 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1079: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1079 with parameters: []
[2022-04-01T21:30:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:04Z DEBUG tokio_postgres::prepare] preparing query s1080: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:04Z DEBUG tokio_postgres::query] executing statement s1080 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:05Z DEBUG tokio_postgres::prepare] preparing query s1081: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:05Z DEBUG tokio_postgres::query] executing statement s1081 with parameters: []
[2022-04-01T21:30:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:30:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65449]
[2022-04-01T21:30:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:05Z DEBUG tokio_postgres::prepare] preparing query s1082: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:05Z DEBUG tokio_postgres::query] executing statement s1082 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:05Z DEBUG tokio_postgres::prepare] preparing query s1083: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:05Z DEBUG tokio_postgres::query] executing statement s1083 with parameters: []
[2022-04-01T21:30:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:06Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:06Z DEBUG tokio_postgres::prepare] preparing query s1084: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:06Z DEBUG tokio_postgres::query] executing statement s1084 with parameters: []
[2022-04-01T21:30:06Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848604.150523, Skytable = 1648848604.150523
[2022-04-01T21:30:06Z DEBUG tokio_postgres::prepare] preparing query s1085: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:06Z DEBUG tokio_postgres::query] executing statement s1085 with parameters: []
[2022-04-01T21:30:06Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848606.381391, Skytable = 1648848606.381391
[2022-04-01T21:30:06Z DEBUG tokio_postgres::prepare] preparing query s1086: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:06Z DEBUG tokio_postgres::query] executing statement s1086 with parameters: []
[2022-04-01T21:30:06Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:06Z DEBUG tokio_postgres::prepare] preparing query s1087: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:06Z DEBUG tokio_postgres::query] executing statement s1087 with parameters: []
[2022-04-01T21:30:06Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:07Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: []
[2022-04-01T21:30:07Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:30:08Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:08Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:08Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:08Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:08Z DEBUG tokio_postgres::prepare] preparing query s1088: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:08Z DEBUG tokio_postgres::query] executing statement s1088 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:08Z DEBUG tokio_postgres::prepare] preparing query s1089: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:08Z DEBUG tokio_postgres::query] executing statement s1089 with parameters: []
[2022-04-01T21:30:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:08Z DEBUG tokio_postgres::prepare] preparing query s1090: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:08Z DEBUG tokio_postgres::query] executing statement s1090 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:08Z DEBUG tokio_postgres::prepare] preparing query s1091: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:08Z DEBUG tokio_postgres::query] executing statement s1091 with parameters: []
[2022-04-01T21:30:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:08Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:08Z DEBUG tokio_postgres::prepare] preparing query s1092: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:08Z DEBUG tokio_postgres::query] executing statement s1092 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:08Z DEBUG tokio_postgres::prepare] preparing query s1093: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:08Z DEBUG tokio_postgres::query] executing statement s1093 with parameters: []
[2022-04-01T21:30:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: []
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [19]
[2022-04-01T21:30:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:30:09Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:09Z DEBUG tokio_postgres::prepare] preparing query s1094: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:09Z DEBUG tokio_postgres::query] executing statement s1094 with parameters: []
[2022-04-01T21:30:09Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848604.150523, Skytable = 1648848604.150523
[2022-04-01T21:30:09Z DEBUG tokio_postgres::prepare] preparing query s1095: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:09Z DEBUG tokio_postgres::query] executing statement s1095 with parameters: []
[2022-04-01T21:30:09Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848609.439146, Skytable = 1648848609.439146
[2022-04-01T21:30:09Z DEBUG tokio_postgres::prepare] preparing query s1096: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:09Z DEBUG tokio_postgres::query] executing statement s1096 with parameters: []
[2022-04-01T21:30:09Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:09Z DEBUG tokio_postgres::prepare] preparing query s1097: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:09Z DEBUG tokio_postgres::query] executing statement s1097 with parameters: []
[2022-04-01T21:30:09Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:10Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:10Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:10Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:11Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:11Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1098: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1098 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1099: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1099 with parameters: []
[2022-04-01T21:30:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1100: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1100 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1101: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1101 with parameters: []
[2022-04-01T21:30:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1102: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1102 with parameters: [0]
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1103: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1103 with parameters: []
[2022-04-01T21:30:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1104: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1104 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:30:11Z DEBUG tokio_postgres::prepare] preparing query s1105: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:11Z DEBUG tokio_postgres::query] executing statement s1105 with parameters: []
[2022-04-01T21:30:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:12Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:30:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65477]
[2022-04-01T21:30:12Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:12Z DEBUG tokio_postgres::prepare] preparing query s1106: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:12Z DEBUG tokio_postgres::query] executing statement s1106 with parameters: []
[2022-04-01T21:30:12Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848611.15475, Skytable = 1648848611.15475
[2022-04-01T21:30:12Z DEBUG tokio_postgres::prepare] preparing query s1107: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:12Z DEBUG tokio_postgres::query] executing statement s1107 with parameters: []
[2022-04-01T21:30:12Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848612.487668, Skytable = 1648848612.487668
[2022-04-01T21:30:12Z DEBUG tokio_postgres::prepare] preparing query s1108: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:12Z DEBUG tokio_postgres::query] executing statement s1108 with parameters: []
[2022-04-01T21:30:12Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:12Z DEBUG tokio_postgres::prepare] preparing query s1109: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:12Z DEBUG tokio_postgres::query] executing statement s1109 with parameters: []
[2022-04-01T21:30:12Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:14Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:14Z DEBUG tokio_postgres::prepare] preparing query s1110: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:14Z DEBUG tokio_postgres::query] executing statement s1110 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:14Z DEBUG tokio_postgres::prepare] preparing query s1111: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:14Z DEBUG tokio_postgres::query] executing statement s1111 with parameters: []
[2022-04-01T21:30:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:14Z DEBUG tokio_postgres::prepare] preparing query s1112: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:14Z DEBUG tokio_postgres::query] executing statement s1112 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:14Z DEBUG tokio_postgres::prepare] preparing query s1113: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:14Z DEBUG tokio_postgres::query] executing statement s1113 with parameters: []
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:14Z DEBUG tokio_postgres::prepare] preparing query s1114: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:14Z DEBUG tokio_postgres::query] executing statement s1114 with parameters: [0]
[2022-04-01T21:30:14Z DEBUG tokio_postgres::prepare] preparing query s1115: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:14Z DEBUG tokio_postgres::query] executing statement s1115 with parameters: []
[2022-04-01T21:30:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:15Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:15Z DEBUG tokio_postgres::prepare] preparing query s1116: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:15Z DEBUG tokio_postgres::query] executing statement s1116 with parameters: []
[2022-04-01T21:30:15Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848614.294487, Skytable = 1648848614.294487
[2022-04-01T21:30:15Z DEBUG tokio_postgres::prepare] preparing query s1117: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:15Z DEBUG tokio_postgres::query] executing statement s1117 with parameters: []
[2022-04-01T21:30:15Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848615.521313, Skytable = 1648848615.521313
[2022-04-01T21:30:15Z DEBUG tokio_postgres::prepare] preparing query s1118: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:15Z DEBUG tokio_postgres::query] executing statement s1118 with parameters: []
[2022-04-01T21:30:15Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:15Z DEBUG tokio_postgres::prepare] preparing query s1119: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:15Z DEBUG tokio_postgres::query] executing statement s1119 with parameters: []
[2022-04-01T21:30:15Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:30:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:30:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [18]
[2022-04-01T21:30:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:30:17Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:17Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:17Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:17Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1120: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1120 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1121: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1121 with parameters: []
[2022-04-01T21:30:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1122: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1122 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1123: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1123 with parameters: []
[2022-04-01T21:30:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1124: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1124 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1125: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1125 with parameters: []
[2022-04-01T21:30:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:17Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1126: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1126 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1127: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1127 with parameters: []
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1128: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1128 with parameters: [0]
[2022-04-01T21:30:17Z DEBUG tokio_postgres::prepare] preparing query s1129: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:17Z DEBUG tokio_postgres::query] executing statement s1129 with parameters: []
[2022-04-01T21:30:17Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:18Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:18Z DEBUG tokio_postgres::prepare] preparing query s1130: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:18Z DEBUG tokio_postgres::query] executing statement s1130 with parameters: []
[2022-04-01T21:30:18Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848617.446977, Skytable = 1648848617.446977
[2022-04-01T21:30:18Z DEBUG tokio_postgres::prepare] preparing query s1131: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:18Z DEBUG tokio_postgres::query] executing statement s1131 with parameters: []
[2022-04-01T21:30:18Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848618.57838, Skytable = 1648848618.57838
[2022-04-01T21:30:18Z DEBUG tokio_postgres::prepare] preparing query s1132: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:18Z DEBUG tokio_postgres::query] executing statement s1132 with parameters: []
[2022-04-01T21:30:18Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:18Z DEBUG tokio_postgres::prepare] preparing query s1133: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:18Z DEBUG tokio_postgres::query] executing statement s1133 with parameters: []
[2022-04-01T21:30:18Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:19Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:30:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65462]
[2022-04-01T21:30:20Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:20Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:20Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:20Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1134: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1134 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1135: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1135 with parameters: []
[2022-04-01T21:30:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1136: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1136 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1137: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1137 with parameters: []
[2022-04-01T21:30:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1138: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1138 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1139: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1139 with parameters: []
[2022-04-01T21:30:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:20Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1140: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1140 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1141: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1141 with parameters: []
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1142: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1142 with parameters: [0]
[2022-04-01T21:30:20Z DEBUG tokio_postgres::prepare] preparing query s1143: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:20Z DEBUG tokio_postgres::query] executing statement s1143 with parameters: []
[2022-04-01T21:30:20Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:21Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:21Z DEBUG tokio_postgres::prepare] preparing query s1144: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:21Z DEBUG tokio_postgres::query] executing statement s1144 with parameters: []
[2022-04-01T21:30:21Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848620.595053, Skytable = 1648848620.595053
[2022-04-01T21:30:21Z DEBUG tokio_postgres::prepare] preparing query s1145: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:21Z DEBUG tokio_postgres::query] executing statement s1145 with parameters: []
[2022-04-01T21:30:21Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848621.620186, Skytable = 1648848621.620186
[2022-04-01T21:30:21Z DEBUG tokio_postgres::prepare] preparing query s1146: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:21Z DEBUG tokio_postgres::query] executing statement s1146 with parameters: []
[2022-04-01T21:30:21Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:21Z DEBUG tokio_postgres::prepare] preparing query s1147: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:21Z DEBUG tokio_postgres::query] executing statement s1147 with parameters: []
[2022-04-01T21:30:21Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:22Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: []
[2022-04-01T21:30:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [17]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:30:23Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:23Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:23Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:23Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1148: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1148 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1149: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1149 with parameters: []
[2022-04-01T21:30:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1150: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1150 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1151: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1151 with parameters: []
[2022-04-01T21:30:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1152: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1152 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1153: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1153 with parameters: []
[2022-04-01T21:30:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:23Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1154: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1154 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1155: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1155 with parameters: []
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1156: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1156 with parameters: [0]
[2022-04-01T21:30:23Z DEBUG tokio_postgres::prepare] preparing query s1157: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:23Z DEBUG tokio_postgres::query] executing statement s1157 with parameters: []
[2022-04-01T21:30:23Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:24Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:24Z DEBUG tokio_postgres::prepare] preparing query s1158: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:24Z DEBUG tokio_postgres::query] executing statement s1158 with parameters: []
[2022-04-01T21:30:24Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848623.738706, Skytable = 1648848623.738706
[2022-04-01T21:30:24Z DEBUG tokio_postgres::prepare] preparing query s1159: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:24Z DEBUG tokio_postgres::query] executing statement s1159 with parameters: []
[2022-04-01T21:30:24Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848624.652759, Skytable = 1648848624.652759
[2022-04-01T21:30:24Z DEBUG tokio_postgres::prepare] preparing query s1160: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:24Z DEBUG tokio_postgres::query] executing statement s1160 with parameters: []
[2022-04-01T21:30:24Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:24Z DEBUG tokio_postgres::prepare] preparing query s1161: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:24Z DEBUG tokio_postgres::query] executing statement s1161 with parameters: []
[2022-04-01T21:30:24Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:26Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:26Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:26Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1162: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1162 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1163: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1163 with parameters: []
[2022-04-01T21:30:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1164: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1164 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1165: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1165 with parameters: []
[2022-04-01T21:30:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65451]
[2022-04-01T21:30:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1166: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1166 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1167: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1167 with parameters: []
[2022-04-01T21:30:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:26Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1168: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1168 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1169: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1169 with parameters: []
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1170: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1170 with parameters: [0]
[2022-04-01T21:30:26Z DEBUG tokio_postgres::prepare] preparing query s1171: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:26Z DEBUG tokio_postgres::query] executing statement s1171 with parameters: []
[2022-04-01T21:30:26Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:27Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:27Z DEBUG tokio_postgres::prepare] preparing query s1172: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:27Z DEBUG tokio_postgres::query] executing statement s1172 with parameters: []
[2022-04-01T21:30:27Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848626.878778, Skytable = 1648848626.878778
[2022-04-01T21:30:27Z DEBUG tokio_postgres::prepare] preparing query s1173: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:27Z DEBUG tokio_postgres::query] executing statement s1173 with parameters: []
[2022-04-01T21:30:27Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848627.697521, Skytable = 1648848627.697521
[2022-04-01T21:30:27Z DEBUG tokio_postgres::prepare] preparing query s1174: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:27Z DEBUG tokio_postgres::query] executing statement s1174 with parameters: []
[2022-04-01T21:30:27Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:27Z DEBUG tokio_postgres::prepare] preparing query s1175: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:27Z DEBUG tokio_postgres::query] executing statement s1175 with parameters: []
[2022-04-01T21:30:27Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:29Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:29Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:29Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:29Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:29Z DEBUG tokio_postgres::prepare] preparing query s1176: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:29Z DEBUG tokio_postgres::query] executing statement s1176 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:29Z DEBUG tokio_postgres::prepare] preparing query s1177: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:29Z DEBUG tokio_postgres::query] executing statement s1177 with parameters: []
[2022-04-01T21:30:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:29Z DEBUG tokio_postgres::prepare] preparing query s1178: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:29Z DEBUG tokio_postgres::query] executing statement s1178 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:29Z DEBUG tokio_postgres::prepare] preparing query s1179: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:29Z DEBUG tokio_postgres::query] executing statement s1179 with parameters: []
[2022-04-01T21:30:29Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:29Z DEBUG tokio_postgres::prepare] preparing query s1180: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:29Z DEBUG tokio_postgres::query] executing statement s1180 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:29Z DEBUG tokio_postgres::prepare] preparing query s1181: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:29Z DEBUG tokio_postgres::query] executing statement s1181 with parameters: []
[2022-04-01T21:30:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65478]
[2022-04-01T21:30:29Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1182: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1182 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1183: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1183 with parameters: []
[2022-04-01T21:30:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1184: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1184 with parameters: [0]
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1185: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1185 with parameters: []
[2022-04-01T21:30:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:30Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1186: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1186 with parameters: []
[2022-04-01T21:30:30Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848630.021187, Skytable = 1648848630.021187
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1187: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1187 with parameters: []
[2022-04-01T21:30:30Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848630.730414, Skytable = 1648848630.730414
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1188: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1188 with parameters: []
[2022-04-01T21:30:30Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::prepare] preparing query s1189: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:30Z DEBUG tokio_postgres::query] executing statement s1189 with parameters: []
[2022-04-01T21:30:30Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:32Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:32Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:32Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:32Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:32Z DEBUG tokio_postgres::prepare] preparing query s1190: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:32Z DEBUG tokio_postgres::query] executing statement s1190 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:32Z DEBUG tokio_postgres::prepare] preparing query s1191: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:32Z DEBUG tokio_postgres::query] executing statement s1191 with parameters: []
[2022-04-01T21:30:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:32Z DEBUG tokio_postgres::prepare] preparing query s1192: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:32Z DEBUG tokio_postgres::query] executing statement s1192 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:32Z DEBUG tokio_postgres::prepare] preparing query s1193: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:32Z DEBUG tokio_postgres::query] executing statement s1193 with parameters: []
[2022-04-01T21:30:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:32Z DEBUG tokio_postgres::prepare] preparing query s1194: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:32Z DEBUG tokio_postgres::query] executing statement s1194 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:32Z DEBUG tokio_postgres::prepare] preparing query s1195: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:32Z DEBUG tokio_postgres::query] executing statement s1195 with parameters: []
[2022-04-01T21:30:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:32Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:33Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:33Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:33Z DEBUG tokio_postgres::prepare] preparing query s1196: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:33Z DEBUG tokio_postgres::query] executing statement s1196 with parameters: []
[2022-04-01T21:30:33Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848630.021187, Skytable = 1648848630.021187
[2022-04-01T21:30:33Z DEBUG tokio_postgres::prepare] preparing query s1197: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:33Z DEBUG tokio_postgres::query] executing statement s1197 with parameters: []
[2022-04-01T21:30:33Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848633.764981, Skytable = 1648848633.764981
[2022-04-01T21:30:33Z DEBUG tokio_postgres::prepare] preparing query s1198: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:33Z DEBUG tokio_postgres::query] executing statement s1198 with parameters: []
[2022-04-01T21:30:33Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:33Z DEBUG tokio_postgres::prepare] preparing query s1199: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:33Z DEBUG tokio_postgres::query] executing statement s1199 with parameters: []
[2022-04-01T21:30:33Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65442]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:34Z DEBUG tokio_postgres::prepare] preparing query s1200: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:34Z DEBUG tokio_postgres::query] executing statement s1200 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:34Z DEBUG tokio_postgres::prepare] preparing query s1201: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:34Z DEBUG tokio_postgres::query] executing statement s1201 with parameters: []
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:34Z DEBUG tokio_postgres::prepare] preparing query s1202: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:34Z DEBUG tokio_postgres::query] executing statement s1202 with parameters: [0]
[2022-04-01T21:30:34Z DEBUG tokio_postgres::prepare] preparing query s1203: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:34Z DEBUG tokio_postgres::query] executing statement s1203 with parameters: []
[2022-04-01T21:30:34Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:35Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:35Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:35Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:35Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:35Z DEBUG tokio_postgres::prepare] preparing query s1204: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:35Z DEBUG tokio_postgres::query] executing statement s1204 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:35Z DEBUG tokio_postgres::prepare] preparing query s1205: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:35Z DEBUG tokio_postgres::query] executing statement s1205 with parameters: []
[2022-04-01T21:30:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:35Z DEBUG tokio_postgres::prepare] preparing query s1206: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:35Z DEBUG tokio_postgres::query] executing statement s1206 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:35Z DEBUG tokio_postgres::prepare] preparing query s1207: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:35Z DEBUG tokio_postgres::query] executing statement s1207 with parameters: []
[2022-04-01T21:30:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:35Z DEBUG tokio_postgres::prepare] preparing query s1208: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:35Z DEBUG tokio_postgres::query] executing statement s1208 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:35Z DEBUG tokio_postgres::prepare] preparing query s1209: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:35Z DEBUG tokio_postgres::query] executing statement s1209 with parameters: []
[2022-04-01T21:30:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:36Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:36Z DEBUG tokio_postgres::prepare] preparing query s1210: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:36Z DEBUG tokio_postgres::query] executing statement s1210 with parameters: []
[2022-04-01T21:30:36Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848634.18677, Skytable = 1648848634.18677
[2022-04-01T21:30:36Z DEBUG tokio_postgres::prepare] preparing query s1211: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:36Z DEBUG tokio_postgres::query] executing statement s1211 with parameters: []
[2022-04-01T21:30:36Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848636.82262, Skytable = 1648848636.82262
[2022-04-01T21:30:36Z DEBUG tokio_postgres::prepare] preparing query s1212: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:36Z DEBUG tokio_postgres::query] executing statement s1212 with parameters: []
[2022-04-01T21:30:36Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:36Z DEBUG tokio_postgres::prepare] preparing query s1213: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:36Z DEBUG tokio_postgres::query] executing statement s1213 with parameters: []
[2022-04-01T21:30:36Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:37Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:37Z DEBUG tokio_postgres::prepare] preparing query s1214: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65453]
[2022-04-01T21:30:37Z DEBUG tokio_postgres::query] executing statement s1214 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:37Z DEBUG tokio_postgres::prepare] preparing query s1215: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:37Z DEBUG tokio_postgres::query] executing statement s1215 with parameters: []
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:37Z DEBUG tokio_postgres::prepare] preparing query s1216: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:37Z DEBUG tokio_postgres::query] executing statement s1216 with parameters: [0]
[2022-04-01T21:30:37Z DEBUG tokio_postgres::prepare] preparing query s1217: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:37Z DEBUG tokio_postgres::query] executing statement s1217 with parameters: []
[2022-04-01T21:30:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:38Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:38Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:38Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:38Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:38Z DEBUG tokio_postgres::prepare] preparing query s1218: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:38Z DEBUG tokio_postgres::query] executing statement s1218 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:38Z DEBUG tokio_postgres::prepare] preparing query s1219: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:38Z DEBUG tokio_postgres::query] executing statement s1219 with parameters: []
[2022-04-01T21:30:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:38Z DEBUG tokio_postgres::prepare] preparing query s1220: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:38Z DEBUG tokio_postgres::query] executing statement s1220 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:38Z DEBUG tokio_postgres::prepare] preparing query s1221: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:38Z DEBUG tokio_postgres::query] executing statement s1221 with parameters: []
[2022-04-01T21:30:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:38Z DEBUG tokio_postgres::prepare] preparing query s1222: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:38Z DEBUG tokio_postgres::query] executing statement s1222 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:38Z DEBUG tokio_postgres::prepare] preparing query s1223: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:38Z DEBUG tokio_postgres::query] executing statement s1223 with parameters: []
[2022-04-01T21:30:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:39Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:39Z DEBUG tokio_postgres::prepare] preparing query s1224: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:39Z DEBUG tokio_postgres::query] executing statement s1224 with parameters: []
[2022-04-01T21:30:39Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848637.354714, Skytable = 1648848637.354714
[2022-04-01T21:30:39Z DEBUG tokio_postgres::prepare] preparing query s1225: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:39Z DEBUG tokio_postgres::query] executing statement s1225 with parameters: []
[2022-04-01T21:30:39Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848639.880534, Skytable = 1648848639.880534
[2022-04-01T21:30:39Z DEBUG tokio_postgres::prepare] preparing query s1226: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:39Z DEBUG tokio_postgres::query] executing statement s1226 with parameters: []
[2022-04-01T21:30:39Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:39Z DEBUG tokio_postgres::prepare] preparing query s1227: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:39Z DEBUG tokio_postgres::query] executing statement s1227 with parameters: []
[2022-04-01T21:30:39Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:40Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:40Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:30:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: []
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:41Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:41Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:41Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:41Z DEBUG tokio_postgres::prepare] preparing query s1228: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:41Z DEBUG tokio_postgres::query] executing statement s1228 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:41Z DEBUG tokio_postgres::prepare] preparing query s1229: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:41Z DEBUG tokio_postgres::query] executing statement s1229 with parameters: []
[2022-04-01T21:30:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:41Z DEBUG tokio_postgres::prepare] preparing query s1230: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:41Z DEBUG tokio_postgres::query] executing statement s1230 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:41Z DEBUG tokio_postgres::prepare] preparing query s1231: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:41Z DEBUG tokio_postgres::query] executing statement s1231 with parameters: []
[2022-04-01T21:30:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:41Z DEBUG tokio_postgres::prepare] preparing query s1232: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:41Z DEBUG tokio_postgres::query] executing statement s1232 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:41Z DEBUG tokio_postgres::prepare] preparing query s1233: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:41Z DEBUG tokio_postgres::query] executing statement s1233 with parameters: []
[2022-04-01T21:30:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [14]
[2022-04-01T21:30:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:30:42Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:42Z DEBUG tokio_postgres::prepare] preparing query s1234: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:42Z DEBUG tokio_postgres::query] executing statement s1234 with parameters: []
[2022-04-01T21:30:42Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848637.354714, Skytable = 1648848637.354714
[2022-04-01T21:30:42Z DEBUG tokio_postgres::prepare] preparing query s1235: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:42Z DEBUG tokio_postgres::query] executing statement s1235 with parameters: []
[2022-04-01T21:30:42Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848642.938956, Skytable = 1648848642.938956
[2022-04-01T21:30:42Z DEBUG tokio_postgres::prepare] preparing query s1236: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:42Z DEBUG tokio_postgres::query] executing statement s1236 with parameters: []
[2022-04-01T21:30:42Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:42Z DEBUG tokio_postgres::prepare] preparing query s1237: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:42Z DEBUG tokio_postgres::query] executing statement s1237 with parameters: []
[2022-04-01T21:30:42Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:44Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1238: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1238 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1239: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1239 with parameters: []
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1240: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1240 with parameters: [0]
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1241: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1241 with parameters: []
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:44Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:44Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1242: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1242 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1243: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1243 with parameters: []
[2022-04-01T21:30:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1244: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1244 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:30:44Z DEBUG tokio_postgres::prepare] preparing query s1245: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:44Z DEBUG tokio_postgres::query] executing statement s1245 with parameters: []
[2022-04-01T21:30:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:30:44Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:30:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65473]
[2022-04-01T21:30:45Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:45Z DEBUG tokio_postgres::prepare] preparing query s1246: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:45Z DEBUG tokio_postgres::query] executing statement s1246 with parameters: []
[2022-04-01T21:30:45Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848644.2509, Skytable = 1648848644.2509
[2022-04-01T21:30:45Z DEBUG tokio_postgres::prepare] preparing query s1247: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:45Z DEBUG tokio_postgres::query] executing statement s1247 with parameters: []
[2022-04-01T21:30:45Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848645.974034, Skytable = 1648848645.974034
[2022-04-01T21:30:45Z DEBUG tokio_postgres::prepare] preparing query s1248: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:45Z DEBUG tokio_postgres::query] executing statement s1248 with parameters: []
[2022-04-01T21:30:45Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:45Z DEBUG tokio_postgres::prepare] preparing query s1249: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:45Z DEBUG tokio_postgres::query] executing statement s1249 with parameters: []
[2022-04-01T21:30:46Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:47Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:47Z DEBUG tokio_postgres::prepare] preparing query s1250: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:47Z DEBUG tokio_postgres::query] executing statement s1250 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:47Z DEBUG tokio_postgres::prepare] preparing query s1251: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:47Z DEBUG tokio_postgres::query] executing statement s1251 with parameters: []
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:47Z DEBUG tokio_postgres::prepare] preparing query s1252: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:47Z DEBUG tokio_postgres::query] executing statement s1252 with parameters: [0]
[2022-04-01T21:30:47Z DEBUG tokio_postgres::prepare] preparing query s1253: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:47Z DEBUG tokio_postgres::query] executing statement s1253 with parameters: []
[2022-04-01T21:30:47Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:47Z DEBUG tokio_postgres::prepare] preparing query s1254: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:47Z DEBUG tokio_postgres::query] executing statement s1254 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:47Z DEBUG tokio_postgres::prepare] preparing query s1255: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:47Z DEBUG tokio_postgres::query] executing statement s1255 with parameters: []
[2022-04-01T21:30:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:47Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:30:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65443]
[2022-04-01T21:30:49Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:49Z DEBUG tokio_postgres::prepare] preparing query s1256: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:49Z DEBUG tokio_postgres::query] executing statement s1256 with parameters: []
[2022-04-01T21:30:49Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848647.406835, Skytable = 1648848647.406835
[2022-04-01T21:30:49Z DEBUG tokio_postgres::prepare] preparing query s1257: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:49Z DEBUG tokio_postgres::query] executing statement s1257 with parameters: []
[2022-04-01T21:30:49Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848649.03163, Skytable = 1648848649.03163
[2022-04-01T21:30:49Z DEBUG tokio_postgres::prepare] preparing query s1258: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:49Z DEBUG tokio_postgres::query] executing statement s1258 with parameters: []
[2022-04-01T21:30:49Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:49Z DEBUG tokio_postgres::prepare] preparing query s1259: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:49Z DEBUG tokio_postgres::query] executing statement s1259 with parameters: []
[2022-04-01T21:30:49Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:50Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:50Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:50Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:50Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:50Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1260: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1260 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1261: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1261 with parameters: []
[2022-04-01T21:30:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1262: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1262 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1263: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1263 with parameters: []
[2022-04-01T21:30:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1264: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1265: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1264 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1265 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1266: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1267: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1266 with parameters: []
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1267 with parameters: []
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1268: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1268 with parameters: [0]
[2022-04-01T21:30:50Z DEBUG tokio_postgres::prepare] preparing query s1269: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:50Z DEBUG tokio_postgres::query] executing statement s1269 with parameters: []
[2022-04-01T21:30:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:50Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:30:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65447]
[2022-04-01T21:30:52Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:52Z DEBUG tokio_postgres::prepare] preparing query s1270: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:52Z DEBUG tokio_postgres::query] executing statement s1270 with parameters: []
[2022-04-01T21:30:52Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848650.554419, Skytable = 1648848650.554419
[2022-04-01T21:30:52Z DEBUG tokio_postgres::prepare] preparing query s1271: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:52Z DEBUG tokio_postgres::query] executing statement s1271 with parameters: []
[2022-04-01T21:30:52Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848652.089933, Skytable = 1648848652.089933
[2022-04-01T21:30:52Z DEBUG tokio_postgres::prepare] preparing query s1272: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:52Z DEBUG tokio_postgres::query] executing statement s1272 with parameters: []
[2022-04-01T21:30:52Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:52Z DEBUG tokio_postgres::prepare] preparing query s1273: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:52Z DEBUG tokio_postgres::query] executing statement s1273 with parameters: []
[2022-04-01T21:30:52Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:53Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:53Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:53Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:53Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1274: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1274 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1275: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1275 with parameters: []
[2022-04-01T21:30:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1276: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1276 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1277: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1277 with parameters: []
[2022-04-01T21:30:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:53Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1278: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1278 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1279: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1279 with parameters: []
[2022-04-01T21:30:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1280: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1280 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1281: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1281 with parameters: []
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1282: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1282 with parameters: [0]
[2022-04-01T21:30:53Z DEBUG tokio_postgres::prepare] preparing query s1283: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:53Z DEBUG tokio_postgres::query] executing statement s1283 with parameters: []
[2022-04-01T21:30:53Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:54Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:55Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:55Z DEBUG tokio_postgres::prepare] preparing query s1284: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:55Z DEBUG tokio_postgres::query] executing statement s1284 with parameters: []
[2022-04-01T21:30:55Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848653.696561, Skytable = 1648848653.696561
[2022-04-01T21:30:55Z DEBUG tokio_postgres::prepare] preparing query s1285: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:55Z DEBUG tokio_postgres::query] executing statement s1285 with parameters: []
[2022-04-01T21:30:55Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848655.147836, Skytable = 1648848655.147836
[2022-04-01T21:30:55Z DEBUG tokio_postgres::prepare] preparing query s1286: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:55Z DEBUG tokio_postgres::query] executing statement s1286 with parameters: []
[2022-04-01T21:30:55Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:55Z DEBUG tokio_postgres::prepare] preparing query s1287: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:55Z DEBUG tokio_postgres::query] executing statement s1287 with parameters: []
[2022-04-01T21:30:55Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [14]
[2022-04-01T21:30:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:30:56Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:56Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:56Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:56Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1288: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1288 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1289: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1289 with parameters: []
[2022-04-01T21:30:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1290: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1290 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1291: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1291 with parameters: []
[2022-04-01T21:30:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1292: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1292 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1293: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1293 with parameters: []
[2022-04-01T21:30:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:56Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1294: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1294 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1295: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1295 with parameters: []
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1296: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1296 with parameters: [0]
[2022-04-01T21:30:56Z DEBUG tokio_postgres::prepare] preparing query s1297: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:56Z DEBUG tokio_postgres::query] executing statement s1297 with parameters: []
[2022-04-01T21:30:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:30:58Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:30:58Z DEBUG tokio_postgres::prepare] preparing query s1298: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:58Z DEBUG tokio_postgres::query] executing statement s1298 with parameters: []
[2022-04-01T21:30:58Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848656.835006, Skytable = 1648848656.835006
[2022-04-01T21:30:58Z DEBUG tokio_postgres::prepare] preparing query s1299: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:30:58Z DEBUG tokio_postgres::query] executing statement s1299 with parameters: []
[2022-04-01T21:30:58Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848658.205514, Skytable = 1648848658.205514
[2022-04-01T21:30:58Z DEBUG tokio_postgres::prepare] preparing query s1300: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:58Z DEBUG tokio_postgres::query] executing statement s1300 with parameters: []
[2022-04-01T21:30:58Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:30:58Z DEBUG tokio_postgres::prepare] preparing query s1301: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:58Z DEBUG tokio_postgres::query] executing statement s1301 with parameters: []
[2022-04-01T21:30:58Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:30:58Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:30:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65462]
[2022-04-01T21:30:59Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:30:59Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:30:59Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:30:59Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1302: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1302 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:30:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:30:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1303: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1303 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1304: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1305: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1304 with parameters: []
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1305 with parameters: []
[2022-04-01T21:30:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1306: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1306 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1307: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1307 with parameters: []
[2022-04-01T21:30:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:30:59Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1308: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1308 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1309: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1309 with parameters: []
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1310: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1310 with parameters: [0]
[2022-04-01T21:30:59Z DEBUG tokio_postgres::prepare] preparing query s1311: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:30:59Z DEBUG tokio_postgres::query] executing statement s1311 with parameters: []
[2022-04-01T21:30:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:01Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:01Z DEBUG tokio_postgres::prepare] preparing query s1312: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:01Z DEBUG tokio_postgres::query] executing statement s1312 with parameters: []
[2022-04-01T21:31:01Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848659.966202, Skytable = 1648848659.966202
[2022-04-01T21:31:01Z DEBUG tokio_postgres::prepare] preparing query s1313: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:01Z DEBUG tokio_postgres::query] executing statement s1313 with parameters: []
[2022-04-01T21:31:01Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848661.262203, Skytable = 1648848661.262203
[2022-04-01T21:31:01Z DEBUG tokio_postgres::prepare] preparing query s1314: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:01Z DEBUG tokio_postgres::query] executing statement s1314 with parameters: []
[2022-04-01T21:31:01Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:01Z DEBUG tokio_postgres::prepare] preparing query s1315: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:01Z DEBUG tokio_postgres::query] executing statement s1315 with parameters: []
[2022-04-01T21:31:01Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:01Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:31:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: []
[2022-04-01T21:31:02Z DEBUG tokio_postgres::prepare] preparing query s1316: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:02Z DEBUG tokio_postgres::query] executing statement s1316 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:02Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:02Z DEBUG tokio_postgres::prepare] preparing query s1317: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:02Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:02Z DEBUG tokio_postgres::query] executing statement s1317 with parameters: []
[2022-04-01T21:31:02Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:02Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:02Z DEBUG tokio_postgres::prepare] preparing query s1318: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:02Z DEBUG tokio_postgres::query] executing statement s1318 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:02Z DEBUG tokio_postgres::prepare] preparing query s1319: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:02Z DEBUG tokio_postgres::query] executing statement s1319 with parameters: []
[2022-04-01T21:31:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:02Z DEBUG tokio_postgres::prepare] preparing query s1320: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:02Z DEBUG tokio_postgres::query] executing statement s1320 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:02Z DEBUG tokio_postgres::prepare] preparing query s1321: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:02Z DEBUG tokio_postgres::query] executing statement s1321 with parameters: []
[2022-04-01T21:31:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [19]
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:31:02Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:02Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:03Z DEBUG tokio_postgres::prepare] preparing query s1322: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:03Z DEBUG tokio_postgres::query] executing statement s1322 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:03Z DEBUG tokio_postgres::prepare] preparing query s1323: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:03Z DEBUG tokio_postgres::query] executing statement s1323 with parameters: []
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:03Z DEBUG tokio_postgres::prepare] preparing query s1324: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:03Z DEBUG tokio_postgres::query] executing statement s1324 with parameters: [0]
[2022-04-01T21:31:03Z DEBUG tokio_postgres::prepare] preparing query s1325: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:03Z DEBUG tokio_postgres::query] executing statement s1325 with parameters: []
[2022-04-01T21:31:03Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:04Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:04Z DEBUG tokio_postgres::prepare] preparing query s1326: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:04Z DEBUG tokio_postgres::query] executing statement s1326 with parameters: []
[2022-04-01T21:31:04Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848663.097643, Skytable = 1648848663.097643
[2022-04-01T21:31:04Z DEBUG tokio_postgres::prepare] preparing query s1327: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:04Z DEBUG tokio_postgres::query] executing statement s1327 with parameters: []
[2022-04-01T21:31:04Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848664.316603, Skytable = 1648848664.316603
[2022-04-01T21:31:04Z DEBUG tokio_postgres::prepare] preparing query s1328: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:04Z DEBUG tokio_postgres::query] executing statement s1328 with parameters: []
[2022-04-01T21:31:04Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:04Z DEBUG tokio_postgres::prepare] preparing query s1329: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:04Z DEBUG tokio_postgres::query] executing statement s1329 with parameters: []
[2022-04-01T21:31:04Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:05Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:05Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:05Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:05Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:05Z DEBUG tokio_postgres::prepare] preparing query s1330: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:05Z DEBUG tokio_postgres::query] executing statement s1330 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:05Z DEBUG tokio_postgres::prepare] preparing query s1331: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:05Z DEBUG tokio_postgres::query] executing statement s1331 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:05Z DEBUG tokio_postgres::prepare] preparing query s1332: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:05Z DEBUG tokio_postgres::query] executing statement s1332 with parameters: []
[2022-04-01T21:31:05Z DEBUG tokio_postgres::prepare] preparing query s1333: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:05Z DEBUG tokio_postgres::query] executing statement s1333 with parameters: []
[2022-04-01T21:31:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:05Z DEBUG tokio_postgres::prepare] preparing query s1334: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:05Z DEBUG tokio_postgres::query] executing statement s1334 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:05Z DEBUG tokio_postgres::prepare] preparing query s1335: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:05Z DEBUG tokio_postgres::query] executing statement s1335 with parameters: []
[2022-04-01T21:31:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:05Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [22]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65487]
[2022-04-01T21:31:06Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:06Z DEBUG tokio_postgres::prepare] preparing query s1336: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:06Z DEBUG tokio_postgres::query] executing statement s1336 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:06Z DEBUG tokio_postgres::prepare] preparing query s1337: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:06Z DEBUG tokio_postgres::query] executing statement s1337 with parameters: []
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:06Z DEBUG tokio_postgres::prepare] preparing query s1338: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:06Z DEBUG tokio_postgres::query] executing statement s1338 with parameters: [0]
[2022-04-01T21:31:06Z DEBUG tokio_postgres::prepare] preparing query s1339: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:06Z DEBUG tokio_postgres::query] executing statement s1339 with parameters: []
[2022-04-01T21:31:06Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:07Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:07Z DEBUG tokio_postgres::prepare] preparing query s1340: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:07Z DEBUG tokio_postgres::query] executing statement s1340 with parameters: []
[2022-04-01T21:31:07Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848666.271211, Skytable = 1648848666.271211
[2022-04-01T21:31:07Z DEBUG tokio_postgres::prepare] preparing query s1341: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:07Z DEBUG tokio_postgres::query] executing statement s1341 with parameters: []
[2022-04-01T21:31:07Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848667.37439, Skytable = 1648848667.37439
[2022-04-01T21:31:07Z DEBUG tokio_postgres::prepare] preparing query s1342: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:07Z DEBUG tokio_postgres::query] executing statement s1342 with parameters: []
[2022-04-01T21:31:07Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:07Z DEBUG tokio_postgres::prepare] preparing query s1343: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:07Z DEBUG tokio_postgres::query] executing statement s1343 with parameters: []
[2022-04-01T21:31:07Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:08Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:08Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:08Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:08Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:08Z DEBUG tokio_postgres::prepare] preparing query s1344: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:08Z DEBUG tokio_postgres::query] executing statement s1344 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:08Z DEBUG tokio_postgres::prepare] preparing query s1345: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:08Z DEBUG tokio_postgres::query] executing statement s1345 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:08Z DEBUG tokio_postgres::prepare] preparing query s1346: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:08Z DEBUG tokio_postgres::prepare] preparing query s1347: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:08Z DEBUG tokio_postgres::query] executing statement s1346 with parameters: []
[2022-04-01T21:31:08Z DEBUG tokio_postgres::query] executing statement s1347 with parameters: []
[2022-04-01T21:31:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:08Z DEBUG tokio_postgres::prepare] preparing query s1348: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:08Z DEBUG tokio_postgres::query] executing statement s1348 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:08Z DEBUG tokio_postgres::prepare] preparing query s1349: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:08Z DEBUG tokio_postgres::query] executing statement s1349 with parameters: []
[2022-04-01T21:31:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:09Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65445]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:09Z DEBUG tokio_postgres::prepare] preparing query s1350: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:09Z DEBUG tokio_postgres::query] executing statement s1350 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:09Z DEBUG tokio_postgres::prepare] preparing query s1351: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:09Z DEBUG tokio_postgres::query] executing statement s1351 with parameters: []
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:09Z DEBUG tokio_postgres::prepare] preparing query s1352: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:09Z DEBUG tokio_postgres::query] executing statement s1352 with parameters: [0]
[2022-04-01T21:31:09Z DEBUG tokio_postgres::prepare] preparing query s1353: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:09Z DEBUG tokio_postgres::query] executing statement s1353 with parameters: []
[2022-04-01T21:31:09Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:10Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:10Z DEBUG tokio_postgres::prepare] preparing query s1354: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:10Z DEBUG tokio_postgres::query] executing statement s1354 with parameters: []
[2022-04-01T21:31:10Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848669.582668, Skytable = 1648848669.582668
[2022-04-01T21:31:10Z DEBUG tokio_postgres::prepare] preparing query s1355: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:10Z DEBUG tokio_postgres::query] executing statement s1355 with parameters: []
[2022-04-01T21:31:10Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848670.432394, Skytable = 1648848670.432394
[2022-04-01T21:31:10Z DEBUG tokio_postgres::prepare] preparing query s1356: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:10Z DEBUG tokio_postgres::query] executing statement s1356 with parameters: []
[2022-04-01T21:31:10Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:10Z DEBUG tokio_postgres::prepare] preparing query s1357: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:10Z DEBUG tokio_postgres::query] executing statement s1357 with parameters: []
[2022-04-01T21:31:10Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:11Z DEBUG tokio_postgres::prepare] preparing query s1358: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:11Z DEBUG tokio_postgres::query] executing statement s1358 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:11Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:11Z DEBUG tokio_postgres::prepare] preparing query s1359: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:11Z DEBUG tokio_postgres::query] executing statement s1359 with parameters: []
[2022-04-01T21:31:11Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:11Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:11Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:11Z DEBUG tokio_postgres::prepare] preparing query s1360: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:11Z DEBUG tokio_postgres::query] executing statement s1360 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:11Z DEBUG tokio_postgres::prepare] preparing query s1361: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:11Z DEBUG tokio_postgres::query] executing statement s1361 with parameters: []
[2022-04-01T21:31:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:11Z DEBUG tokio_postgres::prepare] preparing query s1362: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:11Z DEBUG tokio_postgres::query] executing statement s1362 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:11Z DEBUG tokio_postgres::prepare] preparing query s1363: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:11Z DEBUG tokio_postgres::query] executing statement s1363 with parameters: []
[2022-04-01T21:31:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:12Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:12Z DEBUG tokio_postgres::prepare] preparing query s1364: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:12Z DEBUG tokio_postgres::query] executing statement s1364 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:12Z DEBUG tokio_postgres::prepare] preparing query s1365: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:12Z DEBUG tokio_postgres::query] executing statement s1365 with parameters: []
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:12Z DEBUG tokio_postgres::prepare] preparing query s1366: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:12Z DEBUG tokio_postgres::query] executing statement s1366 with parameters: [0]
[2022-04-01T21:31:12Z DEBUG tokio_postgres::prepare] preparing query s1367: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:12Z DEBUG tokio_postgres::query] executing statement s1367 with parameters: []
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:31:12Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65442]
[2022-04-01T21:31:13Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:13Z DEBUG tokio_postgres::prepare] preparing query s1368: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:13Z DEBUG tokio_postgres::query] executing statement s1368 with parameters: []
[2022-04-01T21:31:13Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848672.730859, Skytable = 1648848672.730859
[2022-04-01T21:31:13Z DEBUG tokio_postgres::prepare] preparing query s1369: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:13Z DEBUG tokio_postgres::query] executing statement s1369 with parameters: []
[2022-04-01T21:31:13Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848673.489951, Skytable = 1648848673.489951
[2022-04-01T21:31:13Z DEBUG tokio_postgres::prepare] preparing query s1370: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:13Z DEBUG tokio_postgres::query] executing statement s1370 with parameters: []
[2022-04-01T21:31:13Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:13Z DEBUG tokio_postgres::prepare] preparing query s1371: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:13Z DEBUG tokio_postgres::query] executing statement s1371 with parameters: []
[2022-04-01T21:31:13Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:14Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:14Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:14Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:14Z DEBUG tokio_postgres::prepare] preparing query s1372: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:14Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:14Z DEBUG tokio_postgres::query] executing statement s1372 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:14Z DEBUG tokio_postgres::prepare] preparing query s1373: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:14Z DEBUG tokio_postgres::query] executing statement s1373 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:14Z DEBUG tokio_postgres::prepare] preparing query s1374: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:14Z DEBUG tokio_postgres::query] executing statement s1374 with parameters: []
[2022-04-01T21:31:14Z DEBUG tokio_postgres::prepare] preparing query s1375: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:14Z DEBUG tokio_postgres::query] executing statement s1375 with parameters: []
[2022-04-01T21:31:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:14Z DEBUG tokio_postgres::prepare] preparing query s1376: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:14Z DEBUG tokio_postgres::query] executing statement s1376 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:14Z DEBUG tokio_postgres::prepare] preparing query s1377: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:14Z DEBUG tokio_postgres::query] executing statement s1377 with parameters: []
[2022-04-01T21:31:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:15Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:15Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: []
[2022-04-01T21:31:16Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:16Z DEBUG tokio_postgres::prepare] preparing query s1378: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:16Z DEBUG tokio_postgres::query] executing statement s1378 with parameters: []
[2022-04-01T21:31:16Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848672.730859, Skytable = 1648848672.730859
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:16Z DEBUG tokio_postgres::prepare] preparing query s1379: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:16Z DEBUG tokio_postgres::query] executing statement s1379 with parameters: []
[2022-04-01T21:31:16Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848676.547957, Skytable = 1648848676.547957
[2022-04-01T21:31:16Z DEBUG tokio_postgres::prepare] preparing query s1380: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:16Z DEBUG tokio_postgres::query] executing statement s1380 with parameters: []
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-04-01T21:31:16Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:16Z DEBUG tokio_postgres::prepare] preparing query s1381: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:16Z DEBUG tokio_postgres::query] executing statement s1381 with parameters: []
[2022-04-01T21:31:16Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [19]
[2022-04-01T21:31:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1382: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1382 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1383: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1383 with parameters: []
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1384: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1384 with parameters: [0]
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1385: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1385 with parameters: []
[2022-04-01T21:31:17Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:17Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:17Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:17Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:17Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1386: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1386 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1387: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1387 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1388: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1388 with parameters: []
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1389: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1389 with parameters: []
[2022-04-01T21:31:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1390: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1390 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:17Z DEBUG tokio_postgres::prepare] preparing query s1391: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:17Z DEBUG tokio_postgres::query] executing statement s1391 with parameters: []
[2022-04-01T21:31:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:19Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:19Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:19Z DEBUG tokio_postgres::prepare] preparing query s1392: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:19Z DEBUG tokio_postgres::query] executing statement s1392 with parameters: []
[2022-04-01T21:31:19Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848677.114964, Skytable = 1648848677.114964
[2022-04-01T21:31:19Z DEBUG tokio_postgres::prepare] preparing query s1393: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:19Z DEBUG tokio_postgres::query] executing statement s1393 with parameters: []
[2022-04-01T21:31:19Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848679.605483, Skytable = 1648848679.605483
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:19Z DEBUG tokio_postgres::prepare] preparing query s1394: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:19Z DEBUG tokio_postgres::query] executing statement s1394 with parameters: []
[2022-04-01T21:31:19Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:19Z DEBUG tokio_postgres::prepare] preparing query s1395: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:19Z DEBUG tokio_postgres::query] executing statement s1395 with parameters: []
[2022-04-01T21:31:19Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:31:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65448]
[2022-04-01T21:31:20Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1396: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1396 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1397: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1397 with parameters: []
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1398: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1398 with parameters: [0]
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1399: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1399 with parameters: []
[2022-04-01T21:31:20Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:20Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:20Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:20Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:20Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1400: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1400 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1401: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1401 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1402: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1402 with parameters: []
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1403: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1403 with parameters: []
[2022-04-01T21:31:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1404: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1404 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:20Z DEBUG tokio_postgres::prepare] preparing query s1405: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:20Z DEBUG tokio_postgres::query] executing statement s1405 with parameters: []
[2022-04-01T21:31:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:22Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:22Z DEBUG tokio_postgres::prepare] preparing query s1406: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:22Z DEBUG tokio_postgres::query] executing statement s1406 with parameters: []
[2022-04-01T21:31:22Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848680.275039, Skytable = 1648848680.275039
[2022-04-01T21:31:22Z DEBUG tokio_postgres::prepare] preparing query s1407: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:22Z DEBUG tokio_postgres::query] executing statement s1407 with parameters: []
[2022-04-01T21:31:22Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848682.663285, Skytable = 1648848682.663285
[2022-04-01T21:31:22Z DEBUG tokio_postgres::prepare] preparing query s1408: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:22Z DEBUG tokio_postgres::query] executing statement s1408 with parameters: []
[2022-04-01T21:31:22Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:22Z DEBUG tokio_postgres::prepare] preparing query s1409: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:22Z DEBUG tokio_postgres::query] executing statement s1409 with parameters: []
[2022-04-01T21:31:22Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:22Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65456]
[2022-04-01T21:31:23Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1410: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1410 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1411: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1411 with parameters: []
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1412: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1412 with parameters: [0]
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1413: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1413 with parameters: []
[2022-04-01T21:31:23Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:23Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:23Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:23Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:23Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1414: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1414 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1415: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1415 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1416: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1416 with parameters: []
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1417: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1417 with parameters: []
[2022-04-01T21:31:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1418: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1418 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:23Z DEBUG tokio_postgres::prepare] preparing query s1419: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:23Z DEBUG tokio_postgres::query] executing statement s1419 with parameters: []
[2022-04-01T21:31:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:25Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:25Z DEBUG tokio_postgres::prepare] preparing query s1420: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:25Z DEBUG tokio_postgres::query] executing statement s1420 with parameters: []
[2022-04-01T21:31:25Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848683.431131, Skytable = 1648848683.431131
[2022-04-01T21:31:25Z DEBUG tokio_postgres::prepare] preparing query s1421: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:25Z DEBUG tokio_postgres::query] executing statement s1421 with parameters: []
[2022-04-01T21:31:25Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848685.708196, Skytable = 1648848685.708196
[2022-04-01T21:31:25Z DEBUG tokio_postgres::prepare] preparing query s1422: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:25Z DEBUG tokio_postgres::query] executing statement s1422 with parameters: []
[2022-04-01T21:31:25Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:25Z DEBUG tokio_postgres::prepare] preparing query s1423: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:25Z DEBUG tokio_postgres::query] executing statement s1423 with parameters: []
[2022-04-01T21:31:25Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:26Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:26Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: []
[2022-04-01T21:31:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:26Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:26Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:26Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:26Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:26Z DEBUG tokio_postgres::prepare] preparing query s1424: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:26Z DEBUG tokio_postgres::query] executing statement s1424 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:26Z DEBUG tokio_postgres::prepare] preparing query s1425: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:26Z DEBUG tokio_postgres::query] executing statement s1425 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:26Z DEBUG tokio_postgres::prepare] preparing query s1426: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:26Z DEBUG tokio_postgres::query] executing statement s1426 with parameters: []
[2022-04-01T21:31:26Z DEBUG tokio_postgres::prepare] preparing query s1427: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:26Z DEBUG tokio_postgres::query] executing statement s1427 with parameters: []
[2022-04-01T21:31:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:26Z DEBUG tokio_postgres::prepare] preparing query s1428: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:26Z DEBUG tokio_postgres::query] executing statement s1428 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:26Z DEBUG tokio_postgres::prepare] preparing query s1429: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:26Z DEBUG tokio_postgres::query] executing statement s1429 with parameters: []
[2022-04-01T21:31:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:31:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: []
[2022-04-01T21:31:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:31:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: []
[2022-04-01T21:31:28Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:28Z DEBUG tokio_postgres::prepare] preparing query s1430: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:28Z DEBUG tokio_postgres::query] executing statement s1430 with parameters: []
[2022-04-01T21:31:28Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848683.431131, Skytable = 1648848683.431131
[2022-04-01T21:31:28Z DEBUG tokio_postgres::prepare] preparing query s1431: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:28Z DEBUG tokio_postgres::query] executing statement s1431 with parameters: []
[2022-04-01T21:31:28Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848688.741543, Skytable = 1648848688.741543
[2022-04-01T21:31:28Z DEBUG tokio_postgres::prepare] preparing query s1432: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:28Z DEBUG tokio_postgres::query] executing statement s1432 with parameters: []
[2022-04-01T21:31:28Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:28Z DEBUG tokio_postgres::prepare] preparing query s1433: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:28Z DEBUG tokio_postgres::query] executing statement s1433 with parameters: []
[2022-04-01T21:31:28Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:31:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: []
[2022-04-01T21:31:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:29Z DEBUG tokio_postgres::prepare] preparing query s1434: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:29Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:29Z DEBUG tokio_postgres::query] executing statement s1434 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:29Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:29Z DEBUG tokio_postgres::prepare] preparing query s1435: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:29Z DEBUG tokio_postgres::query] executing statement s1435 with parameters: []
[2022-04-01T21:31:29Z DEBUG tokio_postgres::prepare] preparing query s1436: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:29Z DEBUG tokio_postgres::query] executing statement s1436 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:29Z DEBUG tokio_postgres::prepare] preparing query s1437: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:29Z DEBUG tokio_postgres::query] executing statement s1437 with parameters: []
[2022-04-01T21:31:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: []
[2022-04-01T21:31:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: []
[2022-04-01T21:31:30Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: []
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: []
[2022-04-01T21:31:31Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:31Z DEBUG tokio_postgres::prepare] preparing query s1438: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:31Z DEBUG tokio_postgres::query] executing statement s1438 with parameters: []
[2022-04-01T21:31:31Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848683.431131, Skytable = 1648848683.431131
[2022-04-01T21:31:31Z DEBUG tokio_postgres::prepare] preparing query s1439: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:31Z DEBUG tokio_postgres::query] executing statement s1439 with parameters: []
[2022-04-01T21:31:31Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848691.801077, Skytable = 1648848691.801077
[2022-04-01T21:31:31Z DEBUG tokio_postgres::prepare] preparing query s1440: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:31Z DEBUG tokio_postgres::query] executing statement s1440 with parameters: []
[2022-04-01T21:31:31Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:31Z DEBUG tokio_postgres::prepare] preparing query s1441: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:31Z DEBUG tokio_postgres::query] executing statement s1441 with parameters: []
[2022-04-01T21:31:31Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:31:31Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:31:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:32Z DEBUG tokio_postgres::prepare] preparing query s1442: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:32Z DEBUG tokio_postgres::query] executing statement s1442 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:32Z DEBUG tokio_postgres::prepare] preparing query s1443: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:32Z DEBUG tokio_postgres::query] executing statement s1443 with parameters: []
[2022-04-01T21:31:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:34Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65473]
[2022-04-01T21:31:34Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:34Z DEBUG tokio_postgres::prepare] preparing query s1444: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:34Z DEBUG tokio_postgres::query] executing statement s1444 with parameters: []
[2022-04-01T21:31:34Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848683.431131, Skytable = 1648848683.431131
[2022-04-01T21:31:34Z DEBUG tokio_postgres::prepare] preparing query s1445: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:34Z DEBUG tokio_postgres::query] executing statement s1445 with parameters: []
[2022-04-01T21:31:34Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848694.867488, Skytable = 1648848694.867488
[2022-04-01T21:31:34Z DEBUG tokio_postgres::prepare] preparing query s1446: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:34Z DEBUG tokio_postgres::query] executing statement s1446 with parameters: []
[2022-04-01T21:31:34Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:34Z DEBUG tokio_postgres::prepare] preparing query s1447: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:34Z DEBUG tokio_postgres::query] executing statement s1447 with parameters: []
[2022-04-01T21:31:34Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:34Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:34Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1448: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1448 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1449: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1449 with parameters: []
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1450: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1450 with parameters: [0]
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1451: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1451 with parameters: []
[2022-04-01T21:31:35Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:35Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:35Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1452: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1452 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1453: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1453 with parameters: []
[2022-04-01T21:31:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1454: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1454 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:35Z DEBUG tokio_postgres::prepare] preparing query s1455: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:35Z DEBUG tokio_postgres::query] executing statement s1455 with parameters: []
[2022-04-01T21:31:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:37Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:37Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:37Z DEBUG tokio_postgres::prepare] preparing query s1456: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:37Z DEBUG tokio_postgres::query] executing statement s1456 with parameters: []
[2022-04-01T21:31:37Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848695.09871, Skytable = 1648848695.09871
[2022-04-01T21:31:37Z DEBUG tokio_postgres::prepare] preparing query s1457: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:37Z DEBUG tokio_postgres::query] executing statement s1457 with parameters: []
[2022-04-01T21:31:37Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848697.933248, Skytable = 1648848697.933248
[2022-04-01T21:31:37Z DEBUG tokio_postgres::prepare] preparing query s1458: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:37Z DEBUG tokio_postgres::query] executing statement s1458 with parameters: []
[2022-04-01T21:31:37Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:37Z DEBUG tokio_postgres::prepare] preparing query s1459: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:37Z DEBUG tokio_postgres::query] executing statement s1459 with parameters: []
[2022-04-01T21:31:37Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:31:38Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [21]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:38Z DEBUG tokio_postgres::prepare] preparing query s1460: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:38Z DEBUG tokio_postgres::query] executing statement s1460 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:38Z DEBUG tokio_postgres::prepare] preparing query s1461: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:38Z DEBUG tokio_postgres::query] executing statement s1461 with parameters: []
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:38Z DEBUG tokio_postgres::prepare] preparing query s1462: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:38Z DEBUG tokio_postgres::query] executing statement s1462 with parameters: [0]
[2022-04-01T21:31:38Z DEBUG tokio_postgres::prepare] preparing query s1463: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:38Z DEBUG tokio_postgres::query] executing statement s1463 with parameters: []
[2022-04-01T21:31:38Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:38Z DEBUG tokio_postgres::prepare] preparing query s1464: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:38Z DEBUG tokio_postgres::query] executing statement s1464 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:38Z DEBUG tokio_postgres::prepare] preparing query s1465: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:38Z DEBUG tokio_postgres::query] executing statement s1465 with parameters: []
[2022-04-01T21:31:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:40Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:40Z DEBUG tokio_postgres::prepare] preparing query s1466: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:40Z DEBUG tokio_postgres::query] executing statement s1466 with parameters: []
[2022-04-01T21:31:40Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848698.610546, Skytable = 1648848698.610546
[2022-04-01T21:31:40Z DEBUG tokio_postgres::prepare] preparing query s1467: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:40Z DEBUG tokio_postgres::query] executing statement s1467 with parameters: []
[2022-04-01T21:31:40Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848700.994289, Skytable = 1648848700.994289
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1468: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1468 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1469: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1469 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:41Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1470: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1470 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1471: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1471 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1472: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1472 with parameters: [0]
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1473: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1473 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65454]
[2022-04-01T21:31:41Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:41Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:41Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:41Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1474: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1474 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1475: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1475 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1476: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1476 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1477: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1477 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1478: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1478 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:41Z DEBUG tokio_postgres::prepare] preparing query s1479: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:41Z DEBUG tokio_postgres::query] executing statement s1479 with parameters: []
[2022-04-01T21:31:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:44Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1480: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1480 with parameters: []
[2022-04-01T21:31:44Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848701.765825, Skytable = 1648848701.765825
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1481: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1481 with parameters: []
[2022-04-01T21:31:44Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848704.050132, Skytable = 1648848704.050132
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1482: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1482 with parameters: []
[2022-04-01T21:31:44Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1483: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1483 with parameters: []
[2022-04-01T21:31:44Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:44Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:44Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:44Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:44Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:44Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:44Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:44Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:44Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1484: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1484 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1485: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1485 with parameters: []
[2022-04-01T21:31:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1486: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1486 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1487: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1487 with parameters: []
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1488: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1488 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:44Z DEBUG tokio_postgres::prepare] preparing query s1489: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:44Z DEBUG tokio_postgres::query] executing statement s1489 with parameters: []
[2022-04-01T21:31:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: []
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: []
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:31:45Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [0]
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [23]
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [25]
[2022-04-01T21:31:46Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:31:47Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1490: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1490 with parameters: []
[2022-04-01T21:31:47Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848701.765825, Skytable = 1648848701.765825
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1491: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1491 with parameters: []
[2022-04-01T21:31:47Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848707.108773, Skytable = 1648848707.108773
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1492: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1492 with parameters: []
[2022-04-01T21:31:47Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1493: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1493 with parameters: []
[2022-04-01T21:31:47Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:47Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:47Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1494: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1494 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1495: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1495 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1496: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1496 with parameters: []
[2022-04-01T21:31:47Z DEBUG tokio_postgres::prepare] preparing query s1497: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:47Z DEBUG tokio_postgres::query] executing statement s1497 with parameters: []
[2022-04-01T21:31:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:31:48Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:48Z DEBUG tokio_postgres::prepare] preparing query s1498: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:48Z DEBUG tokio_postgres::query] executing statement s1498 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:48Z DEBUG tokio_postgres::prepare] preparing query s1499: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:48Z DEBUG tokio_postgres::query] executing statement s1499 with parameters: []
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:48Z DEBUG tokio_postgres::prepare] preparing query s1500: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:48Z DEBUG tokio_postgres::query] executing statement s1500 with parameters: [0]
[2022-04-01T21:31:48Z DEBUG tokio_postgres::prepare] preparing query s1501: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:48Z DEBUG tokio_postgres::query] executing statement s1501 with parameters: []
[2022-04-01T21:31:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:49Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:31:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65471]
[2022-04-01T21:31:50Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:50Z DEBUG tokio_postgres::prepare] preparing query s1502: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:50Z DEBUG tokio_postgres::query] executing statement s1502 with parameters: []
[2022-04-01T21:31:50Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848708.697311, Skytable = 1648848708.697311
[2022-04-01T21:31:50Z DEBUG tokio_postgres::prepare] preparing query s1503: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:50Z DEBUG tokio_postgres::query] executing statement s1503 with parameters: []
[2022-04-01T21:31:50Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848710.169394, Skytable = 1648848710.169394
[2022-04-01T21:31:50Z DEBUG tokio_postgres::prepare] preparing query s1504: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:50Z DEBUG tokio_postgres::query] executing statement s1504 with parameters: []
[2022-04-01T21:31:50Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:50Z DEBUG tokio_postgres::prepare] preparing query s1505: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:50Z DEBUG tokio_postgres::query] executing statement s1505 with parameters: []
[2022-04-01T21:31:50Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:50Z DEBUG tokio_postgres::prepare] preparing query s1506: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:50Z DEBUG tokio_postgres::query] executing statement s1506 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:50Z DEBUG tokio_postgres::prepare] preparing query s1507: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:50Z DEBUG tokio_postgres::query] executing statement s1507 with parameters: []
[2022-04-01T21:31:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:51Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:51Z DEBUG tokio_postgres::prepare] preparing query s1508: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:51Z DEBUG tokio_postgres::query] executing statement s1508 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:51Z DEBUG tokio_postgres::prepare] preparing query s1509: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:51Z DEBUG tokio_postgres::query] executing statement s1509 with parameters: []
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:51Z DEBUG tokio_postgres::prepare] preparing query s1510: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:51Z DEBUG tokio_postgres::query] executing statement s1510 with parameters: [0]
[2022-04-01T21:31:51Z DEBUG tokio_postgres::prepare] preparing query s1511: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:51Z DEBUG tokio_postgres::query] executing statement s1511 with parameters: []
[2022-04-01T21:31:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:52Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:31:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65454]
[2022-04-01T21:31:53Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1512: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1512 with parameters: []
[2022-04-01T21:31:53Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848711.840892, Skytable = 1648848711.840892
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1513: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1513 with parameters: []
[2022-04-01T21:31:53Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848713.229626, Skytable = 1648848713.229626
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1514: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1514 with parameters: []
[2022-04-01T21:31:53Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1515: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1515 with parameters: []
[2022-04-01T21:31:53Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:53Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:53Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:53Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:53Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1516: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1516 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1517: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1517 with parameters: []
[2022-04-01T21:31:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1518: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1518 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1519: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1520: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1519 with parameters: []
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1520 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:53Z DEBUG tokio_postgres::prepare] preparing query s1521: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:53Z DEBUG tokio_postgres::query] executing statement s1521 with parameters: []
[2022-04-01T21:31:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:54Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:54Z DEBUG tokio_postgres::prepare] preparing query s1522: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:54Z DEBUG tokio_postgres::query] executing statement s1522 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:54Z DEBUG tokio_postgres::prepare] preparing query s1523: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:54Z DEBUG tokio_postgres::query] executing statement s1523 with parameters: []
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:54Z DEBUG tokio_postgres::prepare] preparing query s1524: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:54Z DEBUG tokio_postgres::query] executing statement s1524 with parameters: [0]
[2022-04-01T21:31:54Z DEBUG tokio_postgres::prepare] preparing query s1525: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:54Z DEBUG tokio_postgres::query] executing statement s1525 with parameters: []
[2022-04-01T21:31:54Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:55Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:31:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65453]
[2022-04-01T21:31:56Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1526: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1526 with parameters: []
[2022-04-01T21:31:56Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848714.980892, Skytable = 1648848714.980892
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1527: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1527 with parameters: []
[2022-04-01T21:31:56Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848716.287661, Skytable = 1648848716.287661
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1528: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1528 with parameters: []
[2022-04-01T21:31:56Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1529: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1529 with parameters: []
[2022-04-01T21:31:56Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:56Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:56Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:56Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:56Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1530: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1530 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1531: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1531 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1532: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1532 with parameters: []
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1533: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1533 with parameters: []
[2022-04-01T21:31:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1534: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1534 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:56Z DEBUG tokio_postgres::prepare] preparing query s1535: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:56Z DEBUG tokio_postgres::query] executing statement s1535 with parameters: []
[2022-04-01T21:31:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:31:57Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:31:58Z DEBUG tokio_postgres::prepare] preparing query s1536: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:31:58Z DEBUG tokio_postgres::query] executing statement s1536 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:31:58Z DEBUG tokio_postgres::prepare] preparing query s1537: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:58Z DEBUG tokio_postgres::query] executing statement s1537 with parameters: []
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:31:58Z DEBUG tokio_postgres::prepare] preparing query s1538: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:31:58Z DEBUG tokio_postgres::query] executing statement s1538 with parameters: [0]
[2022-04-01T21:31:58Z DEBUG tokio_postgres::prepare] preparing query s1539: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:58Z DEBUG tokio_postgres::query] executing statement s1539 with parameters: []
[2022-04-01T21:31:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:31:58Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:31:59Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1540: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1540 with parameters: []
[2022-04-01T21:31:59Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848718.115373, Skytable = 1648848718.115373
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1541: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1541 with parameters: []
[2022-04-01T21:31:59Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848719.329281, Skytable = 1648848719.329281
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1542: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1542 with parameters: []
[2022-04-01T21:31:59Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1543: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1543 with parameters: []
[2022-04-01T21:31:59Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: []
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [20]
[2022-04-01T21:31:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:31:59Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:31:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:31:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:31:59Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:31:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:31:59Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:31:59Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1544: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1545: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1544 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1545 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1546: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::prepare] preparing query s1547: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1546 with parameters: []
[2022-04-01T21:31:59Z DEBUG tokio_postgres::query] executing statement s1547 with parameters: []
[2022-04-01T21:31:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:00Z DEBUG tokio_postgres::prepare] preparing query s1548: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:00Z DEBUG tokio_postgres::query] executing statement s1548 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:00Z DEBUG tokio_postgres::prepare] preparing query s1549: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:00Z DEBUG tokio_postgres::query] executing statement s1549 with parameters: []
[2022-04-01T21:32:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:01Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:01Z DEBUG tokio_postgres::prepare] preparing query s1550: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:01Z DEBUG tokio_postgres::query] executing statement s1550 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:01Z DEBUG tokio_postgres::prepare] preparing query s1551: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:01Z DEBUG tokio_postgres::query] executing statement s1551 with parameters: []
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:01Z DEBUG tokio_postgres::prepare] preparing query s1552: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:01Z DEBUG tokio_postgres::query] executing statement s1552 with parameters: [0]
[2022-04-01T21:32:01Z DEBUG tokio_postgres::prepare] preparing query s1553: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:01Z DEBUG tokio_postgres::query] executing statement s1553 with parameters: []
[2022-04-01T21:32:01Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:02Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:02Z DEBUG tokio_postgres::prepare] preparing query s1554: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:02Z DEBUG tokio_postgres::query] executing statement s1554 with parameters: []
[2022-04-01T21:32:02Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848721.479871, Skytable = 1648848721.479871
[2022-04-01T21:32:02Z DEBUG tokio_postgres::prepare] preparing query s1555: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:02Z DEBUG tokio_postgres::query] executing statement s1555 with parameters: []
[2022-04-01T21:32:02Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848722.354645, Skytable = 1648848722.354645
[2022-04-01T21:32:02Z DEBUG tokio_postgres::prepare] preparing query s1556: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:02Z DEBUG tokio_postgres::query] executing statement s1556 with parameters: []
[2022-04-01T21:32:02Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:02Z DEBUG tokio_postgres::prepare] preparing query s1557: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:02Z DEBUG tokio_postgres::query] executing statement s1557 with parameters: []
[2022-04-01T21:32:02Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:02Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:32:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65474]
[2022-04-01T21:32:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:03Z DEBUG tokio_postgres::prepare] preparing query s1558: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:03Z DEBUG tokio_postgres::query] executing statement s1558 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:03Z DEBUG tokio_postgres::prepare] preparing query s1559: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:03Z DEBUG tokio_postgres::query] executing statement s1559 with parameters: []
[2022-04-01T21:32:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:03Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:03Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:03Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:03Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:03Z DEBUG tokio_postgres::prepare] preparing query s1560: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:03Z DEBUG tokio_postgres::query] executing statement s1560 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:03Z DEBUG tokio_postgres::prepare] preparing query s1561: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:03Z DEBUG tokio_postgres::query] executing statement s1561 with parameters: []
[2022-04-01T21:32:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:03Z DEBUG tokio_postgres::prepare] preparing query s1562: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:03Z DEBUG tokio_postgres::query] executing statement s1562 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:03Z DEBUG tokio_postgres::prepare] preparing query s1563: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:03Z DEBUG tokio_postgres::query] executing statement s1563 with parameters: []
[2022-04-01T21:32:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:04Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:04Z DEBUG tokio_postgres::prepare] preparing query s1564: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:04Z DEBUG tokio_postgres::query] executing statement s1564 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:04Z DEBUG tokio_postgres::prepare] preparing query s1565: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:04Z DEBUG tokio_postgres::query] executing statement s1565 with parameters: []
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:04Z DEBUG tokio_postgres::prepare] preparing query s1566: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:04Z DEBUG tokio_postgres::query] executing statement s1566 with parameters: [0]
[2022-04-01T21:32:04Z DEBUG tokio_postgres::prepare] preparing query s1567: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:04Z DEBUG tokio_postgres::query] executing statement s1567 with parameters: []
[2022-04-01T21:32:04Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:05Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:05Z DEBUG tokio_postgres::prepare] preparing query s1568: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:05Z DEBUG tokio_postgres::query] executing statement s1568 with parameters: []
[2022-04-01T21:32:05Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848724.615913, Skytable = 1648848724.615913
[2022-04-01T21:32:05Z DEBUG tokio_postgres::prepare] preparing query s1569: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:05Z DEBUG tokio_postgres::query] executing statement s1569 with parameters: []
[2022-04-01T21:32:05Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848725.39785, Skytable = 1648848725.39785
[2022-04-01T21:32:05Z DEBUG tokio_postgres::prepare] preparing query s1570: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:05Z DEBUG tokio_postgres::query] executing statement s1570 with parameters: []
[2022-04-01T21:32:05Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:05Z DEBUG tokio_postgres::prepare] preparing query s1571: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:05Z DEBUG tokio_postgres::query] executing statement s1571 with parameters: []
[2022-04-01T21:32:05Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:05Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:06Z DEBUG tokio_postgres::prepare] preparing query s1572: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:06Z DEBUG tokio_postgres::query] executing statement s1572 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:06Z DEBUG tokio_postgres::prepare] preparing query s1573: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:06Z DEBUG tokio_postgres::query] executing statement s1573 with parameters: []
[2022-04-01T21:32:06Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:06Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:06Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:06Z DEBUG tokio_postgres::prepare] preparing query s1574: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:06Z DEBUG tokio_postgres::query] executing statement s1574 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:06Z DEBUG tokio_postgres::prepare] preparing query s1575: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:06Z DEBUG tokio_postgres::query] executing statement s1575 with parameters: []
[2022-04-01T21:32:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:06Z DEBUG tokio_postgres::prepare] preparing query s1576: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:06Z DEBUG tokio_postgres::query] executing statement s1576 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:06Z DEBUG tokio_postgres::prepare] preparing query s1577: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:06Z DEBUG tokio_postgres::query] executing statement s1577 with parameters: []
[2022-04-01T21:32:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:32:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:32:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:32:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:32:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [18]
[2022-04-01T21:32:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:07Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1578: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1578 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1579: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1579 with parameters: []
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1580: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1580 with parameters: [0]
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1581: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1581 with parameters: []
[2022-04-01T21:32:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:08Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1582: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1582 with parameters: []
[2022-04-01T21:32:08Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848728.129388, Skytable = 1648848728.129388
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1583: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1583 with parameters: []
[2022-04-01T21:32:08Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848728.458958, Skytable = 1648848728.458958
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1584: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1584 with parameters: []
[2022-04-01T21:32:08Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::prepare] preparing query s1585: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:08Z DEBUG tokio_postgres::query] executing statement s1585 with parameters: []
[2022-04-01T21:32:08Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:09Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:09Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:09Z DEBUG tokio_postgres::prepare] preparing query s1586: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:09Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:09Z DEBUG tokio_postgres::query] executing statement s1586 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:09Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:09Z DEBUG tokio_postgres::prepare] preparing query s1587: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:09Z DEBUG tokio_postgres::prepare] preparing query s1588: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:09Z DEBUG tokio_postgres::query] executing statement s1587 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:09Z DEBUG tokio_postgres::query] executing statement s1588 with parameters: []
[2022-04-01T21:32:09Z DEBUG tokio_postgres::prepare] preparing query s1589: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:09Z DEBUG tokio_postgres::query] executing statement s1589 with parameters: []
[2022-04-01T21:32:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:09Z DEBUG tokio_postgres::prepare] preparing query s1590: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:09Z DEBUG tokio_postgres::query] executing statement s1590 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:09Z DEBUG tokio_postgres::prepare] preparing query s1591: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:09Z DEBUG tokio_postgres::query] executing statement s1591 with parameters: []
[2022-04-01T21:32:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:10Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:32:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65460]
[2022-04-01T21:32:11Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1592: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1592 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1593: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1593 with parameters: []
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1594: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1594 with parameters: [0]
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1595: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1595 with parameters: []
[2022-04-01T21:32:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:11Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1596: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1596 with parameters: []
[2022-04-01T21:32:11Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848731.270754, Skytable = 1648848731.270754
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1597: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1597 with parameters: []
[2022-04-01T21:32:11Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848731.512253, Skytable = 1648848731.512253
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1598: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1598 with parameters: []
[2022-04-01T21:32:11Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::prepare] preparing query s1599: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:11Z DEBUG tokio_postgres::query] executing statement s1599 with parameters: []
[2022-04-01T21:32:11Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:12Z DEBUG tokio_postgres::prepare] preparing query s1600: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:12Z DEBUG tokio_postgres::query] executing statement s1600 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:12Z DEBUG tokio_postgres::prepare] preparing query s1601: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:12Z DEBUG tokio_postgres::query] executing statement s1601 with parameters: []
[2022-04-01T21:32:12Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:12Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:12Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:12Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:12Z DEBUG tokio_postgres::prepare] preparing query s1602: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:12Z DEBUG tokio_postgres::query] executing statement s1602 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:12Z DEBUG tokio_postgres::prepare] preparing query s1603: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:12Z DEBUG tokio_postgres::query] executing statement s1603 with parameters: []
[2022-04-01T21:32:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:12Z DEBUG tokio_postgres::prepare] preparing query s1604: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:12Z DEBUG tokio_postgres::query] executing statement s1604 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:12Z DEBUG tokio_postgres::prepare] preparing query s1605: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:12Z DEBUG tokio_postgres::query] executing statement s1605 with parameters: []
[2022-04-01T21:32:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:13Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:32:14Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [19]
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:14Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:14Z DEBUG tokio_postgres::prepare] preparing query s1606: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:14Z DEBUG tokio_postgres::query] executing statement s1606 with parameters: []
[2022-04-01T21:32:14Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848731.270754, Skytable = 1648848731.270754
[2022-04-01T21:32:14Z DEBUG tokio_postgres::prepare] preparing query s1607: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:14Z DEBUG tokio_postgres::query] executing statement s1607 with parameters: []
[2022-04-01T21:32:14Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848734.531774, Skytable = 1648848734.531774
[2022-04-01T21:32:14Z DEBUG tokio_postgres::prepare] preparing query s1608: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:14Z DEBUG tokio_postgres::query] executing statement s1608 with parameters: []
[2022-04-01T21:32:14Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:14Z DEBUG tokio_postgres::prepare] preparing query s1609: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:14Z DEBUG tokio_postgres::query] executing statement s1609 with parameters: []
[2022-04-01T21:32:14Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: []
[2022-04-01T21:32:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:15Z DEBUG tokio_postgres::prepare] preparing query s1610: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:15Z DEBUG tokio_postgres::query] executing statement s1610 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:15Z DEBUG tokio_postgres::prepare] preparing query s1611: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:15Z DEBUG tokio_postgres::query] executing statement s1611 with parameters: []
[2022-04-01T21:32:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:15Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:15Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:15Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:15Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:15Z DEBUG tokio_postgres::prepare] preparing query s1612: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:15Z DEBUG tokio_postgres::query] executing statement s1612 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:15Z DEBUG tokio_postgres::prepare] preparing query s1613: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:15Z DEBUG tokio_postgres::query] executing statement s1613 with parameters: []
[2022-04-01T21:32:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:15Z DEBUG tokio_postgres::prepare] preparing query s1614: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:15Z DEBUG tokio_postgres::query] executing statement s1614 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:15Z DEBUG tokio_postgres::prepare] preparing query s1615: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:15Z DEBUG tokio_postgres::query] executing statement s1615 with parameters: []
[2022-04-01T21:32:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:32:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:32:15Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:32:17Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:17Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:17Z DEBUG tokio_postgres::prepare] preparing query s1616: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:17Z DEBUG tokio_postgres::query] executing statement s1616 with parameters: []
[2022-04-01T21:32:17Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848731.270754, Skytable = 1648848731.270754
[2022-04-01T21:32:17Z DEBUG tokio_postgres::prepare] preparing query s1617: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:17Z DEBUG tokio_postgres::query] executing statement s1617 with parameters: []
[2022-04-01T21:32:17Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848737.570176, Skytable = 1648848737.570176
[2022-04-01T21:32:17Z DEBUG tokio_postgres::prepare] preparing query s1618: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:17Z DEBUG tokio_postgres::query] executing statement s1618 with parameters: []
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:17Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:17Z DEBUG tokio_postgres::prepare] preparing query s1619: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:17Z DEBUG tokio_postgres::query] executing statement s1619 with parameters: []
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:32:17Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65470]
[2022-04-01T21:32:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1620: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1620 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1621: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1621 with parameters: []
[2022-04-01T21:32:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:18Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:18Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1622: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1622 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1623: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1623 with parameters: []
[2022-04-01T21:32:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:18Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1624: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1624 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1625: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1625 with parameters: []
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1626: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1626 with parameters: [0]
[2022-04-01T21:32:18Z DEBUG tokio_postgres::prepare] preparing query s1627: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:18Z DEBUG tokio_postgres::query] executing statement s1627 with parameters: []
[2022-04-01T21:32:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:20Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:20Z DEBUG tokio_postgres::prepare] preparing query s1628: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:20Z DEBUG tokio_postgres::query] executing statement s1628 with parameters: []
[2022-04-01T21:32:20Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848738.501731, Skytable = 1648848738.501731
[2022-04-01T21:32:20Z DEBUG tokio_postgres::prepare] preparing query s1629: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:20Z DEBUG tokio_postgres::query] executing statement s1629 with parameters: []
[2022-04-01T21:32:20Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848740.608837, Skytable = 1648848740.608837
[2022-04-01T21:32:20Z DEBUG tokio_postgres::prepare] preparing query s1630: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:20Z DEBUG tokio_postgres::query] executing statement s1630 with parameters: []
[2022-04-01T21:32:20Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:20Z DEBUG tokio_postgres::prepare] preparing query s1631: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:20Z DEBUG tokio_postgres::query] executing statement s1631 with parameters: []
[2022-04-01T21:32:20Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:20Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:21Z DEBUG tokio_postgres::prepare] preparing query s1632: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:21Z DEBUG tokio_postgres::query] executing statement s1632 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:21Z DEBUG tokio_postgres::prepare] preparing query s1633: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:21Z DEBUG tokio_postgres::query] executing statement s1633 with parameters: []
[2022-04-01T21:32:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [17]
[2022-04-01T21:32:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:21Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:22Z DEBUG tokio_postgres::prepare] preparing query s1634: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:22Z DEBUG tokio_postgres::query] executing statement s1634 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:22Z DEBUG tokio_postgres::prepare] preparing query s1635: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:22Z DEBUG tokio_postgres::query] executing statement s1635 with parameters: []
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:22Z DEBUG tokio_postgres::prepare] preparing query s1636: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:22Z DEBUG tokio_postgres::query] executing statement s1636 with parameters: [0]
[2022-04-01T21:32:22Z DEBUG tokio_postgres::prepare] preparing query s1637: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:22Z DEBUG tokio_postgres::query] executing statement s1637 with parameters: []
[2022-04-01T21:32:22Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:23Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:23Z DEBUG tokio_postgres::prepare] preparing query s1638: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:23Z DEBUG tokio_postgres::query] executing statement s1638 with parameters: []
[2022-04-01T21:32:23Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848742.661559, Skytable = 1648848742.661559
[2022-04-01T21:32:23Z DEBUG tokio_postgres::prepare] preparing query s1639: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:23Z DEBUG tokio_postgres::query] executing statement s1639 with parameters: []
[2022-04-01T21:32:23Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848743.626091, Skytable = 1648848743.626091
[2022-04-01T21:32:23Z DEBUG tokio_postgres::prepare] preparing query s1640: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:23Z DEBUG tokio_postgres::query] executing statement s1640 with parameters: []
[2022-04-01T21:32:23Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:23Z DEBUG tokio_postgres::prepare] preparing query s1641: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:23Z DEBUG tokio_postgres::query] executing statement s1641 with parameters: []
[2022-04-01T21:32:23Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:24Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:24Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:24Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:24Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:24Z DEBUG tokio_postgres::prepare] preparing query s1642: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:24Z DEBUG tokio_postgres::query] executing statement s1642 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:24Z DEBUG tokio_postgres::prepare] preparing query s1643: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:24Z DEBUG tokio_postgres::query] executing statement s1643 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:24Z DEBUG tokio_postgres::prepare] preparing query s1644: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:24Z DEBUG tokio_postgres::query] executing statement s1644 with parameters: []
[2022-04-01T21:32:24Z DEBUG tokio_postgres::prepare] preparing query s1645: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:24Z DEBUG tokio_postgres::query] executing statement s1645 with parameters: []
[2022-04-01T21:32:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:24Z DEBUG tokio_postgres::prepare] preparing query s1646: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:24Z DEBUG tokio_postgres::query] executing statement s1646 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:24Z DEBUG tokio_postgres::prepare] preparing query s1647: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:24Z DEBUG tokio_postgres::query] executing statement s1647 with parameters: []
[2022-04-01T21:32:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:24Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:32:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65473]
[2022-04-01T21:32:25Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:25Z DEBUG tokio_postgres::prepare] preparing query s1648: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:25Z DEBUG tokio_postgres::query] executing statement s1648 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:25Z DEBUG tokio_postgres::prepare] preparing query s1649: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:25Z DEBUG tokio_postgres::query] executing statement s1649 with parameters: []
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:25Z DEBUG tokio_postgres::prepare] preparing query s1650: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:25Z DEBUG tokio_postgres::query] executing statement s1650 with parameters: [0]
[2022-04-01T21:32:25Z DEBUG tokio_postgres::prepare] preparing query s1651: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:25Z DEBUG tokio_postgres::query] executing statement s1651 with parameters: []
[2022-04-01T21:32:25Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:26Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:26Z DEBUG tokio_postgres::prepare] preparing query s1652: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:26Z DEBUG tokio_postgres::query] executing statement s1652 with parameters: []
[2022-04-01T21:32:26Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848745.801228, Skytable = 1648848745.801228
[2022-04-01T21:32:26Z DEBUG tokio_postgres::prepare] preparing query s1653: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:26Z DEBUG tokio_postgres::query] executing statement s1653 with parameters: []
[2022-04-01T21:32:26Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848746.671119, Skytable = 1648848746.671119
[2022-04-01T21:32:26Z DEBUG tokio_postgres::prepare] preparing query s1654: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:26Z DEBUG tokio_postgres::query] executing statement s1654 with parameters: []
[2022-04-01T21:32:26Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:26Z DEBUG tokio_postgres::prepare] preparing query s1655: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:26Z DEBUG tokio_postgres::query] executing statement s1655 with parameters: []
[2022-04-01T21:32:26Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:27Z DEBUG tokio_postgres::prepare] preparing query s1656: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:27Z DEBUG tokio_postgres::query] executing statement s1656 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:27Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:27Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:27Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:27Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:27Z DEBUG tokio_postgres::prepare] preparing query s1657: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:27Z DEBUG tokio_postgres::query] executing statement s1657 with parameters: []
[2022-04-01T21:32:27Z DEBUG tokio_postgres::prepare] preparing query s1658: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:27Z DEBUG tokio_postgres::query] executing statement s1658 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:27Z DEBUG tokio_postgres::prepare] preparing query s1659: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:27Z DEBUG tokio_postgres::query] executing statement s1659 with parameters: []
[2022-04-01T21:32:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:27Z DEBUG tokio_postgres::prepare] preparing query s1660: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:27Z DEBUG tokio_postgres::query] executing statement s1660 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:27Z DEBUG tokio_postgres::prepare] preparing query s1661: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:27Z DEBUG tokio_postgres::query] executing statement s1661 with parameters: []
[2022-04-01T21:32:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:27Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: []
[2022-04-01T21:32:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:28Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [0]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [23]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [26]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1662: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1662 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1663: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1663 with parameters: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1664: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1664 with parameters: [0]
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1665: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1665 with parameters: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:29Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1666: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1666 with parameters: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848749.630439, Skytable = 1648848749.630439
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1667: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1667 with parameters: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848749.72822, Skytable = 1648848749.72822
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1668: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1668 with parameters: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::prepare] preparing query s1669: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:29Z DEBUG tokio_postgres::query] executing statement s1669 with parameters: []
[2022-04-01T21:32:29Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:30Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:30Z DEBUG tokio_postgres::prepare] preparing query s1670: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:30Z DEBUG tokio_postgres::query] executing statement s1670 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:30Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:30Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:30Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:30Z DEBUG tokio_postgres::prepare] preparing query s1671: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:30Z DEBUG tokio_postgres::query] executing statement s1671 with parameters: []
[2022-04-01T21:32:30Z DEBUG tokio_postgres::prepare] preparing query s1672: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:30Z DEBUG tokio_postgres::query] executing statement s1672 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:30Z DEBUG tokio_postgres::prepare] preparing query s1673: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:30Z DEBUG tokio_postgres::query] executing statement s1673 with parameters: []
[2022-04-01T21:32:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:30Z DEBUG tokio_postgres::prepare] preparing query s1674: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:30Z DEBUG tokio_postgres::query] executing statement s1674 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:30Z DEBUG tokio_postgres::prepare] preparing query s1675: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:30Z DEBUG tokio_postgres::query] executing statement s1675 with parameters: []
[2022-04-01T21:32:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:32Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:32:32Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1676: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1676 with parameters: []
[2022-04-01T21:32:32Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848749.630439, Skytable = 1648848749.630439
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1677: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1677 with parameters: []
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1678: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:32Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848752.767714, Skytable = 1648848752.767714
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1678 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1679: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1679 with parameters: []
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1680: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1680 with parameters: [0]
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1681: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1682: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1681 with parameters: []
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1682 with parameters: []
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65471]
[2022-04-01T21:32:32Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::prepare] preparing query s1683: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:32Z DEBUG tokio_postgres::query] executing statement s1683 with parameters: []
[2022-04-01T21:32:32Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:33Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:33Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:33Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:33Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:33Z DEBUG tokio_postgres::prepare] preparing query s1684: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:33Z DEBUG tokio_postgres::query] executing statement s1684 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:33Z DEBUG tokio_postgres::prepare] preparing query s1685: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:33Z DEBUG tokio_postgres::query] executing statement s1685 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:33Z DEBUG tokio_postgres::prepare] preparing query s1686: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:33Z DEBUG tokio_postgres::query] executing statement s1686 with parameters: []
[2022-04-01T21:32:33Z DEBUG tokio_postgres::prepare] preparing query s1687: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:33Z DEBUG tokio_postgres::query] executing statement s1687 with parameters: []
[2022-04-01T21:32:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:33Z DEBUG tokio_postgres::prepare] preparing query s1688: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:33Z DEBUG tokio_postgres::query] executing statement s1688 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:33Z DEBUG tokio_postgres::prepare] preparing query s1689: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:33Z DEBUG tokio_postgres::query] executing statement s1689 with parameters: []
[2022-04-01T21:32:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:35Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:35Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:35Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:35Z DEBUG tokio_postgres::prepare] preparing query s1690: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:35Z DEBUG tokio_postgres::query] executing statement s1690 with parameters: []
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:35Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848752.771754, Skytable = 1648848752.771754
[2022-04-01T21:32:35Z DEBUG tokio_postgres::prepare] preparing query s1691: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:35Z DEBUG tokio_postgres::query] executing statement s1691 with parameters: []
[2022-04-01T21:32:35Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848755.807716, Skytable = 1648848755.807716
[2022-04-01T21:32:35Z DEBUG tokio_postgres::prepare] preparing query s1692: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:35Z DEBUG tokio_postgres::query] executing statement s1692 with parameters: []
[2022-04-01T21:32:35Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:35Z DEBUG tokio_postgres::prepare] preparing query s1693: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:35Z DEBUG tokio_postgres::query] executing statement s1693 with parameters: []
[2022-04-01T21:32:35Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:35Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:36Z DEBUG tokio_postgres::prepare] preparing query s1694: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:36Z DEBUG tokio_postgres::query] executing statement s1694 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:36Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:36Z DEBUG tokio_postgres::prepare] preparing query s1695: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:36Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:36Z DEBUG tokio_postgres::query] executing statement s1695 with parameters: []
[2022-04-01T21:32:36Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:36Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:36Z DEBUG tokio_postgres::prepare] preparing query s1696: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:36Z DEBUG tokio_postgres::query] executing statement s1696 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:36Z DEBUG tokio_postgres::prepare] preparing query s1697: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:36Z DEBUG tokio_postgres::query] executing statement s1697 with parameters: []
[2022-04-01T21:32:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:36Z DEBUG tokio_postgres::prepare] preparing query s1698: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:36Z DEBUG tokio_postgres::query] executing statement s1698 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:36Z DEBUG tokio_postgres::prepare] preparing query s1699: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:36Z DEBUG tokio_postgres::query] executing statement s1699 with parameters: []
[2022-04-01T21:32:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: []
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:36Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:32:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: []
[2022-04-01T21:32:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [0]
[2022-04-01T21:32:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [0]
[2022-04-01T21:32:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [22]
[2022-04-01T21:32:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:38Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:38Z DEBUG tokio_postgres::prepare] preparing query s1700: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:38Z DEBUG tokio_postgres::query] executing statement s1700 with parameters: []
[2022-04-01T21:32:38Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848752.771754, Skytable = 1648848752.771754
[2022-04-01T21:32:38Z DEBUG tokio_postgres::prepare] preparing query s1701: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:38Z DEBUG tokio_postgres::query] executing statement s1701 with parameters: []
[2022-04-01T21:32:38Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848758.843088, Skytable = 1648848758.843088
[2022-04-01T21:32:38Z DEBUG tokio_postgres::prepare] preparing query s1702: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:38Z DEBUG tokio_postgres::query] executing statement s1702 with parameters: []
[2022-04-01T21:32:38Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:38Z DEBUG tokio_postgres::prepare] preparing query s1703: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:38Z DEBUG tokio_postgres::query] executing statement s1703 with parameters: []
[2022-04-01T21:32:38Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:39Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1704: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:39Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1704 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1705: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1705 with parameters: []
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1706: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1706 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:32:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1707: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1707 with parameters: []
[2022-04-01T21:32:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:32:39Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1708: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1708 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1709: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1709 with parameters: []
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1710: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1710 with parameters: [0]
[2022-04-01T21:32:39Z DEBUG tokio_postgres::prepare] preparing query s1711: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:39Z DEBUG tokio_postgres::query] executing statement s1711 with parameters: []
[2022-04-01T21:32:39Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:40Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:32:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65461]
[2022-04-01T21:32:41Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:41Z DEBUG tokio_postgres::prepare] preparing query s1712: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:41Z DEBUG tokio_postgres::query] executing statement s1712 with parameters: []
[2022-04-01T21:32:41Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848759.974461, Skytable = 1648848759.974461
[2022-04-01T21:32:41Z DEBUG tokio_postgres::prepare] preparing query s1713: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:41Z DEBUG tokio_postgres::query] executing statement s1713 with parameters: []
[2022-04-01T21:32:41Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848761.876579, Skytable = 1648848761.876579
[2022-04-01T21:32:41Z DEBUG tokio_postgres::prepare] preparing query s1714: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:41Z DEBUG tokio_postgres::query] executing statement s1714 with parameters: []
[2022-04-01T21:32:41Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:41Z DEBUG tokio_postgres::prepare] preparing query s1715: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:41Z DEBUG tokio_postgres::query] executing statement s1715 with parameters: []
[2022-04-01T21:32:41Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:42Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:42Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:42Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:42Z DEBUG tokio_postgres::prepare] preparing query s1716: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:42Z DEBUG tokio_postgres::query] executing statement s1716 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:42Z DEBUG tokio_postgres::prepare] preparing query s1717: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:42Z DEBUG tokio_postgres::query] executing statement s1717 with parameters: []
[2022-04-01T21:32:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:42Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: []
[2022-04-01T21:32:43Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:32:44Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:32:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65480]
[2022-04-01T21:32:44Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:44Z DEBUG tokio_postgres::prepare] preparing query s1718: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:44Z DEBUG tokio_postgres::query] executing statement s1718 with parameters: []
[2022-04-01T21:32:44Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848759.974461, Skytable = 1648848759.974461
[2022-04-01T21:32:44Z DEBUG tokio_postgres::prepare] preparing query s1719: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:44Z DEBUG tokio_postgres::query] executing statement s1719 with parameters: []
[2022-04-01T21:32:44Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848764.934921, Skytable = 1648848764.934921
[2022-04-01T21:32:44Z DEBUG tokio_postgres::prepare] preparing query s1720: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:44Z DEBUG tokio_postgres::query] executing statement s1720 with parameters: []
[2022-04-01T21:32:44Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:44Z DEBUG tokio_postgres::prepare] preparing query s1721: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:44Z DEBUG tokio_postgres::query] executing statement s1721 with parameters: []
[2022-04-01T21:32:44Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:45Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:45Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:45Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:45Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:45Z DEBUG tokio_postgres::prepare] preparing query s1722: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:45Z DEBUG tokio_postgres::query] executing statement s1722 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:45Z DEBUG tokio_postgres::prepare] preparing query s1723: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:45Z DEBUG tokio_postgres::query] executing statement s1723 with parameters: []
[2022-04-01T21:32:45Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:45Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:45Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:45Z DEBUG tokio_postgres::prepare] preparing query s1724: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:45Z DEBUG tokio_postgres::query] executing statement s1724 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:45Z DEBUG tokio_postgres::prepare] preparing query s1725: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:45Z DEBUG tokio_postgres::query] executing statement s1725 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:45Z DEBUG tokio_postgres::prepare] preparing query s1726: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:45Z DEBUG tokio_postgres::query] executing statement s1726 with parameters: []
[2022-04-01T21:32:45Z DEBUG tokio_postgres::prepare] preparing query s1727: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:45Z DEBUG tokio_postgres::query] executing statement s1727 with parameters: []
[2022-04-01T21:32:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:46Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:46Z DEBUG tokio_postgres::prepare] preparing query s1728: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:46Z DEBUG tokio_postgres::query] executing statement s1728 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:46Z DEBUG tokio_postgres::prepare] preparing query s1729: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:46Z DEBUG tokio_postgres::query] executing statement s1729 with parameters: []
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:46Z DEBUG tokio_postgres::prepare] preparing query s1730: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:46Z DEBUG tokio_postgres::query] executing statement s1730 with parameters: [0]
[2022-04-01T21:32:46Z DEBUG tokio_postgres::prepare] preparing query s1731: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:46Z DEBUG tokio_postgres::query] executing statement s1731 with parameters: []
[2022-04-01T21:32:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:47Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:32:47Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65479]
[2022-04-01T21:32:47Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:47Z DEBUG tokio_postgres::prepare] preparing query s1732: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:47Z DEBUG tokio_postgres::query] executing statement s1732 with parameters: []
[2022-04-01T21:32:47Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848766.945745, Skytable = 1648848766.945745
[2022-04-01T21:32:47Z DEBUG tokio_postgres::prepare] preparing query s1733: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:47Z DEBUG tokio_postgres::query] executing statement s1733 with parameters: []
[2022-04-01T21:32:47Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848767.974812, Skytable = 1648848767.974812
[2022-04-01T21:32:47Z DEBUG tokio_postgres::prepare] preparing query s1734: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:47Z DEBUG tokio_postgres::query] executing statement s1734 with parameters: []
[2022-04-01T21:32:47Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:47Z DEBUG tokio_postgres::prepare] preparing query s1735: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:47Z DEBUG tokio_postgres::query] executing statement s1735 with parameters: []
[2022-04-01T21:32:47Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:48Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:48Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:48Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:48Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:48Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:48Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:48Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:48Z DEBUG tokio_postgres::prepare] preparing query s1736: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:48Z DEBUG tokio_postgres::prepare] preparing query s1737: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:48Z DEBUG tokio_postgres::query] executing statement s1737 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:48Z DEBUG tokio_postgres::query] executing statement s1736 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:48Z DEBUG tokio_postgres::prepare] preparing query s1738: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:48Z DEBUG tokio_postgres::query] executing statement s1738 with parameters: []
[2022-04-01T21:32:48Z DEBUG tokio_postgres::prepare] preparing query s1739: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:48Z DEBUG tokio_postgres::query] executing statement s1739 with parameters: []
[2022-04-01T21:32:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:48Z DEBUG tokio_postgres::prepare] preparing query s1740: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:48Z DEBUG tokio_postgres::query] executing statement s1740 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:48Z DEBUG tokio_postgres::prepare] preparing query s1741: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:48Z DEBUG tokio_postgres::query] executing statement s1741 with parameters: []
[2022-04-01T21:32:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:49Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:49Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1742: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1742 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1743: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1743 with parameters: []
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1744: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1744 with parameters: [0]
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1745: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1745 with parameters: []
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:50Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:50Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1746: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1746 with parameters: []
[2022-04-01T21:32:50Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848770.086571, Skytable = 1648848770.086571
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1747: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1747 with parameters: []
[2022-04-01T21:32:50Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848770.990646, Skytable = 1648848770.990646
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1748: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1748 with parameters: []
[2022-04-01T21:32:50Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::prepare] preparing query s1749: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:50Z DEBUG tokio_postgres::query] executing statement s1749 with parameters: []
[2022-04-01T21:32:50Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:51Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:51Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:51Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:51Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:51Z DEBUG tokio_postgres::prepare] preparing query s1750: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:51Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:51Z DEBUG tokio_postgres::query] executing statement s1750 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:51Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:51Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:51Z DEBUG tokio_postgres::prepare] preparing query s1751: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:51Z DEBUG tokio_postgres::query] executing statement s1751 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:51Z DEBUG tokio_postgres::prepare] preparing query s1752: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:51Z DEBUG tokio_postgres::query] executing statement s1752 with parameters: []
[2022-04-01T21:32:51Z DEBUG tokio_postgres::prepare] preparing query s1753: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:51Z DEBUG tokio_postgres::query] executing statement s1753 with parameters: []
[2022-04-01T21:32:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:51Z DEBUG tokio_postgres::prepare] preparing query s1754: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:51Z DEBUG tokio_postgres::query] executing statement s1754 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:51Z DEBUG tokio_postgres::prepare] preparing query s1755: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:51Z DEBUG tokio_postgres::query] executing statement s1755 with parameters: []
[2022-04-01T21:32:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:32:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:32:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-04-01T21:32:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:32:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [18]
[2022-04-01T21:32:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:53Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:53Z DEBUG tokio_postgres::prepare] preparing query s1756: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:53Z DEBUG tokio_postgres::query] executing statement s1756 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:53Z DEBUG tokio_postgres::prepare] preparing query s1757: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:53Z DEBUG tokio_postgres::query] executing statement s1757 with parameters: []
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:53Z DEBUG tokio_postgres::prepare] preparing query s1758: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:53Z DEBUG tokio_postgres::query] executing statement s1758 with parameters: [0]
[2022-04-01T21:32:53Z DEBUG tokio_postgres::prepare] preparing query s1759: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:53Z DEBUG tokio_postgres::query] executing statement s1759 with parameters: []
[2022-04-01T21:32:53Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:53Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1760: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1760 with parameters: []
[2022-04-01T21:32:54Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848773.241951, Skytable = 1648848773.241951
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1761: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1761 with parameters: []
[2022-04-01T21:32:54Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848774.023288, Skytable = 1648848774.023288
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1762: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1762 with parameters: []
[2022-04-01T21:32:54Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1763: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1763 with parameters: []
[2022-04-01T21:32:54Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:54Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:54Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:54Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:54Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1764: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1764 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:54Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:54Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:54Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1765: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1765 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1766: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1766 with parameters: []
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1767: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1767 with parameters: []
[2022-04-01T21:32:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1768: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1768 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:54Z DEBUG tokio_postgres::prepare] preparing query s1769: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:54Z DEBUG tokio_postgres::query] executing statement s1769 with parameters: []
[2022-04-01T21:32:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:54Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:32:54Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65448]
[2022-04-01T21:32:56Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:56Z DEBUG tokio_postgres::prepare] preparing query s1770: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:56Z DEBUG tokio_postgres::query] executing statement s1770 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:56Z DEBUG tokio_postgres::prepare] preparing query s1771: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:56Z DEBUG tokio_postgres::query] executing statement s1771 with parameters: []
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:56Z DEBUG tokio_postgres::prepare] preparing query s1772: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:56Z DEBUG tokio_postgres::query] executing statement s1772 with parameters: [0]
[2022-04-01T21:32:56Z DEBUG tokio_postgres::prepare] preparing query s1773: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:56Z DEBUG tokio_postgres::query] executing statement s1773 with parameters: []
[2022-04-01T21:32:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:32:57Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1774: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1774 with parameters: []
[2022-04-01T21:32:57Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848776.376128, Skytable = 1648848776.376128
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1775: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1775 with parameters: []
[2022-04-01T21:32:57Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848777.081344, Skytable = 1648848777.081344
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1776: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1776 with parameters: []
[2022-04-01T21:32:57Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1777: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1777 with parameters: []
[2022-04-01T21:32:57Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:32:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:32:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:32:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:32:57Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:32:57Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:32:57Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:32:57Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1778: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1778 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1779: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1779 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1780: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1780 with parameters: []
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1781: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1781 with parameters: []
[2022-04-01T21:32:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:32:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1782: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1782 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:32:57Z DEBUG tokio_postgres::prepare] preparing query s1783: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:57Z DEBUG tokio_postgres::query] executing statement s1783 with parameters: []
[2022-04-01T21:32:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:32:57Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:32:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:32:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:32:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:32:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:32:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: []
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [16]
[2022-04-01T21:32:58Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:32:59Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:32:59Z DEBUG tokio_postgres::prepare] preparing query s1784: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:32:59Z DEBUG tokio_postgres::query] executing statement s1784 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:32:59Z DEBUG tokio_postgres::prepare] preparing query s1785: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:32:59Z DEBUG tokio_postgres::query] executing statement s1785 with parameters: []
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:32:59Z DEBUG tokio_postgres::prepare] preparing query s1786: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:32:59Z DEBUG tokio_postgres::query] executing statement s1786 with parameters: [0]
[2022-04-01T21:32:59Z DEBUG tokio_postgres::prepare] preparing query s1787: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:32:59Z DEBUG tokio_postgres::query] executing statement s1787 with parameters: []
[2022-04-01T21:32:59Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:00Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1788: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1788 with parameters: []
[2022-04-01T21:33:00Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848779.533622, Skytable = 1648848779.533622
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1789: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1789 with parameters: []
[2022-04-01T21:33:00Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848780.140163, Skytable = 1648848780.140163
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1790: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1790 with parameters: []
[2022-04-01T21:33:00Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1791: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1791 with parameters: []
[2022-04-01T21:33:00Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:00Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:00Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:00Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:00Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1792: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1792 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1793: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1793 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1794: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1794 with parameters: []
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1795: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1795 with parameters: []
[2022-04-01T21:33:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1796: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1796 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:00Z DEBUG tokio_postgres::prepare] preparing query s1797: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:00Z DEBUG tokio_postgres::query] executing statement s1797 with parameters: []
[2022-04-01T21:33:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:01Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65463]
[2022-04-01T21:33:02Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:02Z DEBUG tokio_postgres::prepare] preparing query s1798: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:02Z DEBUG tokio_postgres::query] executing statement s1798 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:02Z DEBUG tokio_postgres::prepare] preparing query s1799: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:02Z DEBUG tokio_postgres::query] executing statement s1799 with parameters: []
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:02Z DEBUG tokio_postgres::prepare] preparing query s1800: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:02Z DEBUG tokio_postgres::query] executing statement s1800 with parameters: [0]
[2022-04-01T21:33:02Z DEBUG tokio_postgres::prepare] preparing query s1801: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:02Z DEBUG tokio_postgres::query] executing statement s1801 with parameters: []
[2022-04-01T21:33:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:03Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1802: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1802 with parameters: []
[2022-04-01T21:33:03Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848782.673317, Skytable = 1648848782.673317
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1803: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1803 with parameters: []
[2022-04-01T21:33:03Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848783.179837, Skytable = 1648848783.179837
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1804: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1804 with parameters: []
[2022-04-01T21:33:03Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1805: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1805 with parameters: []
[2022-04-01T21:33:03Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:03Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:03Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:03Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:03Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1806: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1806 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1807: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1807 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1808: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1808 with parameters: []
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1809: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1809 with parameters: []
[2022-04-01T21:33:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1810: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1810 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:03Z DEBUG tokio_postgres::prepare] preparing query s1811: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:03Z DEBUG tokio_postgres::query] executing statement s1811 with parameters: []
[2022-04-01T21:33:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:05Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [18]
[2022-04-01T21:33:05Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65470]
[2022-04-01T21:33:05Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:06Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1812: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1812 with parameters: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848782.673317, Skytable = 1648848782.673317
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1813: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1813 with parameters: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848786.213126, Skytable = 1648848786.213126
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1814: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1814 with parameters: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1815: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1815 with parameters: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:06Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:06Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:06Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:06Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1816: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1816 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1817: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1817 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1818: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1818 with parameters: []
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1819: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1819 with parameters: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1820: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1820 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:06Z DEBUG tokio_postgres::prepare] preparing query s1821: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:06Z DEBUG tokio_postgres::query] executing statement s1821 with parameters: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: []
[2022-04-01T21:33:06Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:33:08Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:33:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65456]
[2022-04-01T21:33:09Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1822: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1822 with parameters: []
[2022-04-01T21:33:09Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848782.673317, Skytable = 1648848782.673317
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1823: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1823 with parameters: []
[2022-04-01T21:33:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:09Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848789.271288, Skytable = 1648848789.271288
[2022-04-01T21:33:09Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:09Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1824: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1825: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1825 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1824 with parameters: []
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1826: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1826 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:09Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1827: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1827 with parameters: []
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1828: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1828 with parameters: []
[2022-04-01T21:33:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1829: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1829 with parameters: []
[2022-04-01T21:33:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:09Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:09Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1830: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1830 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1831: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1831 with parameters: []
[2022-04-01T21:33:09Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:09Z DEBUG tokio_postgres::prepare] preparing query s1832: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:09Z DEBUG tokio_postgres::query] executing statement s1832 with parameters: [0]
[2022-04-01T21:33:10Z DEBUG tokio_postgres::prepare] preparing query s1833: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:10Z DEBUG tokio_postgres::query] executing statement s1833 with parameters: []
[2022-04-01T21:33:10Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:11Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:33:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65439]
[2022-04-01T21:33:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:12Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:12Z DEBUG tokio_postgres::prepare] preparing query s1834: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:12Z DEBUG tokio_postgres::prepare] preparing query s1835: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:12Z DEBUG tokio_postgres::query] executing statement s1834 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:12Z DEBUG tokio_postgres::query] executing statement s1835 with parameters: []
[2022-04-01T21:33:12Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848789.992673, Skytable = 1648848789.992673
[2022-04-01T21:33:12Z DEBUG tokio_postgres::prepare] preparing query s1836: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:12Z DEBUG tokio_postgres::query] executing statement s1836 with parameters: []
[2022-04-01T21:33:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:12Z DEBUG tokio_postgres::prepare] preparing query s1837: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:12Z DEBUG tokio_postgres::query] executing statement s1837 with parameters: []
[2022-04-01T21:33:12Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848792.291569, Skytable = 1648848792.291569
[2022-04-01T21:33:12Z DEBUG tokio_postgres::prepare] preparing query s1838: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:12Z DEBUG tokio_postgres::query] executing statement s1838 with parameters: []
[2022-04-01T21:33:12Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:12Z DEBUG tokio_postgres::prepare] preparing query s1839: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:12Z DEBUG tokio_postgres::query] executing statement s1839 with parameters: []
[2022-04-01T21:33:12Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:13Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:13Z DEBUG tokio_postgres::prepare] preparing query s1840: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:13Z DEBUG tokio_postgres::query] executing statement s1840 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:13Z DEBUG tokio_postgres::prepare] preparing query s1841: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:13Z DEBUG tokio_postgres::query] executing statement s1841 with parameters: []
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:13Z DEBUG tokio_postgres::prepare] preparing query s1842: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:13Z DEBUG tokio_postgres::query] executing statement s1842 with parameters: [0]
[2022-04-01T21:33:13Z DEBUG tokio_postgres::prepare] preparing query s1843: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:13Z DEBUG tokio_postgres::query] executing statement s1843 with parameters: []
[2022-04-01T21:33:13Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:14Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:15Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:15Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:15Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1844: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1844 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1845: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1845 with parameters: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1846: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1847: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1846 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1847 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1848: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1848 with parameters: []
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1849: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1849 with parameters: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:15Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1850: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1850 with parameters: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848793.144287, Skytable = 1648848793.144287
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1851: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1851 with parameters: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848795.306095, Skytable = 1648848795.306095
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1852: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1852 with parameters: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::prepare] preparing query s1853: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:15Z DEBUG tokio_postgres::query] executing statement s1853 with parameters: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-04-01T21:33:15Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:33:16Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: []
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:16Z DEBUG tokio_postgres::prepare] preparing query s1854: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:16Z DEBUG tokio_postgres::query] executing statement s1854 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:16Z DEBUG tokio_postgres::prepare] preparing query s1855: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:16Z DEBUG tokio_postgres::query] executing statement s1855 with parameters: []
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:16Z DEBUG tokio_postgres::prepare] preparing query s1856: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:16Z DEBUG tokio_postgres::query] executing statement s1856 with parameters: [0]
[2022-04-01T21:33:16Z DEBUG tokio_postgres::prepare] preparing query s1857: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:16Z DEBUG tokio_postgres::query] executing statement s1857 with parameters: []
[2022-04-01T21:33:16Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:18Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:18Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:18Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:18Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1858: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1859: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1858 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1859 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1860: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1860 with parameters: []
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1861: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1861 with parameters: []
[2022-04-01T21:33:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1862: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1862 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:18Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1863: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1863 with parameters: []
[2022-04-01T21:33:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1864: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1864 with parameters: []
[2022-04-01T21:33:18Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848796.691955, Skytable = 1648848796.691955
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1865: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1865 with parameters: []
[2022-04-01T21:33:18Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848798.318468, Skytable = 1648848798.318468
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1866: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1866 with parameters: []
[2022-04-01T21:33:18Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::prepare] preparing query s1867: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:18Z DEBUG tokio_postgres::query] executing statement s1867 with parameters: []
[2022-04-01T21:33:18Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:19Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65484]
[2022-04-01T21:33:19Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:19Z DEBUG tokio_postgres::prepare] preparing query s1868: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:19Z DEBUG tokio_postgres::query] executing statement s1868 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:19Z DEBUG tokio_postgres::prepare] preparing query s1869: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:19Z DEBUG tokio_postgres::query] executing statement s1869 with parameters: []
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:19Z DEBUG tokio_postgres::prepare] preparing query s1870: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:19Z DEBUG tokio_postgres::query] executing statement s1870 with parameters: [0]
[2022-04-01T21:33:19Z DEBUG tokio_postgres::prepare] preparing query s1871: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:19Z DEBUG tokio_postgres::query] executing statement s1871 with parameters: []
[2022-04-01T21:33:19Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:21Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:21Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:21Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:21Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1872: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1872 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:21Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1873: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1873 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1874: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1874 with parameters: []
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1875: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1875 with parameters: []
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1876: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1876 with parameters: []
[2022-04-01T21:33:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:21Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848799.825875, Skytable = 1648848799.825875
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1877: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1877 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1878: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1878 with parameters: []
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1879: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1879 with parameters: []
[2022-04-01T21:33:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:21Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848801.349612, Skytable = 1648848801.349612
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1880: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1880 with parameters: []
[2022-04-01T21:33:21Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::prepare] preparing query s1881: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:21Z DEBUG tokio_postgres::query] executing statement s1881 with parameters: []
[2022-04-01T21:33:21Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:22Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:22Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:33:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:33:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:33:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:33:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [16]
[2022-04-01T21:33:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:33:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1882: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1882 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1883: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:24Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1883 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:24Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:24Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1884: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1884 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1885: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1885 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1886: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1886 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1887: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1887 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:24Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1888: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1888 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848799.825875, Skytable = 1648848799.825875
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1889: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1889 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848804.393899, Skytable = 1648848804.393899
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1890: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1890 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1891: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1891 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1892: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1892 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1893: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1893 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1894: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1894 with parameters: [0]
[2022-04-01T21:33:24Z DEBUG tokio_postgres::prepare] preparing query s1895: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:24Z DEBUG tokio_postgres::query] executing statement s1895 with parameters: []
[2022-04-01T21:33:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:26Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [16]
[2022-04-01T21:33:26Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65470]
[2022-04-01T21:33:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1896: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1896 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1897: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1897 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:27Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:27Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:27Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:27Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1898: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1898 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1899: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1899 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1900: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1900 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1901: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1901 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:27Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1902: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1902 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848804.5351, Skytable = 1648848804.5351
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1903: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1903 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848807.407918, Skytable = 1648848807.407918
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1904: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1904 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1905: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1905 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:27Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1906: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1906 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1907: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1907 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1908: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1908 with parameters: [0]
[2022-04-01T21:33:27Z DEBUG tokio_postgres::prepare] preparing query s1909: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:27Z DEBUG tokio_postgres::query] executing statement s1909 with parameters: []
[2022-04-01T21:33:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:29Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:29Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:30Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:30Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1910: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:30Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1910 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:30Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1911: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1911 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1912: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1912 with parameters: []
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1913: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1913 with parameters: []
[2022-04-01T21:33:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1914: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1914 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1915: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1915 with parameters: []
[2022-04-01T21:33:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:30Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1916: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1916 with parameters: []
[2022-04-01T21:33:30Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848807.691048, Skytable = 1648848807.691048
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1917: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1917 with parameters: []
[2022-04-01T21:33:30Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848810.421534, Skytable = 1648848810.421534
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1918: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1918 with parameters: []
[2022-04-01T21:33:30Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::prepare] preparing query s1919: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:30Z DEBUG tokio_postgres::query] executing statement s1919 with parameters: []
[2022-04-01T21:33:30Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: []
[2022-04-01T21:33:30Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [19]
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:33:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: []
[2022-04-01T21:33:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:33:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:33:31Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:33:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:33Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:33Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:33Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:33Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1920: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1920 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1921: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1921 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1922: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1922 with parameters: []
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1923: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1923 with parameters: []
[2022-04-01T21:33:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1924: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1924 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1925: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1925 with parameters: []
[2022-04-01T21:33:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:33Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1926: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1926 with parameters: []
[2022-04-01T21:33:33Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848807.691048, Skytable = 1648848807.691048
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1927: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1927 with parameters: []
[2022-04-01T21:33:33Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848813.433999, Skytable = 1648848813.433999
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1928: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1928 with parameters: []
[2022-04-01T21:33:33Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::prepare] preparing query s1929: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:33Z DEBUG tokio_postgres::query] executing statement s1929 with parameters: []
[2022-04-01T21:33:33Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:33Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:33:33Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65483]
[2022-04-01T21:33:34Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:34Z DEBUG tokio_postgres::prepare] preparing query s1930: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:34Z DEBUG tokio_postgres::query] executing statement s1930 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:34Z DEBUG tokio_postgres::prepare] preparing query s1931: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:34Z DEBUG tokio_postgres::query] executing statement s1931 with parameters: []
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:34Z DEBUG tokio_postgres::prepare] preparing query s1932: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:34Z DEBUG tokio_postgres::query] executing statement s1932 with parameters: [0]
[2022-04-01T21:33:34Z DEBUG tokio_postgres::prepare] preparing query s1933: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:34Z DEBUG tokio_postgres::query] executing statement s1933 with parameters: []
[2022-04-01T21:33:34Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:36Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:36Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1934: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1934 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1935: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1936: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1935 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1936 with parameters: []
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1937: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1937 with parameters: []
[2022-04-01T21:33:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:36Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1938: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1938 with parameters: []
[2022-04-01T21:33:36Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848814.690335, Skytable = 1648848814.690335
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1939: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1939 with parameters: []
[2022-04-01T21:33:36Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848816.466218, Skytable = 1648848816.466218
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1940: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1940 with parameters: []
[2022-04-01T21:33:36Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::prepare] preparing query s1941: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:36Z DEBUG tokio_postgres::query] executing statement s1941 with parameters: []
[2022-04-01T21:33:36Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:36Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: []
[2022-04-01T21:33:37Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [25]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [21]
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:33:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: []
[2022-04-01T21:33:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:33:38Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:33:38Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:33:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:39Z DEBUG tokio_postgres::prepare] preparing query s1942: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:39Z DEBUG tokio_postgres::query] executing statement s1942 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:39Z DEBUG tokio_postgres::prepare] preparing query s1943: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:39Z DEBUG tokio_postgres::query] executing statement s1943 with parameters: []
[2022-04-01T21:33:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:39Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:39Z DEBUG tokio_postgres::prepare] preparing query s1944: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:39Z DEBUG tokio_postgres::query] executing statement s1944 with parameters: []
[2022-04-01T21:33:39Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848814.690335, Skytable = 1648848814.690335
[2022-04-01T21:33:39Z DEBUG tokio_postgres::prepare] preparing query s1945: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:39Z DEBUG tokio_postgres::query] executing statement s1945 with parameters: []
[2022-04-01T21:33:39Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848819.526819, Skytable = 1648848819.526819
[2022-04-01T21:33:39Z DEBUG tokio_postgres::prepare] preparing query s1946: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:39Z DEBUG tokio_postgres::query] executing statement s1946 with parameters: []
[2022-04-01T21:33:39Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:39Z DEBUG tokio_postgres::prepare] preparing query s1947: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:39Z DEBUG tokio_postgres::query] executing statement s1947 with parameters: []
[2022-04-01T21:33:39Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:40Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [23]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [26]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [21]
[2022-04-01T21:33:40Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65468]
[2022-04-01T21:33:41Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:41Z DEBUG tokio_postgres::prepare] preparing query s1948: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:41Z DEBUG tokio_postgres::query] executing statement s1948 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:41Z DEBUG tokio_postgres::prepare] preparing query s1949: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:41Z DEBUG tokio_postgres::query] executing statement s1949 with parameters: []
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:41Z DEBUG tokio_postgres::prepare] preparing query s1950: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:41Z DEBUG tokio_postgres::query] executing statement s1950 with parameters: [0]
[2022-04-01T21:33:41Z DEBUG tokio_postgres::prepare] preparing query s1951: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:41Z DEBUG tokio_postgres::query] executing statement s1951 with parameters: []
[2022-04-01T21:33:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:42Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:42Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:42Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:42Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1952: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1952 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1953: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1953 with parameters: []
[2022-04-01T21:33:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:42Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:42Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:42Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1954: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1954 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1955: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1955 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1956: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1956 with parameters: []
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1957: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1957 with parameters: []
[2022-04-01T21:33:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:42Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:42Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1958: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1958 with parameters: []
[2022-04-01T21:33:42Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848821.649888, Skytable = 1648848821.649888
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1959: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1959 with parameters: []
[2022-04-01T21:33:42Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848822.556443, Skytable = 1648848822.556443
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1960: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1960 with parameters: []
[2022-04-01T21:33:42Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::prepare] preparing query s1961: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:42Z DEBUG tokio_postgres::query] executing statement s1961 with parameters: []
[2022-04-01T21:33:42Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:43Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:33:44Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [16]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1962: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1962 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1963: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1963 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1964: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1964 with parameters: [0]
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1965: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1965 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:45Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:45Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:45Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:45Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:45Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:45Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:45Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1966: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1967: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1967 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1966 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1968: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1968 with parameters: []
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1969: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1969 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1970: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1970 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1971: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1971 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:45Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1972: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1972 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848825.130683, Skytable = 1648848825.130683
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1973: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1973 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848825.575607, Skytable = 1648848825.575607
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1974: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1974 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::prepare] preparing query s1975: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:45Z DEBUG tokio_postgres::query] executing statement s1975 with parameters: []
[2022-04-01T21:33:45Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:48Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1976: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1976 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1977: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1977 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1978: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1978 with parameters: [0]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1979: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1979 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65450]
[2022-04-01T21:33:48Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:48Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:48Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:48Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:48Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:48Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:48Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1980: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1980 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1981: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1981 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1982: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1982 with parameters: []
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1983: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1983 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1984: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1984 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1985: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1985 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:48Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1986: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1986 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848828.281123, Skytable = 1648848828.281123
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1987: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1987 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848828.608941, Skytable = 1648848828.608941
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1988: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1988 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::prepare] preparing query s1989: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:48Z DEBUG tokio_postgres::query] executing statement s1989 with parameters: []
[2022-04-01T21:33:48Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:51Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:51Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:51Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:51Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:51Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:51Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:51Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:51Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1990: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1991: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1991 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1990 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1992: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1993: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1992 with parameters: []
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1993 with parameters: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1994: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1994 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1995: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1995 with parameters: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:51Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1996: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1996 with parameters: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848828.281123, Skytable = 1648848828.281123
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1997: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1997 with parameters: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848831.669703, Skytable = 1648848831.669703
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1998: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1998 with parameters: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::prepare] preparing query s1999: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:51Z DEBUG tokio_postgres::query] executing statement s1999 with parameters: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-04-01T21:33:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: []
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: []
[2022-04-01T21:33:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: []
[2022-04-01T21:33:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:33:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [0]
[2022-04-01T21:33:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [0]
[2022-04-01T21:33:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [23]
[2022-04-01T21:33:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:33:54Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-04-01T21:33:54Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 0
[2022-04-01T21:33:54Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети еще не было восстановлено, после отключения
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2000: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2000 with parameters: ["Питание от электросети еще не было восстановлено, после отключения."]
[2022-04-01T21:33:54Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2001: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2001 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-04-01T21:33:54Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-04-01T21:33:54Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-04-01T21:33:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети еще не было восстановлено, после отключения.
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2002: INSERT INTO события_авр (событие) VALUES ($1)
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2002 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2003: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2003 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2004: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2004 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2005: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2005 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-04-01T21:33:54Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2006: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2006 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848828.281123, Skytable = 1648848828.281123
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2007: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2007 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848834.733415, Skytable = 1648848834.733415
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2008: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2008 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::prepare] preparing query s2009: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:54Z DEBUG tokio_postgres::query] executing statement s2009 with parameters: []
[2022-04-01T21:33:54Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:55Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:55Z DEBUG tokio_postgres::prepare] preparing query s2010: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:55Z DEBUG tokio_postgres::query] executing statement s2010 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:55Z DEBUG tokio_postgres::prepare] preparing query s2011: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:55Z DEBUG tokio_postgres::query] executing statement s2011 with parameters: []
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:55Z DEBUG tokio_postgres::prepare] preparing query s2012: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:55Z DEBUG tokio_postgres::query] executing statement s2012 with parameters: [0]
[2022-04-01T21:33:55Z DEBUG tokio_postgres::prepare] preparing query s2013: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:55Z DEBUG tokio_postgres::query] executing statement s2013 with parameters: []
[2022-04-01T21:33:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:56Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [17]
[2022-04-01T21:33:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65461]
[2022-04-01T21:33:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2014: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2014 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:57Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:33:57Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2015: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2015 with parameters: ["Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!"]
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2016: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2017: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2016 with parameters: []
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2017 with parameters: []
[2022-04-01T21:33:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:33:57Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2018: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2018 with parameters: []
[2022-04-01T21:33:57Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648848835.508452, Skytable = 1648848835.508452
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2019: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2019 with parameters: []
[2022-04-01T21:33:57Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648848837.79105, Skytable = 1648848837.79105
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2020: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2020 with parameters: []
[2022-04-01T21:33:57Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::prepare] preparing query s2021: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:57Z DEBUG tokio_postgres::query] executing statement s2021 with parameters: []
[2022-04-01T21:33:57Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-04-01T21:33:58Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:33:58Z DEBUG tokio_postgres::prepare] preparing query s2022: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-04-01T21:33:58Z DEBUG tokio_postgres::query] executing statement s2022 with parameters: [0, 0, 0, 0, 1]
[2022-04-01T21:33:58Z DEBUG tokio_postgres::prepare] preparing query s2023: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-04-01T21:33:58Z DEBUG tokio_postgres::query] executing statement s2023 with parameters: []
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-04-01T21:33:58Z DEBUG tokio_postgres::prepare] preparing query s2024: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-04-01T21:33:58Z DEBUG tokio_postgres::query] executing statement s2024 with parameters: [0]
[2022-04-01T21:33:58Z DEBUG tokio_postgres::prepare] preparing query s2025: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-04-01T21:33:58Z DEBUG tokio_postgres::query] executing statement s2025 with parameters: []
[2022-04-01T21:33:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-04-01T21:33:59Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:33:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:33:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:33:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:33:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:33:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:33:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [23]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [26]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [16]
[2022-04-01T21:34:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-04-01T21:34:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:34:00Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-04-01T21:34:01Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:34:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:34:03Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [20]
[2022-04-01T21:34:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65474]
[2022-04-01T21:34:04Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:34:04Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:34:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-04-01T21:34:06Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [25]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [19]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [65442]
[2022-04-01T21:34:07Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-04-01T21:34:07Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-04-01T21:34:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-04-01T21:34:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-04-01T21:34:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-04-01T21:34:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-04-01T21:34:09Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-04-01T21:34:09Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
