[2022-03-30T07:19:38Z INFO  ats_monitoring] starting up ats-monitoring app
[2022-03-30T07:19:38Z INFO  ats_monitoring] please wait for connecting to plc
[2022-03-30T07:19:38Z DEBUG tokio_postgres::simple_query] executing statement batch: alter database postgres set default_transaction_isolation to serializable
[2022-03-30T07:19:38Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS avr_control_insert (
                        mains_power_supply int NOT NULL,
                        start_generator int NOT NULL,
                        generator_faulty int NOT NULL,
                        generator_work int NOT NULL,
                        connection int NOT NULL,
                        mark timestamptz default current_timestamp
                    )
                
[2022-03-30T07:19:38Z INFO  postgres::config] NOTICE: relation "avr_control_insert" already exists, skipping
[2022-03-30T07:19:38Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS журнал_работы_приложения (
                        событие text NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    )
                
[2022-03-30T07:19:38Z INFO  postgres::config] NOTICE: relation "журнал_работы_приложения" already exists, skipping
[2022-03-30T07:19:38Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS зимний_сад (
                        фитоосвещение_1 int NOT NULL,
                        фитоосвещение_2 int NOT NULL,
                        фитоосвещение_3 int NOT NULL,
                        фитоосвещение_4 int NOT NULL,
                        вентилятор int NOT NULL,
                        автополив_1 int NOT NULL,
                        автополив_2 int NOT NULL,
                        автополив_3 int NOT NULL,
                        температура int NOT NULL,
                        влажность int NOT NULL,
                        освещенность_в_помещении int NOT NULL,
                        освещенность_на_улице int NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    )
                
[2022-03-30T07:19:38Z INFO  postgres::config] NOTICE: relation "зимний_сад" already exists, skipping
[2022-03-30T07:19:38Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS нагрузка_на_генератор (
                        нагрузка int NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    
                    )
                
[2022-03-30T07:19:38Z INFO  postgres::config] NOTICE: relation "нагрузка_на_генератор" already exists, skipping
[2022-03-30T07:19:38Z DEBUG tokio_postgres::simple_query] executing statement batch: 
                    CREATE TABLE IF NOT EXISTS события_авр (
                        событие text NOT NULL,
                        время_и_дата timestamp default current_timestamp
                    )
                
[2022-03-30T07:19:38Z INFO  postgres::config] NOTICE: relation "события_авр" already exists, skipping
[2022-03-30T07:19:38Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:38Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:38Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:38Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:19:38Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:19:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:38Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:38Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:38Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s0: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s1: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s2: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s2 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s1 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s0 with parameters: []
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s3: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s4: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s3 with parameters: []
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s4 with parameters: []
[2022-03-30T07:19:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:19:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:19:38Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s5: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s6: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s5 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s7: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s6 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s7 with parameters: []
[2022-03-30T07:19:38Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624778.896245, Skytable = 1648420611.695139
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s8: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s8 with parameters: []
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s9: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s9 with parameters: []
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s10: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s10 with parameters: []
[2022-03-30T07:19:38Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:19:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:38Z DEBUG tokio_postgres::prepare] preparing query s11: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:38Z DEBUG tokio_postgres::query] executing statement s11 with parameters: []
[2022-03-30T07:19:38Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:19:41Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:41Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:41Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:41Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:41Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:41Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s12: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s12 with parameters: []
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s13: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s14: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s13 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s14 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:41Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s15: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s16: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s15 with parameters: []
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s16 with parameters: []
[2022-03-30T07:19:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s17: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s17 with parameters: []
[2022-03-30T07:19:41Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624781.923676, Skytable = 1648420611.695139
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s18: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s18 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s19: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s19 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s20: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s21: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s20 with parameters: []
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s21 with parameters: []
[2022-03-30T07:19:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s22: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s22 with parameters: []
[2022-03-30T07:19:41Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:41Z DEBUG tokio_postgres::prepare] preparing query s23: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:41Z DEBUG tokio_postgres::query] executing statement s23 with parameters: []
[2022-03-30T07:19:41Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:19:44Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:44Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:44Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:44Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:44Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:44Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s24: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s24 with parameters: []
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s25: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s26: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s25 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s26 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s27: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:44Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s28: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s27 with parameters: []
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s28 with parameters: []
[2022-03-30T07:19:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s29: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s29 with parameters: []
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s30: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s31: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s30 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:44Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624784.953512, Skytable = 1648420611.695139
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s31 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s32: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s33: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s32 with parameters: []
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s33 with parameters: []
[2022-03-30T07:19:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s34: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s34 with parameters: []
[2022-03-30T07:19:44Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::prepare] preparing query s35: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:44Z DEBUG tokio_postgres::query] executing statement s35 with parameters: []
[2022-03-30T07:19:44Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:19:47Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:47Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:47Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:47Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:47Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s36: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s36 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s37: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s37 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s38: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s38 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s39: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s39 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s40: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s40 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s41: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s41 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s42: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s42 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s43: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s43 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:47Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s44: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s44 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s45: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s45 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624787.989962, Skytable = 1648420611.695139
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s46: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s46 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::prepare] preparing query s47: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:47Z DEBUG tokio_postgres::query] executing statement s47 with parameters: []
[2022-03-30T07:19:47Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:19:50Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:50Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:50Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:50Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:50Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s48: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s49: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s48 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s49 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s50: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s50 with parameters: []
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s51: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s51 with parameters: []
[2022-03-30T07:19:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s52: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s52 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s53: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s53 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s54: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s54 with parameters: []
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s55: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s55 with parameters: []
[2022-03-30T07:19:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:50Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:50Z DEBUG tokio_postgres::prepare] preparing query s56: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:50Z DEBUG tokio_postgres::query] executing statement s56 with parameters: []
[2022-03-30T07:19:51Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:51Z DEBUG tokio_postgres::prepare] preparing query s57: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:51Z DEBUG tokio_postgres::query] executing statement s57 with parameters: []
[2022-03-30T07:19:51Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624791.002125, Skytable = 1648420611.695139
[2022-03-30T07:19:51Z DEBUG tokio_postgres::prepare] preparing query s58: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:51Z DEBUG tokio_postgres::query] executing statement s58 with parameters: []
[2022-03-30T07:19:51Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:51Z DEBUG tokio_postgres::prepare] preparing query s59: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:51Z DEBUG tokio_postgres::query] executing statement s59 with parameters: []
[2022-03-30T07:19:51Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:19:53Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:53Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:53Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:53Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:53Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s60: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s61: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s60 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s61 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s62: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s62 with parameters: []
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s63: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s63 with parameters: []
[2022-03-30T07:19:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s64: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s64 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s65: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s65 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s66: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s66 with parameters: []
[2022-03-30T07:19:53Z DEBUG tokio_postgres::prepare] preparing query s67: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:19:53Z DEBUG tokio_postgres::query] executing statement s67 with parameters: []
[2022-03-30T07:19:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:54Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:54Z DEBUG tokio_postgres::prepare] preparing query s68: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:54Z DEBUG tokio_postgres::query] executing statement s68 with parameters: []
[2022-03-30T07:19:54Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:54Z DEBUG tokio_postgres::prepare] preparing query s69: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:54Z DEBUG tokio_postgres::query] executing statement s69 with parameters: []
[2022-03-30T07:19:54Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624794.014787, Skytable = 1648420611.695139
[2022-03-30T07:19:54Z DEBUG tokio_postgres::prepare] preparing query s70: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:54Z DEBUG tokio_postgres::query] executing statement s70 with parameters: []
[2022-03-30T07:19:54Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:54Z DEBUG tokio_postgres::prepare] preparing query s71: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:54Z DEBUG tokio_postgres::query] executing statement s71 with parameters: []
[2022-03-30T07:19:54Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:19:57Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:19:57Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:19:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:19:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:19:57Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:19:57Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:19:57Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:19:57Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s72: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s73: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s72 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s73 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s74: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s74 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s75: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s75 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s76: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s76 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s77: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s77 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s78: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s78 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s79: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s79 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:19:57Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s80: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s80 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s81: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s81 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624797.785025, Skytable = 1648420611.695139
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s82: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s82 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::prepare] preparing query s83: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:19:57Z DEBUG tokio_postgres::query] executing statement s83 with parameters: []
[2022-03-30T07:19:57Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:00Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:00Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:00Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:00Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:00Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:00Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s84: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s85: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s84 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s85 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s86: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s86 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s87: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s87 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s88: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s88 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s89: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s89 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s90: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s90 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s91: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s91 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:00Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s92: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s92 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s93: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s93 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624800.817931, Skytable = 1648420611.695139
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s94: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s94 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::prepare] preparing query s95: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:00Z DEBUG tokio_postgres::query] executing statement s95 with parameters: []
[2022-03-30T07:20:00Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:03Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:03Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:03Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:03Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:03Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:03Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s96: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s97: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s96 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s97 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s98: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s98 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s99: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s99 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s100: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s100 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s101: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s101 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s102: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s102 with parameters: []
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s103: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s103 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:03Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s104: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s104 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s105: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s105 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624803.831341, Skytable = 1648420611.695139
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s106: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s106 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::prepare] preparing query s107: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:03Z DEBUG tokio_postgres::query] executing statement s107 with parameters: []
[2022-03-30T07:20:03Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:06Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:06Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:06Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:06Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:06Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:06Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s108: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s109: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s108 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s109 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s110: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s110 with parameters: []
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s111: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s111 with parameters: []
[2022-03-30T07:20:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s112: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s112 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s113: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s113 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s114: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s114 with parameters: []
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s115: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s115 with parameters: []
[2022-03-30T07:20:06Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:06Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s116: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s116 with parameters: []
[2022-03-30T07:20:06Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s117: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s117 with parameters: []
[2022-03-30T07:20:06Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624806.845444, Skytable = 1648420611.695139
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s118: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s118 with parameters: []
[2022-03-30T07:20:06Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::prepare] preparing query s119: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:06Z DEBUG tokio_postgres::query] executing statement s119 with parameters: []
[2022-03-30T07:20:06Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:09Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:09Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:09Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:09Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:09Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:09Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s120: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s121: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s120 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s121 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s122: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s122 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s123: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s123 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s124: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s124 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s125: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s125 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s126: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s126 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s127: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s127 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:09Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s128: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s128 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s129: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s129 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624809.875912, Skytable = 1648420611.695139
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s130: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s130 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::prepare] preparing query s131: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:09Z DEBUG tokio_postgres::query] executing statement s131 with parameters: []
[2022-03-30T07:20:09Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:12Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:12Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:12Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:12Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:12Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:12Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s132: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s133: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s132 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s133 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s134: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s135: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s134 with parameters: []
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s135 with parameters: []
[2022-03-30T07:20:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s136: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s137: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s136 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s137 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s138: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s138 with parameters: []
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s139: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s139 with parameters: []
[2022-03-30T07:20:12Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:12Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s140: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s140 with parameters: []
[2022-03-30T07:20:12Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s141: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s141 with parameters: []
[2022-03-30T07:20:12Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624812.913649, Skytable = 1648420611.695139
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s142: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s142 with parameters: []
[2022-03-30T07:20:12Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::prepare] preparing query s143: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:12Z DEBUG tokio_postgres::query] executing statement s143 with parameters: []
[2022-03-30T07:20:12Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:15Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:15Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:15Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:15Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:15Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:15Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s144: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s145: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s144 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s145 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s146: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s146 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s147: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s147 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s148: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s148 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s149: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s149 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s150: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s150 with parameters: []
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s151: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s151 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:15Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s152: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s152 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s153: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s153 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624815.931081, Skytable = 1648420611.695139
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s154: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s154 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::prepare] preparing query s155: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:15Z DEBUG tokio_postgres::query] executing statement s155 with parameters: []
[2022-03-30T07:20:15Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:18Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:18Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:18Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:18Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:18Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:18Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s156: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s157: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s156 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s157 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s158: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s158 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s159: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s159 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s160: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s160 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s161: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s161 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s162: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s162 with parameters: []
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s163: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s163 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:18Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s164: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s164 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s165: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s165 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624818.957568, Skytable = 1648420611.695139
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s166: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s166 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::prepare] preparing query s167: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:18Z DEBUG tokio_postgres::query] executing statement s167 with parameters: []
[2022-03-30T07:20:18Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:21Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:21Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:21Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:21Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:21Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:21Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s168: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s169: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s168 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s169 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s170: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s171: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s170 with parameters: []
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s171 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s172: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s173: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s172 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s173 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s174: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s174 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s175: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s175 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:21Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s176: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s176 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s177: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s177 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624821.970138, Skytable = 1648420611.695139
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s178: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s178 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::prepare] preparing query s179: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:21Z DEBUG tokio_postgres::query] executing statement s179 with parameters: []
[2022-03-30T07:20:21Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:24Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:24Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:24Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:24Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:24Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:24Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s180: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s181: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s181 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s180 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s182: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s182 with parameters: []
[2022-03-30T07:20:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s183: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s183 with parameters: []
[2022-03-30T07:20:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s184: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s184 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s185: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s185 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s186: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s186 with parameters: []
[2022-03-30T07:20:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s187: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s187 with parameters: []
[2022-03-30T07:20:24Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:24Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s188: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s188 with parameters: []
[2022-03-30T07:20:24Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:24Z DEBUG tokio_postgres::prepare] preparing query s189: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:24Z DEBUG tokio_postgres::query] executing statement s189 with parameters: []
[2022-03-30T07:20:25Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624825.000063, Skytable = 1648420611.695139
[2022-03-30T07:20:25Z DEBUG tokio_postgres::prepare] preparing query s190: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:25Z DEBUG tokio_postgres::query] executing statement s190 with parameters: []
[2022-03-30T07:20:25Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:25Z DEBUG tokio_postgres::prepare] preparing query s191: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:25Z DEBUG tokio_postgres::query] executing statement s191 with parameters: []
[2022-03-30T07:20:25Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:27Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:27Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:27Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:27Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:27Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:27Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s192: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s193: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s192 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s193 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s194: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s194 with parameters: []
[2022-03-30T07:20:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s195: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s195 with parameters: []
[2022-03-30T07:20:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s196: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s196 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s197: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s197 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s198: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s198 with parameters: []
[2022-03-30T07:20:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:27Z DEBUG tokio_postgres::prepare] preparing query s199: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:27Z DEBUG tokio_postgres::query] executing statement s199 with parameters: []
[2022-03-30T07:20:27Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:28Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:28Z DEBUG tokio_postgres::prepare] preparing query s200: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:28Z DEBUG tokio_postgres::query] executing statement s200 with parameters: []
[2022-03-30T07:20:28Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:28Z DEBUG tokio_postgres::prepare] preparing query s201: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:28Z DEBUG tokio_postgres::query] executing statement s201 with parameters: []
[2022-03-30T07:20:28Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624828.053678, Skytable = 1648420611.695139
[2022-03-30T07:20:28Z DEBUG tokio_postgres::prepare] preparing query s202: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:28Z DEBUG tokio_postgres::query] executing statement s202 with parameters: []
[2022-03-30T07:20:28Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:28Z DEBUG tokio_postgres::prepare] preparing query s203: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:28Z DEBUG tokio_postgres::query] executing statement s203 with parameters: []
[2022-03-30T07:20:28Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:30Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:30Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:30Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:30Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:30Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:30Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s204: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s205: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s205 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s204 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s206: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s206 with parameters: []
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s207: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s207 with parameters: []
[2022-03-30T07:20:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s208: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s208 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s209: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s209 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s210: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s210 with parameters: []
[2022-03-30T07:20:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:30Z DEBUG tokio_postgres::prepare] preparing query s211: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:30Z DEBUG tokio_postgres::query] executing statement s211 with parameters: []
[2022-03-30T07:20:30Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:31Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:31Z DEBUG tokio_postgres::prepare] preparing query s212: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:31Z DEBUG tokio_postgres::query] executing statement s212 with parameters: []
[2022-03-30T07:20:31Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:31Z DEBUG tokio_postgres::prepare] preparing query s213: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:31Z DEBUG tokio_postgres::query] executing statement s213 with parameters: []
[2022-03-30T07:20:31Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624831.103333, Skytable = 1648420611.695139
[2022-03-30T07:20:31Z DEBUG tokio_postgres::prepare] preparing query s214: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:31Z DEBUG tokio_postgres::query] executing statement s214 with parameters: []
[2022-03-30T07:20:31Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:31Z DEBUG tokio_postgres::prepare] preparing query s215: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:31Z DEBUG tokio_postgres::query] executing statement s215 with parameters: []
[2022-03-30T07:20:31Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:33Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:33Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:33Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:33Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:33Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:33Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s216: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s217: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s216 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s217 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s218: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s219: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s218 with parameters: []
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s219 with parameters: []
[2022-03-30T07:20:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s220: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s220 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s221: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s221 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s222: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s222 with parameters: []
[2022-03-30T07:20:33Z DEBUG tokio_postgres::prepare] preparing query s223: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:33Z DEBUG tokio_postgres::query] executing statement s223 with parameters: []
[2022-03-30T07:20:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:33Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:34Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:34Z DEBUG tokio_postgres::prepare] preparing query s224: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:34Z DEBUG tokio_postgres::query] executing statement s224 with parameters: []
[2022-03-30T07:20:34Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:34Z DEBUG tokio_postgres::prepare] preparing query s225: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:34Z DEBUG tokio_postgres::query] executing statement s225 with parameters: []
[2022-03-30T07:20:34Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624834.157385, Skytable = 1648420611.695139
[2022-03-30T07:20:34Z DEBUG tokio_postgres::prepare] preparing query s226: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:34Z DEBUG tokio_postgres::query] executing statement s226 with parameters: []
[2022-03-30T07:20:34Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:34Z DEBUG tokio_postgres::prepare] preparing query s227: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:34Z DEBUG tokio_postgres::query] executing statement s227 with parameters: []
[2022-03-30T07:20:34Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:36Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:36Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:36Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:36Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:36Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:36Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s228: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s229: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s228 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s229 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s230: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s230 with parameters: []
[2022-03-30T07:20:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s231: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s231 with parameters: []
[2022-03-30T07:20:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s232: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s232 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s233: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s234: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s233 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s234 with parameters: []
[2022-03-30T07:20:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:36Z DEBUG tokio_postgres::prepare] preparing query s235: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:36Z DEBUG tokio_postgres::query] executing statement s235 with parameters: []
[2022-03-30T07:20:36Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:37Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:37Z DEBUG tokio_postgres::prepare] preparing query s236: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:37Z DEBUG tokio_postgres::query] executing statement s236 with parameters: []
[2022-03-30T07:20:37Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:37Z DEBUG tokio_postgres::prepare] preparing query s237: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:37Z DEBUG tokio_postgres::query] executing statement s237 with parameters: []
[2022-03-30T07:20:37Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624837.210957, Skytable = 1648420611.695139
[2022-03-30T07:20:37Z DEBUG tokio_postgres::prepare] preparing query s238: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:37Z DEBUG tokio_postgres::query] executing statement s238 with parameters: []
[2022-03-30T07:20:37Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:37Z DEBUG tokio_postgres::prepare] preparing query s239: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:37Z DEBUG tokio_postgres::query] executing statement s239 with parameters: []
[2022-03-30T07:20:37Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:39Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:39Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:39Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:39Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:39Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:39Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:39Z DEBUG tokio_postgres::prepare] preparing query s241: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:39Z DEBUG tokio_postgres::prepare] preparing query s240: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:39Z DEBUG tokio_postgres::query] executing statement s241 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:39Z DEBUG tokio_postgres::query] executing statement s240 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:39Z DEBUG tokio_postgres::prepare] preparing query s242: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:39Z DEBUG tokio_postgres::query] executing statement s242 with parameters: []
[2022-03-30T07:20:39Z DEBUG tokio_postgres::prepare] preparing query s243: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:39Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:39Z DEBUG tokio_postgres::query] executing statement s243 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s244: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s244 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s245: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s245 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s246: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s246 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s247: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s247 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:40Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s248: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s248 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s249: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s249 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624840.264963, Skytable = 1648420611.695139
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s250: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s250 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::prepare] preparing query s251: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:40Z DEBUG tokio_postgres::query] executing statement s251 with parameters: []
[2022-03-30T07:20:40Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:43Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:43Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:43Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:43Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:43Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s252: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s253: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s252 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s253 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s254: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s254 with parameters: []
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s255: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s255 with parameters: []
[2022-03-30T07:20:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s256: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s256 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s257: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s257 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s258: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s258 with parameters: []
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s259: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s259 with parameters: []
[2022-03-30T07:20:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:43Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s260: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s260 with parameters: []
[2022-03-30T07:20:43Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s261: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s261 with parameters: []
[2022-03-30T07:20:43Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624843.318423, Skytable = 1648420611.695139
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s262: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s262 with parameters: []
[2022-03-30T07:20:43Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::prepare] preparing query s263: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:43Z DEBUG tokio_postgres::query] executing statement s263 with parameters: []
[2022-03-30T07:20:43Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:46Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:46Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:46Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:46Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:46Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s264: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s265: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s264 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s265 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s266: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s267: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s266 with parameters: []
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s267 with parameters: []
[2022-03-30T07:20:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s268: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s269: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s268 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s269 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s270: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s271: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s270 with parameters: []
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s271 with parameters: []
[2022-03-30T07:20:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:46Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s272: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s272 with parameters: []
[2022-03-30T07:20:46Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s273: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s273 with parameters: []
[2022-03-30T07:20:46Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624846.365088, Skytable = 1648420611.695139
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s274: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s274 with parameters: []
[2022-03-30T07:20:46Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::prepare] preparing query s275: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:46Z DEBUG tokio_postgres::query] executing statement s275 with parameters: []
[2022-03-30T07:20:46Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:49Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:49Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:49Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:49Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:49Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s276: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s277: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s276 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s277 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s278: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s279: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s278 with parameters: []
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s279 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s280: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s281: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s280 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s281 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s282: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s282 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s283: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s283 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:49Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s284: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s284 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s285: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s285 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624849.419146, Skytable = 1648420611.695139
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s286: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s286 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::prepare] preparing query s287: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:49Z DEBUG tokio_postgres::query] executing statement s287 with parameters: []
[2022-03-30T07:20:49Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:52Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:52Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:52Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:52Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:52Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s288: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s289: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s288 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s289 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s290: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s290 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s291: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s291 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s292: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s292 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s293: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s293 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s294: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s294 with parameters: []
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s295: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s295 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:52Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s296: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s296 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s297: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s297 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624852.472861, Skytable = 1648420611.695139
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s298: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s298 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::prepare] preparing query s299: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:52Z DEBUG tokio_postgres::query] executing statement s299 with parameters: []
[2022-03-30T07:20:52Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:55Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:55Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:55Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:55Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:55Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s300: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s301: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s300 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s301 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s302: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s302 with parameters: []
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s303: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s303 with parameters: []
[2022-03-30T07:20:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s304: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s304 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s305: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s305 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s306: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s306 with parameters: []
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s307: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s307 with parameters: []
[2022-03-30T07:20:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:55Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s308: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s308 with parameters: []
[2022-03-30T07:20:55Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s309: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s309 with parameters: []
[2022-03-30T07:20:55Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624855.526828, Skytable = 1648420611.695139
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s310: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s310 with parameters: []
[2022-03-30T07:20:55Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::prepare] preparing query s311: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:55Z DEBUG tokio_postgres::query] executing statement s311 with parameters: []
[2022-03-30T07:20:55Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:20:58Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:20:58Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:20:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:20:58Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:20:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:20:58Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:20:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:20:58Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s312: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s313: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s312 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s313 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s314: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s314 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s315: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s315 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s316: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s316 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s317: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s317 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s318: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s318 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s319: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s319 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:20:58Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s320: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s320 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s321: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s321 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624858.563438, Skytable = 1648420611.695139
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s322: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s322 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::prepare] preparing query s323: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:20:58Z DEBUG tokio_postgres::query] executing statement s323 with parameters: []
[2022-03-30T07:20:58Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:01Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:01Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:01Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:01Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:01Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s324: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s325: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s324 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s325 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s326: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s326 with parameters: []
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s327: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s327 with parameters: []
[2022-03-30T07:21:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s328: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s328 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s329: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s329 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s330: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s330 with parameters: []
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s331: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s331 with parameters: []
[2022-03-30T07:21:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:01Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s332: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s332 with parameters: []
[2022-03-30T07:21:01Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s333: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s333 with parameters: []
[2022-03-30T07:21:01Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624861.576338, Skytable = 1648420611.695139
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s334: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s334 with parameters: []
[2022-03-30T07:21:01Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::prepare] preparing query s335: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:01Z DEBUG tokio_postgres::query] executing statement s335 with parameters: []
[2022-03-30T07:21:01Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:04Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:04Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:04Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:04Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:04Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s336: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s337: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s337 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s336 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s338: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s339: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s338 with parameters: []
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s339 with parameters: []
[2022-03-30T07:21:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s340: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s341: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s340 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s341 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s342: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s343: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s342 with parameters: []
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s343 with parameters: []
[2022-03-30T07:21:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:04Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s344: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s344 with parameters: []
[2022-03-30T07:21:04Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s345: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s345 with parameters: []
[2022-03-30T07:21:04Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624864.594546, Skytable = 1648420611.695139
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s346: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s346 with parameters: []
[2022-03-30T07:21:04Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::prepare] preparing query s347: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:04Z DEBUG tokio_postgres::query] executing statement s347 with parameters: []
[2022-03-30T07:21:04Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:07Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:07Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:07Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:07Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:07Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s348: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s349: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s349 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s348 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s350: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s350 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s351: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s351 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s352: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s352 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s353: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s353 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s354: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s354 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s355: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s355 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:07Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s356: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s356 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s357: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s357 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624867.615597, Skytable = 1648420611.695139
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s358: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s358 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::prepare] preparing query s359: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:07Z DEBUG tokio_postgres::query] executing statement s359 with parameters: []
[2022-03-30T07:21:07Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:10Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:10Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:10Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:10Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:10Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s360: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s360 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s361: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s361 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s362: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s363: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s362 with parameters: []
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s363 with parameters: []
[2022-03-30T07:21:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s364: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s365: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s364 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s365 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s366: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s366 with parameters: []
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s367: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s367 with parameters: []
[2022-03-30T07:21:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:10Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s368: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s368 with parameters: []
[2022-03-30T07:21:10Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s369: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s369 with parameters: []
[2022-03-30T07:21:10Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624870.636137, Skytable = 1648420611.695139
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s370: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s370 with parameters: []
[2022-03-30T07:21:10Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::prepare] preparing query s371: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:10Z DEBUG tokio_postgres::query] executing statement s371 with parameters: []
[2022-03-30T07:21:10Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:13Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:13Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:13Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:13Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:13Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s372: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s373: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s372 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s373 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s374: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s374 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s375: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s375 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s376: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s376 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s377: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s377 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s378: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s378 with parameters: []
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s379: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s379 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:13Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s380: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s380 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s381: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s381 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624873.653714, Skytable = 1648420611.695139
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s382: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s382 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::prepare] preparing query s383: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:13Z DEBUG tokio_postgres::query] executing statement s383 with parameters: []
[2022-03-30T07:21:13Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:16Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:16Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:16Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:16Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:16Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s384: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s385: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s384 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s385 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s386: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s387: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s386 with parameters: []
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s387 with parameters: []
[2022-03-30T07:21:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s388: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s389: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s388 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s389 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s390: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s390 with parameters: []
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s391: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s391 with parameters: []
[2022-03-30T07:21:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:16Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s392: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s392 with parameters: []
[2022-03-30T07:21:16Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s393: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s393 with parameters: []
[2022-03-30T07:21:16Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624876.676573, Skytable = 1648420611.695139
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s394: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s394 with parameters: []
[2022-03-30T07:21:16Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::prepare] preparing query s395: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:16Z DEBUG tokio_postgres::query] executing statement s395 with parameters: []
[2022-03-30T07:21:16Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:19Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:19Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:19Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:19Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:19Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s396: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s397: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s396 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s397 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s398: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s398 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s399: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s399 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s400: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s400 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s401: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s401 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s402: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s402 with parameters: []
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s403: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s403 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:19Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s404: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s404 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s405: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s405 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624879.698555, Skytable = 1648420611.695139
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s406: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s406 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::prepare] preparing query s407: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:19Z DEBUG tokio_postgres::query] executing statement s407 with parameters: []
[2022-03-30T07:21:19Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:22Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:22Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:22Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:22Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:22Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s408: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s409: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s408 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s409 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s410: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s411: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s410 with parameters: []
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s411 with parameters: []
[2022-03-30T07:21:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s412: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s413: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s412 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s413 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s414: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s415: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s414 with parameters: []
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s415 with parameters: []
[2022-03-30T07:21:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:22Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s416: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s416 with parameters: []
[2022-03-30T07:21:22Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s417: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s417 with parameters: []
[2022-03-30T07:21:22Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624882.710662, Skytable = 1648420611.695139
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s418: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s418 with parameters: []
[2022-03-30T07:21:22Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::prepare] preparing query s419: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:22Z DEBUG tokio_postgres::query] executing statement s419 with parameters: []
[2022-03-30T07:21:22Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:25Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:25Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:25Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:25Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:25Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s420: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s421: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s420 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s421 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s422: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s423: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s422 with parameters: []
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s423 with parameters: []
[2022-03-30T07:21:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s424: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s425: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s424 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s425 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s426: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s427: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s426 with parameters: []
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s427 with parameters: []
[2022-03-30T07:21:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:25Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s428: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s428 with parameters: []
[2022-03-30T07:21:25Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s429: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s429 with parameters: []
[2022-03-30T07:21:25Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624885.738978, Skytable = 1648420611.695139
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s430: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s430 with parameters: []
[2022-03-30T07:21:25Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::prepare] preparing query s431: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:25Z DEBUG tokio_postgres::query] executing statement s431 with parameters: []
[2022-03-30T07:21:25Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:28Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:28Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:28Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:28Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:28Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s432: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s433: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s433 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s432 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s434: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s434 with parameters: []
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s435: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s435 with parameters: []
[2022-03-30T07:21:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s436: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s436 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s437: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s437 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s438: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s438 with parameters: []
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s439: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s439 with parameters: []
[2022-03-30T07:21:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:28Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s440: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s440 with parameters: []
[2022-03-30T07:21:28Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s441: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s441 with parameters: []
[2022-03-30T07:21:28Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624888.761555, Skytable = 1648420611.695139
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s442: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s442 with parameters: []
[2022-03-30T07:21:28Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::prepare] preparing query s443: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:28Z DEBUG tokio_postgres::query] executing statement s443 with parameters: []
[2022-03-30T07:21:28Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:31Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:31Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:31Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:31Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:31Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s444: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s445: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s444 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s445 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s446: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s447: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s446 with parameters: []
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s447 with parameters: []
[2022-03-30T07:21:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s448: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s449: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s448 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s449 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s450: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s451: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s450 with parameters: []
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s451 with parameters: []
[2022-03-30T07:21:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:31Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:31Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s452: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s452 with parameters: []
[2022-03-30T07:21:31Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s453: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s453 with parameters: []
[2022-03-30T07:21:31Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624891.78566, Skytable = 1648420611.695139
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s454: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s454 with parameters: []
[2022-03-30T07:21:31Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::prepare] preparing query s455: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:31Z DEBUG tokio_postgres::query] executing statement s455 with parameters: []
[2022-03-30T07:21:31Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:34Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:34Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:34Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:34Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:34Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:34Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s456: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s457: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s456 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s457 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s458: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s459: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s458 with parameters: []
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s459 with parameters: []
[2022-03-30T07:21:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s460: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s461: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s460 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s461 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s462: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s463: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s462 with parameters: []
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s463 with parameters: []
[2022-03-30T07:21:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:34Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:34Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s464: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s464 with parameters: []
[2022-03-30T07:21:34Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s465: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s465 with parameters: []
[2022-03-30T07:21:34Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624894.809177, Skytable = 1648420611.695139
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s466: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s466 with parameters: []
[2022-03-30T07:21:34Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::prepare] preparing query s467: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:34Z DEBUG tokio_postgres::query] executing statement s467 with parameters: []
[2022-03-30T07:21:34Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:37Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:37Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:37Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:37Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:37Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:37Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s468: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s469: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s468 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s469 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s470: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s471: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s470 with parameters: []
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s471 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s472: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s473: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s472 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s473 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s474: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s474 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s475: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s475 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:37Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s476: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s476 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s477: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s477 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624897.832052, Skytable = 1648420611.695139
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s478: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s478 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::prepare] preparing query s479: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:37Z DEBUG tokio_postgres::query] executing statement s479 with parameters: []
[2022-03-30T07:21:37Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:40Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:40Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:40Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:40Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:40Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:40Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s480: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s481: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s480 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s481 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s482: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s482 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s483: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s483 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s484: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s484 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s485: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s485 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s486: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s486 with parameters: []
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s487: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s487 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:40Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:40Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s488: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s488 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s489: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s489 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624900.854726, Skytable = 1648420611.695139
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s490: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s490 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::prepare] preparing query s491: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:40Z DEBUG tokio_postgres::query] executing statement s491 with parameters: []
[2022-03-30T07:21:40Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:43Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:43Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:43Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:43Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:43Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:43Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s492: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s493: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s492 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s493 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s494: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s494 with parameters: []
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s495: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s495 with parameters: []
[2022-03-30T07:21:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s496: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s496 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s497: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s497 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s498: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s498 with parameters: []
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s499: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s499 with parameters: []
[2022-03-30T07:21:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:43Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:43Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s500: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s500 with parameters: []
[2022-03-30T07:21:43Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s501: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s501 with parameters: []
[2022-03-30T07:21:43Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624903.875375, Skytable = 1648420611.695139
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s502: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s502 with parameters: []
[2022-03-30T07:21:43Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::prepare] preparing query s503: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:43Z DEBUG tokio_postgres::query] executing statement s503 with parameters: []
[2022-03-30T07:21:43Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:46Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:46Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:46Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:46Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:46Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:46Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s504: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s505: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s504 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s505 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s506: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s506 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s507: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s507 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s508: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s508 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s509: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s509 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s510: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s510 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s511: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s511 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:46Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s512: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s512 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s513: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s513 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624906.898027, Skytable = 1648420611.695139
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s514: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s514 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::prepare] preparing query s515: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:46Z DEBUG tokio_postgres::query] executing statement s515 with parameters: []
[2022-03-30T07:21:46Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:49Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Связь ПЛК с модулем modbus_winter_garden отсутствует! timed out
[2022-03-30T07:21:49Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Связь ПЛК с модулем modbus_ats отсутствует! timed out
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s516: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s517: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s516 with parameters: ["Ошибка! Связь ПЛК с модулем modbus_ats отсутствует!"]
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s517 with parameters: ["Ошибка! Связь ПЛК с модулем modbus_winter_garden отсутствует!"]
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s518: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s519: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s518 with parameters: []
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s519 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь ПЛК с модулем modbus_winter_garden отсутствует!
[2022-03-30T07:21:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Ошибка! Связь ПЛК с модулем modbus_winter_garden отсутствует!
[2022-03-30T07:21:49Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:49Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:49Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:49Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:49Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:49Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s520: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s520 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s521: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s521 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s522: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s522 with parameters: []
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s523: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s523 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s524: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s524 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s525: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s525 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s526: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s526 with parameters: []
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s527: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s527 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:49Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:49Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s528: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s528 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648584161.660479, Skytable = 1648420608.768691
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s529: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s529 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624909.920722, Skytable = 1648420611.695139
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s530: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s530 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::prepare] preparing query s531: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:49Z DEBUG tokio_postgres::query] executing statement s531 with parameters: []
[2022-03-30T07:21:49Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:52Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:21:52Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s532: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s532 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s533: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s533 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s534: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s534 with parameters: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s535: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s535 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:52Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:52Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:21:52Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:52Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:52Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s536: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s537: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s536 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s537 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s538: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s538 with parameters: []
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s539: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s539 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s540: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s540 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s541: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s541 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s542: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s542 with parameters: []
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s543: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s543 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [147]
[2022-03-30T07:21:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4334]
[2022-03-30T07:21:52Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s544: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s544 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624912.592089, Skytable = 1648420608.768691
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s545: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s545 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624912.943759, Skytable = 1648420611.695139
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s546: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s546 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::prepare] preparing query s547: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:52Z DEBUG tokio_postgres::query] executing statement s547 with parameters: []
[2022-03-30T07:21:52Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:55Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:55Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:55Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:55Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:55Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:55Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s548: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s549: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s548 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s549 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s550: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s551: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s550 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s551 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s552: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s553: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s552 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s553 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s554: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s554 with parameters: []
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s555: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s555 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:55Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s556: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s556 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s557: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s557 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s558: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s558 with parameters: [0]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s559: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s559 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:21:55Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s560: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s560 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624915.757021, Skytable = 1648420608.768691
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s561: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s561 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624915.966063, Skytable = 1648420611.695139
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s562: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s562 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:21:55Z DEBUG tokio_postgres::prepare] preparing query s563: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:55Z DEBUG tokio_postgres::query] executing statement s563 with parameters: []
[2022-03-30T07:21:55Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:21:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:21:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:21:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: []
[2022-03-30T07:21:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: []
[2022-03-30T07:21:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [22]
[2022-03-30T07:21:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [21]
[2022-03-30T07:21:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-03-30T07:21:58Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:21:58Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:21:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:21:58Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:21:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:21:58Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:21:58Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:21:58Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s564: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s565: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s564 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s565 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s566: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s566 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s567: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s567 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s568: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s568 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s569: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s569 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s570: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s570 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s571: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s571 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:21:58Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s572: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s572 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s573: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s573 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s574: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s574 with parameters: [0]
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s575: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s575 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:21:58Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s576: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s576 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624918.920528, Skytable = 1648420608.768691
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s577: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s577 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624918.991111, Skytable = 1648420611.695139
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s578: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s578 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::prepare] preparing query s579: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:21:58Z DEBUG tokio_postgres::query] executing statement s579 with parameters: []
[2022-03-30T07:21:58Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:00Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4324]
[2022-03-30T07:22:01Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:01Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:01Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:01Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:01Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:01Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s580: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s581: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s580 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s581 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s582: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s582 with parameters: []
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s583: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s583 with parameters: []
[2022-03-30T07:22:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s584: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s585: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s584 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s585 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s586: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:01Z DEBUG tokio_postgres::prepare] preparing query s587: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s586 with parameters: []
[2022-03-30T07:22:01Z DEBUG tokio_postgres::query] executing statement s587 with parameters: []
[2022-03-30T07:22:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:01Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:01Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:01Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:01Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s588: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s588 with parameters: []
[2022-03-30T07:22:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:02Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624918.920528, Skytable = 1648420608.768691
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s589: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s589 with parameters: []
[2022-03-30T07:22:02Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624922.014534, Skytable = 1648420611.695139
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s590: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s590 with parameters: []
[2022-03-30T07:22:02Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s591: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s591 with parameters: []
[2022-03-30T07:22:02Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s592: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s592 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s593: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s593 with parameters: []
[2022-03-30T07:22:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s594: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s594 with parameters: [0]
[2022-03-30T07:22:02Z DEBUG tokio_postgres::prepare] preparing query s595: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:02Z DEBUG tokio_postgres::query] executing statement s595 with parameters: []
[2022-03-30T07:22:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:04Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [146]
[2022-03-30T07:22:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4323]
[2022-03-30T07:22:04Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:04Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:04Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:04Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:04Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:04Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s596: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s597: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s596 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s597 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s598: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s598 with parameters: []
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s599: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s599 with parameters: []
[2022-03-30T07:22:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s600: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s601: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s600 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s601 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s602: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:04Z DEBUG tokio_postgres::prepare] preparing query s603: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s602 with parameters: []
[2022-03-30T07:22:04Z DEBUG tokio_postgres::query] executing statement s603 with parameters: []
[2022-03-30T07:22:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:04Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:05Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s604: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s604 with parameters: []
[2022-03-30T07:22:05Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624922.066469, Skytable = 1648420608.768691
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s605: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s605 with parameters: []
[2022-03-30T07:22:05Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624925.037485, Skytable = 1648420611.695139
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s606: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s606 with parameters: []
[2022-03-30T07:22:05Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s607: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s607 with parameters: []
[2022-03-30T07:22:05Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:05Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s608: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s608 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s609: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s609 with parameters: []
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s610: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s610 with parameters: [0]
[2022-03-30T07:22:05Z DEBUG tokio_postgres::prepare] preparing query s611: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:05Z DEBUG tokio_postgres::query] executing statement s611 with parameters: []
[2022-03-30T07:22:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:07Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:07Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:07Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:07Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:07Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:07Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:07Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s612: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s613: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s613 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s612 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s614: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s615: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s614 with parameters: []
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s615 with parameters: []
[2022-03-30T07:22:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s616: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s617: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s616 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s617 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s618: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:07Z DEBUG tokio_postgres::prepare] preparing query s619: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s618 with parameters: []
[2022-03-30T07:22:07Z DEBUG tokio_postgres::query] executing statement s619 with parameters: []
[2022-03-30T07:22:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4305]
[2022-03-30T07:22:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:07Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:08Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s620: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s620 with parameters: []
[2022-03-30T07:22:08Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624925.225521, Skytable = 1648420608.768691
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s621: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s621 with parameters: []
[2022-03-30T07:22:08Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624928.058446, Skytable = 1648420611.695139
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s622: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s622 with parameters: []
[2022-03-30T07:22:08Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s623: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s623 with parameters: []
[2022-03-30T07:22:08Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:08Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s624: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s624 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s625: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s625 with parameters: []
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s626: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s626 with parameters: [0]
[2022-03-30T07:22:08Z DEBUG tokio_postgres::prepare] preparing query s627: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:08Z DEBUG tokio_postgres::query] executing statement s627 with parameters: []
[2022-03-30T07:22:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:10Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:10Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:10Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:10Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:10Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:10Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:10Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s628: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s629: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s628 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s629 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s630: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s630 with parameters: []
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s631: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s631 with parameters: []
[2022-03-30T07:22:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s632: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s632 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s633: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s633 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s634: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s634 with parameters: []
[2022-03-30T07:22:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:10Z DEBUG tokio_postgres::prepare] preparing query s635: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:10Z DEBUG tokio_postgres::query] executing statement s635 with parameters: []
[2022-03-30T07:22:10Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:11Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:22:11Z DEBUG tokio_postgres::prepare] preparing query s636: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:11Z DEBUG tokio_postgres::query] executing statement s636 with parameters: []
[2022-03-30T07:22:11Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624928.641866, Skytable = 1648420608.768691
[2022-03-30T07:22:11Z DEBUG tokio_postgres::prepare] preparing query s637: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:11Z DEBUG tokio_postgres::query] executing statement s637 with parameters: []
[2022-03-30T07:22:11Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624931.078655, Skytable = 1648420611.695139
[2022-03-30T07:22:11Z DEBUG tokio_postgres::prepare] preparing query s638: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:11Z DEBUG tokio_postgres::query] executing statement s638 with parameters: []
[2022-03-30T07:22:11Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:11Z DEBUG tokio_postgres::prepare] preparing query s639: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:11Z DEBUG tokio_postgres::query] executing statement s639 with parameters: []
[2022-03-30T07:22:11Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4322]
[2022-03-30T07:22:11Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:12Z DEBUG tokio_postgres::prepare] preparing query s640: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:12Z DEBUG tokio_postgres::query] executing statement s640 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:12Z DEBUG tokio_postgres::prepare] preparing query s641: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:12Z DEBUG tokio_postgres::query] executing statement s641 with parameters: []
[2022-03-30T07:22:12Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:12Z DEBUG tokio_postgres::prepare] preparing query s642: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:12Z DEBUG tokio_postgres::query] executing statement s642 with parameters: [0]
[2022-03-30T07:22:12Z DEBUG tokio_postgres::prepare] preparing query s643: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:12Z DEBUG tokio_postgres::query] executing statement s643 with parameters: []
[2022-03-30T07:22:12Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:13Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:13Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:13Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:13Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:13Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:13Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s644: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s645: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s644 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s645 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s646: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s646 with parameters: []
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s647: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s647 with parameters: []
[2022-03-30T07:22:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s648: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s648 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s649: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s649 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s650: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s650 with parameters: []
[2022-03-30T07:22:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:13Z DEBUG tokio_postgres::prepare] preparing query s651: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:13Z DEBUG tokio_postgres::query] executing statement s651 with parameters: []
[2022-03-30T07:22:13Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:14Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:14Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:14Z DEBUG tokio_postgres::prepare] preparing query s652: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:14Z DEBUG tokio_postgres::query] executing statement s652 with parameters: []
[2022-03-30T07:22:14Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624932.147027, Skytable = 1648420608.768691
[2022-03-30T07:22:14Z DEBUG tokio_postgres::prepare] preparing query s653: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:14Z DEBUG tokio_postgres::query] executing statement s653 with parameters: []
[2022-03-30T07:22:14Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624934.097343, Skytable = 1648420611.695139
[2022-03-30T07:22:14Z DEBUG tokio_postgres::prepare] preparing query s654: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:14Z DEBUG tokio_postgres::query] executing statement s654 with parameters: []
[2022-03-30T07:22:14Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:14Z DEBUG tokio_postgres::prepare] preparing query s655: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:14Z DEBUG tokio_postgres::query] executing statement s655 with parameters: []
[2022-03-30T07:22:14Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:22:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4334]
[2022-03-30T07:22:15Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:15Z DEBUG tokio_postgres::prepare] preparing query s656: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:15Z DEBUG tokio_postgres::query] executing statement s656 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:15Z DEBUG tokio_postgres::prepare] preparing query s657: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:15Z DEBUG tokio_postgres::query] executing statement s657 with parameters: []
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:15Z DEBUG tokio_postgres::prepare] preparing query s658: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:15Z DEBUG tokio_postgres::query] executing statement s658 with parameters: [0]
[2022-03-30T07:22:15Z DEBUG tokio_postgres::prepare] preparing query s659: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:15Z DEBUG tokio_postgres::query] executing statement s659 with parameters: []
[2022-03-30T07:22:15Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:16Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:16Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:16Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:16Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:16Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:16Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s660: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s661: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s661 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s660 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s662: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s662 with parameters: []
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s663: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s663 with parameters: []
[2022-03-30T07:22:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s664: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s664 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s665: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s665 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s666: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s666 with parameters: []
[2022-03-30T07:22:16Z DEBUG tokio_postgres::prepare] preparing query s667: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:16Z DEBUG tokio_postgres::query] executing statement s667 with parameters: []
[2022-03-30T07:22:16Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:17Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:17Z DEBUG tokio_postgres::prepare] preparing query s668: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:17Z DEBUG tokio_postgres::query] executing statement s668 with parameters: []
[2022-03-30T07:22:17Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624935.304871, Skytable = 1648420608.768691
[2022-03-30T07:22:17Z DEBUG tokio_postgres::prepare] preparing query s669: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:17Z DEBUG tokio_postgres::query] executing statement s669 with parameters: []
[2022-03-30T07:22:17Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624937.118588, Skytable = 1648420611.695139
[2022-03-30T07:22:17Z DEBUG tokio_postgres::prepare] preparing query s670: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:17Z DEBUG tokio_postgres::query] executing statement s670 with parameters: []
[2022-03-30T07:22:17Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:17Z DEBUG tokio_postgres::prepare] preparing query s671: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:17Z DEBUG tokio_postgres::query] executing statement s671 with parameters: []
[2022-03-30T07:22:17Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:17Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [152]
[2022-03-30T07:22:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4317]
[2022-03-30T07:22:18Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:18Z DEBUG tokio_postgres::prepare] preparing query s672: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:18Z DEBUG tokio_postgres::query] executing statement s672 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:18Z DEBUG tokio_postgres::prepare] preparing query s673: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:18Z DEBUG tokio_postgres::query] executing statement s673 with parameters: []
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:18Z DEBUG tokio_postgres::prepare] preparing query s674: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:18Z DEBUG tokio_postgres::query] executing statement s674 with parameters: [0]
[2022-03-30T07:22:18Z DEBUG tokio_postgres::prepare] preparing query s675: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:18Z DEBUG tokio_postgres::query] executing statement s675 with parameters: []
[2022-03-30T07:22:18Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:19Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:19Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:19Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:19Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:19Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:19Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s676: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s676 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s677: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s677 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s678: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s679: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s678 with parameters: []
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s679 with parameters: []
[2022-03-30T07:22:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s680: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s681: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s680 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s681 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s682: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s682 with parameters: []
[2022-03-30T07:22:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:19Z DEBUG tokio_postgres::prepare] preparing query s683: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:19Z DEBUG tokio_postgres::query] executing statement s683 with parameters: []
[2022-03-30T07:22:19Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:20Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:20Z DEBUG tokio_postgres::prepare] preparing query s684: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:20Z DEBUG tokio_postgres::query] executing statement s684 with parameters: []
[2022-03-30T07:22:20Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624938.462779, Skytable = 1648420608.768691
[2022-03-30T07:22:20Z DEBUG tokio_postgres::prepare] preparing query s685: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:20Z DEBUG tokio_postgres::query] executing statement s685 with parameters: []
[2022-03-30T07:22:20Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624940.141046, Skytable = 1648420611.695139
[2022-03-30T07:22:20Z DEBUG tokio_postgres::prepare] preparing query s686: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:20Z DEBUG tokio_postgres::query] executing statement s686 with parameters: []
[2022-03-30T07:22:20Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:20Z DEBUG tokio_postgres::prepare] preparing query s687: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:20Z DEBUG tokio_postgres::query] executing statement s687 with parameters: []
[2022-03-30T07:22:20Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:20Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:21Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s688: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s688 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s689: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s689 with parameters: []
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s690: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s690 with parameters: [0]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s691: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s691 with parameters: []
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:22:22Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4308]
[2022-03-30T07:22:22Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:22Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:22Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:22Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:22Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:22Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s692: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s693: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s692 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s693 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s694: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s695: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s694 with parameters: []
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s695 with parameters: []
[2022-03-30T07:22:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s696: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s697: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s696 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s697 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s698: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s698 with parameters: []
[2022-03-30T07:22:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:22Z DEBUG tokio_postgres::prepare] preparing query s699: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:22Z DEBUG tokio_postgres::query] executing statement s699 with parameters: []
[2022-03-30T07:22:22Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:23Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:23Z DEBUG tokio_postgres::prepare] preparing query s700: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:23Z DEBUG tokio_postgres::query] executing statement s700 with parameters: []
[2022-03-30T07:22:23Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624942.02906, Skytable = 1648420608.768691
[2022-03-30T07:22:23Z DEBUG tokio_postgres::prepare] preparing query s701: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:23Z DEBUG tokio_postgres::query] executing statement s701 with parameters: []
[2022-03-30T07:22:23Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624943.164166, Skytable = 1648420611.695139
[2022-03-30T07:22:23Z DEBUG tokio_postgres::prepare] preparing query s702: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:23Z DEBUG tokio_postgres::query] executing statement s702 with parameters: []
[2022-03-30T07:22:23Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:23Z DEBUG tokio_postgres::prepare] preparing query s703: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:23Z DEBUG tokio_postgres::query] executing statement s703 with parameters: []
[2022-03-30T07:22:23Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:25Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s704: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s704 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s705: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s705 with parameters: []
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s706: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s706 with parameters: [0]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s707: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s707 with parameters: []
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:22:25Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4325]
[2022-03-30T07:22:25Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:25Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:25Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:25Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:25Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:25Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s708: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s709: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s708 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s709 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s710: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s711: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s710 with parameters: []
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s711 with parameters: []
[2022-03-30T07:22:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s712: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s713: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s712 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s713 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s714: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::prepare] preparing query s715: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s714 with parameters: []
[2022-03-30T07:22:25Z DEBUG tokio_postgres::query] executing statement s715 with parameters: []
[2022-03-30T07:22:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:25Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:26Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:26Z DEBUG tokio_postgres::prepare] preparing query s716: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:26Z DEBUG tokio_postgres::query] executing statement s716 with parameters: []
[2022-03-30T07:22:26Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624945.198908, Skytable = 1648420608.768691
[2022-03-30T07:22:26Z DEBUG tokio_postgres::prepare] preparing query s717: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:26Z DEBUG tokio_postgres::query] executing statement s717 with parameters: []
[2022-03-30T07:22:26Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624946.186333, Skytable = 1648420611.695139
[2022-03-30T07:22:26Z DEBUG tokio_postgres::prepare] preparing query s718: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:26Z DEBUG tokio_postgres::query] executing statement s718 with parameters: []
[2022-03-30T07:22:26Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:26Z DEBUG tokio_postgres::prepare] preparing query s719: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:26Z DEBUG tokio_postgres::query] executing statement s719 with parameters: []
[2022-03-30T07:22:26Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:28Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s720: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s720 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s721: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s721 with parameters: []
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s722: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s722 with parameters: [0]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s723: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s723 with parameters: []
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:28Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:22:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4338]
[2022-03-30T07:22:28Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:28Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:28Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:28Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:28Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:28Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s724: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s725: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s724 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s725 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s726: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s726 with parameters: []
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s727: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s727 with parameters: []
[2022-03-30T07:22:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s728: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s728 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s729: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s729 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s730: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s730 with parameters: []
[2022-03-30T07:22:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:28Z DEBUG tokio_postgres::prepare] preparing query s731: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:28Z DEBUG tokio_postgres::query] executing statement s731 with parameters: []
[2022-03-30T07:22:28Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:29Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:29Z DEBUG tokio_postgres::prepare] preparing query s732: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:29Z DEBUG tokio_postgres::query] executing statement s732 with parameters: []
[2022-03-30T07:22:29Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624948.354059, Skytable = 1648420608.768691
[2022-03-30T07:22:29Z DEBUG tokio_postgres::prepare] preparing query s733: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:29Z DEBUG tokio_postgres::query] executing statement s733 with parameters: []
[2022-03-30T07:22:29Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624949.206968, Skytable = 1648420611.695139
[2022-03-30T07:22:29Z DEBUG tokio_postgres::prepare] preparing query s734: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:29Z DEBUG tokio_postgres::query] executing statement s734 with parameters: []
[2022-03-30T07:22:29Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:29Z DEBUG tokio_postgres::prepare] preparing query s735: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:29Z DEBUG tokio_postgres::query] executing statement s735 with parameters: []
[2022-03-30T07:22:29Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:31Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s736: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:31Z DEBUG tokio_postgres::query] executing statement s736 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s737: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:31Z DEBUG tokio_postgres::query] executing statement s737 with parameters: []
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s738: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:31Z DEBUG tokio_postgres::query] executing statement s738 with parameters: [0]
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s739: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:31Z DEBUG tokio_postgres::query] executing statement s739 with parameters: []
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:31Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:31Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:31Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:31Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:31Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:31Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:31Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s740: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s741: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:31Z DEBUG tokio_postgres::query] executing statement s740 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:31Z DEBUG tokio_postgres::query] executing statement s741 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:31Z DEBUG tokio_postgres::prepare] preparing query s742: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s742 with parameters: []
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s743: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s743 with parameters: []
[2022-03-30T07:22:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s744: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s744 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s745: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s745 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s746: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s746 with parameters: []
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s747: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s747 with parameters: []
[2022-03-30T07:22:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:32Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s748: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s748 with parameters: []
[2022-03-30T07:22:32Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624951.534961, Skytable = 1648420608.768691
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s749: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s749 with parameters: []
[2022-03-30T07:22:32Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624952.228967, Skytable = 1648420611.695139
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s750: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s750 with parameters: []
[2022-03-30T07:22:32Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::prepare] preparing query s751: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:32Z DEBUG tokio_postgres::query] executing statement s751 with parameters: []
[2022-03-30T07:22:32Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:22:32Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4388]
[2022-03-30T07:22:34Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:34Z DEBUG tokio_postgres::prepare] preparing query s752: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:34Z DEBUG tokio_postgres::query] executing statement s752 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:34Z DEBUG tokio_postgres::prepare] preparing query s753: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:34Z DEBUG tokio_postgres::query] executing statement s753 with parameters: []
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:34Z DEBUG tokio_postgres::prepare] preparing query s754: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:34Z DEBUG tokio_postgres::query] executing statement s754 with parameters: [0]
[2022-03-30T07:22:34Z DEBUG tokio_postgres::prepare] preparing query s755: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:34Z DEBUG tokio_postgres::query] executing statement s755 with parameters: []
[2022-03-30T07:22:34Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:35Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:35Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:35Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:35Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:35Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s756: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s757: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s756 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s757 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s758: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s759: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s758 with parameters: []
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s759 with parameters: []
[2022-03-30T07:22:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s760: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s761: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s760 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s761 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s762: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s763: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s762 with parameters: []
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s763 with parameters: []
[2022-03-30T07:22:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:35Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s764: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s764 with parameters: []
[2022-03-30T07:22:35Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624954.696143, Skytable = 1648420608.768691
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s765: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s765 with parameters: []
[2022-03-30T07:22:35Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624955.252323, Skytable = 1648420611.695139
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s766: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s766 with parameters: []
[2022-03-30T07:22:35Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::prepare] preparing query s767: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:35Z DEBUG tokio_postgres::query] executing statement s767 with parameters: []
[2022-03-30T07:22:35Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:35Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:22:35Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4421]
[2022-03-30T07:22:37Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:37Z DEBUG tokio_postgres::prepare] preparing query s768: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:37Z DEBUG tokio_postgres::query] executing statement s768 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:37Z DEBUG tokio_postgres::prepare] preparing query s769: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:37Z DEBUG tokio_postgres::query] executing statement s769 with parameters: []
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:37Z DEBUG tokio_postgres::prepare] preparing query s770: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:37Z DEBUG tokio_postgres::query] executing statement s770 with parameters: [0]
[2022-03-30T07:22:37Z DEBUG tokio_postgres::prepare] preparing query s771: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:37Z DEBUG tokio_postgres::query] executing statement s771 with parameters: []
[2022-03-30T07:22:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:38Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:38Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:38Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:38Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:38Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s772: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s773: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s773 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s772 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s774: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s774 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s775: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s775 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s776: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s776 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s777: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s778: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s777 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s778 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s779: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s779 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:38Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s780: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s780 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624957.873021, Skytable = 1648420608.768691
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s781: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s781 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624958.275202, Skytable = 1648420611.695139
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s782: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s782 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::prepare] preparing query s783: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:38Z DEBUG tokio_postgres::query] executing statement s783 with parameters: []
[2022-03-30T07:22:38Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:38Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:22:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4404]
[2022-03-30T07:22:40Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:40Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s784: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s784 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s785: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s785 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s786: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s786 with parameters: [0]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s787: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s787 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:41Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:41Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:41Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:41Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:41Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s788: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s789: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s788 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s789 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s790: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s790 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s791: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s791 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s792: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s792 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s793: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s793 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s794: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s794 with parameters: []
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s795: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s795 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:41Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s796: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s796 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624961.033983, Skytable = 1648420608.768691
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s797: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s797 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624961.296859, Skytable = 1648420611.695139
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s798: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s798 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::prepare] preparing query s799: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:41Z DEBUG tokio_postgres::query] executing statement s799 with parameters: []
[2022-03-30T07:22:41Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:41Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [152]
[2022-03-30T07:22:42Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4375]
[2022-03-30T07:22:44Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:44Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:44Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:44Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:44Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:44Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s800: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s801: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s800 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s801 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s802: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s803: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s802 with parameters: []
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s803 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s804: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s805: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s804 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s805 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s806: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s806 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s807: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s807 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:44Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s808: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s808 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624961.033983, Skytable = 1648420608.768691
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s809: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s809 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624964.320202, Skytable = 1648420611.695139
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s810: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s810 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::prepare] preparing query s811: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:44Z DEBUG tokio_postgres::query] executing statement s811 with parameters: []
[2022-03-30T07:22:44Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:45Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:45Z DEBUG tokio_postgres::prepare] preparing query s812: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:45Z DEBUG tokio_postgres::query] executing statement s812 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:45Z DEBUG tokio_postgres::prepare] preparing query s813: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:45Z DEBUG tokio_postgres::query] executing statement s813 with parameters: []
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:45Z DEBUG tokio_postgres::prepare] preparing query s814: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:45Z DEBUG tokio_postgres::query] executing statement s814 with parameters: [0]
[2022-03-30T07:22:45Z DEBUG tokio_postgres::prepare] preparing query s815: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:45Z DEBUG tokio_postgres::query] executing statement s815 with parameters: []
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:22:45Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4384]
[2022-03-30T07:22:47Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:47Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:47Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:47Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:47Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s816: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s817: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s817 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s816 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s818: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s819: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s818 with parameters: []
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s819 with parameters: []
[2022-03-30T07:22:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s820: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s821: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s820 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s821 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s822: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s823: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s822 with parameters: []
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s823 with parameters: []
[2022-03-30T07:22:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:47Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s824: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s824 with parameters: []
[2022-03-30T07:22:47Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624965.319832, Skytable = 1648420608.768691
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s825: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s825 with parameters: []
[2022-03-30T07:22:47Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624967.342661, Skytable = 1648420611.695139
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s826: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s826 with parameters: []
[2022-03-30T07:22:47Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::prepare] preparing query s827: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:47Z DEBUG tokio_postgres::query] executing statement s827 with parameters: []
[2022-03-30T07:22:47Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:48Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:48Z DEBUG tokio_postgres::prepare] preparing query s828: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:48Z DEBUG tokio_postgres::query] executing statement s828 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:48Z DEBUG tokio_postgres::prepare] preparing query s829: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:48Z DEBUG tokio_postgres::query] executing statement s829 with parameters: []
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:48Z DEBUG tokio_postgres::prepare] preparing query s830: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:48Z DEBUG tokio_postgres::query] executing statement s830 with parameters: [0]
[2022-03-30T07:22:48Z DEBUG tokio_postgres::prepare] preparing query s831: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:48Z DEBUG tokio_postgres::query] executing statement s831 with parameters: []
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:48Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:22:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4410]
[2022-03-30T07:22:50Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:50Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:50Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:50Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:50Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s832: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s833: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s832 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s833 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s834: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s835: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s834 with parameters: []
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s835 with parameters: []
[2022-03-30T07:22:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s836: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s836 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s837: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s837 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s838: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s838 with parameters: []
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s839: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s839 with parameters: []
[2022-03-30T07:22:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:50Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s840: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s840 with parameters: []
[2022-03-30T07:22:50Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624968.49599, Skytable = 1648420608.768691
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s841: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s841 with parameters: []
[2022-03-30T07:22:50Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624970.372298, Skytable = 1648420611.695139
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s842: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s842 with parameters: []
[2022-03-30T07:22:50Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::prepare] preparing query s843: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:50Z DEBUG tokio_postgres::query] executing statement s843 with parameters: []
[2022-03-30T07:22:50Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:51Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:51Z DEBUG tokio_postgres::prepare] preparing query s844: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:51Z DEBUG tokio_postgres::query] executing statement s844 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:51Z DEBUG tokio_postgres::prepare] preparing query s845: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:51Z DEBUG tokio_postgres::query] executing statement s845 with parameters: []
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:51Z DEBUG tokio_postgres::prepare] preparing query s846: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:51Z DEBUG tokio_postgres::query] executing statement s846 with parameters: [0]
[2022-03-30T07:22:51Z DEBUG tokio_postgres::prepare] preparing query s847: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:51Z DEBUG tokio_postgres::query] executing statement s847 with parameters: []
[2022-03-30T07:22:51Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:22:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4415]
[2022-03-30T07:22:53Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:53Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:53Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:53Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:53Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s848: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s849: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s849 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s848 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s850: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s850 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s851: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s851 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s852: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s852 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s853: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s853 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s854: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s854 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s855: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s855 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:53Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s856: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s856 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624971.652362, Skytable = 1648420608.768691
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s857: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s857 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624973.426922, Skytable = 1648420611.695139
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s858: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s858 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::prepare] preparing query s859: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:53Z DEBUG tokio_postgres::query] executing statement s859 with parameters: []
[2022-03-30T07:22:53Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:54Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:54Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:54Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: []
[2022-03-30T07:22:55Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: []
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:22:55Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:22:56Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:56Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:56Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:56Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:56Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s860: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s861: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s860 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s861 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s862: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s862 with parameters: []
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s863: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s863 with parameters: []
[2022-03-30T07:22:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s864: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s865: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s864 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s865 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s866: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s867: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s866 with parameters: []
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s867 with parameters: []
[2022-03-30T07:22:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:56Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s868: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s868 with parameters: []
[2022-03-30T07:22:56Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624971.652362, Skytable = 1648420608.768691
[2022-03-30T07:22:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: []
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s869: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s869 with parameters: []
[2022-03-30T07:22:56Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624976.481085, Skytable = 1648420611.695139
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s870: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s870 with parameters: []
[2022-03-30T07:22:56Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::prepare] preparing query s871: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:56Z DEBUG tokio_postgres::query] executing statement s871 with parameters: []
[2022-03-30T07:22:56Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:22:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: []
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: []
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [0]
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [0]
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [22]
[2022-03-30T07:22:57Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-03-30T07:22:58Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:22:58Z DEBUG tokio_postgres::prepare] preparing query s872: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:22:58Z DEBUG tokio_postgres::query] executing statement s872 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:22:58Z DEBUG tokio_postgres::prepare] preparing query s873: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:58Z DEBUG tokio_postgres::query] executing statement s873 with parameters: []
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:22:58Z DEBUG tokio_postgres::prepare] preparing query s874: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:22:58Z DEBUG tokio_postgres::query] executing statement s874 with parameters: [0]
[2022-03-30T07:22:58Z DEBUG tokio_postgres::prepare] preparing query s875: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:58Z DEBUG tokio_postgres::query] executing statement s875 with parameters: []
[2022-03-30T07:22:58Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:22:59Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:22:59Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:22:59Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:22:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:22:59Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:22:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:22:59Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:22:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s876: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s877: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s877 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s876 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s878: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s879: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s878 with parameters: []
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s879 with parameters: []
[2022-03-30T07:22:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s880: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s881: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s880 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s881 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s882: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s883: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s882 with parameters: []
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s883 with parameters: []
[2022-03-30T07:22:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:22:59Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s884: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s884 with parameters: []
[2022-03-30T07:22:59Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624978.953271, Skytable = 1648420608.768691
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s885: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s885 with parameters: []
[2022-03-30T07:22:59Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624979.536468, Skytable = 1648420611.695139
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s886: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s886 with parameters: []
[2022-03-30T07:22:59Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::prepare] preparing query s887: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:22:59Z DEBUG tokio_postgres::query] executing statement s887 with parameters: []
[2022-03-30T07:22:59Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:00Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4413]
[2022-03-30T07:23:01Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:01Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s888: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s888 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s889: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s889 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s890: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s890 with parameters: [0]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s891: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s891 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:02Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:02Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:02Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:02Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:02Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s892: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s893: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s892 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s893 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s894: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s894 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s895: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s895 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s896: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s896 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s897: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s897 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s898: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s898 with parameters: []
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s899: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s899 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:02Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s900: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s900 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624982.110671, Skytable = 1648420608.768691
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s901: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s901 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624982.590283, Skytable = 1648420611.695139
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s902: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s902 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::prepare] preparing query s903: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:02Z DEBUG tokio_postgres::query] executing statement s903 with parameters: []
[2022-03-30T07:23:02Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:04Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:23:04Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4412]
[2022-03-30T07:23:05Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:05Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:05Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s904: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:05Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s904 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:05Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:05Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s905: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s905 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s906: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s906 with parameters: [0]
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s907: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s908: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s907 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s908 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s909: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s909 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s910: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s910 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s911: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s911 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s912: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s912 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s913: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s913 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s914: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s914 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s915: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s915 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:05Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s916: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s916 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624985.303388, Skytable = 1648420608.768691
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s917: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s917 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624985.644595, Skytable = 1648420611.695139
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s918: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s918 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::prepare] preparing query s919: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:05Z DEBUG tokio_postgres::query] executing statement s919 with parameters: []
[2022-03-30T07:23:05Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:07Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:07Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4388]
[2022-03-30T07:23:08Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:08Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:08Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:08Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:08Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:08Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s920: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s921: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s920 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s921 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s922: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s922 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s923: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s923 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s924: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s924 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s925: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s925 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s926: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s926 with parameters: []
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s927: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s927 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s928: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s928 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s929: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s929 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s930: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s930 with parameters: [0]
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s931: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s931 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:08Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s932: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s932 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624988.448147, Skytable = 1648420608.768691
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s933: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s933 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624988.698816, Skytable = 1648420611.695139
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s934: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s934 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::prepare] preparing query s935: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:08Z DEBUG tokio_postgres::query] executing statement s935 with parameters: []
[2022-03-30T07:23:08Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:11Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:11Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:11Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:11Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:11Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s936: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s937: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s936 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s937 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s938: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s938 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s939: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s939 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s940: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s940 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s941: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s941 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s942: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s942 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s943: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s943 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:11Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [152]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4378]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s944: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s944 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s945: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s945 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s946: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s946 with parameters: [0]
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s947: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s947 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:11Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s948: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s948 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624991.604319, Skytable = 1648420608.768691
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s949: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s949 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624991.753329, Skytable = 1648420611.695139
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s950: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s950 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::prepare] preparing query s951: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:11Z DEBUG tokio_postgres::query] executing statement s951 with parameters: []
[2022-03-30T07:23:11Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:14Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:14Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:14Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:14Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:14Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s952: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s953: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s952 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s953 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s954: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s955: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s954 with parameters: []
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s955 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s956: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s957: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s956 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s957 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s958: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s959: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s958 with parameters: []
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s959 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:14Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [147]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s960: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s960 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s961: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s961 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s962: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s962 with parameters: [0]
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4414]
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s963: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s963 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:14Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s964: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s964 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624994.765013, Skytable = 1648420608.768691
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s965: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s965 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624994.80746, Skytable = 1648420611.695139
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s966: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s966 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::prepare] preparing query s967: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:14Z DEBUG tokio_postgres::query] executing statement s967 with parameters: []
[2022-03-30T07:23:14Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:17Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:17Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:17Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:17Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:17Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s968: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s969: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s968 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s969 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s970: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s970 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s971: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s971 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s972: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s972 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s973: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s973 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s974: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s974 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s975: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s975 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:17Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:17Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s976: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s976 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624994.765013, Skytable = 1648420608.768691
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s977: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s977 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648624997.861196, Skytable = 1648420611.695139
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s978: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s978 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s979: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s979 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s980: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s980 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s981: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s981 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s982: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s982 with parameters: [0]
[2022-03-30T07:23:17Z DEBUG tokio_postgres::prepare] preparing query s983: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:17Z DEBUG tokio_postgres::query] executing statement s983 with parameters: []
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:17Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [146]
[2022-03-30T07:23:18Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4407]
[2022-03-30T07:23:20Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:20Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:20Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:20Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:20Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:20Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s984: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s985: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s985 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s984 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s986: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s986 with parameters: []
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s987: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s987 with parameters: []
[2022-03-30T07:23:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s988: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s988 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s989: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s989 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s990: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s990 with parameters: []
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s991: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s991 with parameters: []
[2022-03-30T07:23:20Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:20Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s992: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s992 with parameters: []
[2022-03-30T07:23:20Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648624997.929743, Skytable = 1648420608.768691
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s993: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s993 with parameters: []
[2022-03-30T07:23:20Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625000.915911, Skytable = 1648420611.695139
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s994: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s994 with parameters: []
[2022-03-30T07:23:20Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::prepare] preparing query s995: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:20Z DEBUG tokio_postgres::query] executing statement s995 with parameters: []
[2022-03-30T07:23:20Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:20Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:20Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:20Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:21Z DEBUG tokio_postgres::prepare] preparing query s996: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:21Z DEBUG tokio_postgres::query] executing statement s996 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:21Z DEBUG tokio_postgres::prepare] preparing query s997: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:21Z DEBUG tokio_postgres::query] executing statement s997 with parameters: []
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:21Z DEBUG tokio_postgres::prepare] preparing query s998: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:21Z DEBUG tokio_postgres::query] executing statement s998 with parameters: [0]
[2022-03-30T07:23:21Z DEBUG tokio_postgres::prepare] preparing query s999: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:21Z DEBUG tokio_postgres::query] executing statement s999 with parameters: []
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [153]
[2022-03-30T07:23:21Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4373]
[2022-03-30T07:23:23Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:23Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:23Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:23Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:23Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:23Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1000: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1000 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1001: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1001 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1002: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1002 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1003: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1003 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1004: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1004 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1005: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1005 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1006: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1006 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1007: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1007 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:23Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1008: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1008 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625001.087898, Skytable = 1648420608.768691
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1009: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1009 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625003.952616, Skytable = 1648420611.695139
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1010: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1010 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::prepare] preparing query s1011: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:23Z DEBUG tokio_postgres::query] executing statement s1011 with parameters: []
[2022-03-30T07:23:23Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:24Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:24Z DEBUG tokio_postgres::prepare] preparing query s1012: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:24Z DEBUG tokio_postgres::query] executing statement s1012 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:24Z DEBUG tokio_postgres::prepare] preparing query s1013: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:24Z DEBUG tokio_postgres::query] executing statement s1013 with parameters: []
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:24Z DEBUG tokio_postgres::prepare] preparing query s1014: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:24Z DEBUG tokio_postgres::query] executing statement s1014 with parameters: [0]
[2022-03-30T07:23:24Z DEBUG tokio_postgres::prepare] preparing query s1015: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:24Z DEBUG tokio_postgres::query] executing statement s1015 with parameters: []
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:24Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [147]
[2022-03-30T07:23:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4316]
[2022-03-30T07:23:26Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:26Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:26Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:26Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:26Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1016: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1017: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1016 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1017 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1018: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1018 with parameters: []
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1019: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1019 with parameters: []
[2022-03-30T07:23:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1020: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1021: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1020 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1021 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1022: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1022 with parameters: []
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1023: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1023 with parameters: []
[2022-03-30T07:23:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:26Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:26Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1024: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1024 with parameters: []
[2022-03-30T07:23:26Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625004.238086, Skytable = 1648420608.768691
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1025: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1025 with parameters: []
[2022-03-30T07:23:26Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625006.965692, Skytable = 1648420611.695139
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1026: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1026 with parameters: []
[2022-03-30T07:23:26Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::prepare] preparing query s1027: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:26Z DEBUG tokio_postgres::query] executing statement s1027 with parameters: []
[2022-03-30T07:23:26Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:27Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:27Z DEBUG tokio_postgres::prepare] preparing query s1028: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:27Z DEBUG tokio_postgres::query] executing statement s1028 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:27Z DEBUG tokio_postgres::prepare] preparing query s1029: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:27Z DEBUG tokio_postgres::query] executing statement s1029 with parameters: []
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:27Z DEBUG tokio_postgres::prepare] preparing query s1030: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:27Z DEBUG tokio_postgres::query] executing statement s1030 with parameters: [0]
[2022-03-30T07:23:27Z DEBUG tokio_postgres::prepare] preparing query s1031: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:27Z DEBUG tokio_postgres::query] executing statement s1031 with parameters: []
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:27Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:23:28Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4317]
[2022-03-30T07:23:29Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:29Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:29Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:29Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:29Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:29Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1032: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1032 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1033: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1033 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1034: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1034 with parameters: []
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1035: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1035 with parameters: []
[2022-03-30T07:23:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1036: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1036 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1037: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1037 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1038: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1039: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1038 with parameters: []
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1039 with parameters: []
[2022-03-30T07:23:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:29Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:29Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1040: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1040 with parameters: []
[2022-03-30T07:23:29Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625007.549048, Skytable = 1648420608.768691
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1041: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1041 with parameters: []
[2022-03-30T07:23:29Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625009.979155, Skytable = 1648420611.695139
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1042: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1042 with parameters: []
[2022-03-30T07:23:29Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::prepare] preparing query s1043: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:29Z DEBUG tokio_postgres::query] executing statement s1043 with parameters: []
[2022-03-30T07:23:29Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:30Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:30Z DEBUG tokio_postgres::prepare] preparing query s1044: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:30Z DEBUG tokio_postgres::query] executing statement s1044 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:30Z DEBUG tokio_postgres::prepare] preparing query s1045: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:30Z DEBUG tokio_postgres::query] executing statement s1045 with parameters: []
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:30Z DEBUG tokio_postgres::prepare] preparing query s1046: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:30Z DEBUG tokio_postgres::query] executing statement s1046 with parameters: [0]
[2022-03-30T07:23:30Z DEBUG tokio_postgres::prepare] preparing query s1047: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:30Z DEBUG tokio_postgres::query] executing statement s1047 with parameters: []
[2022-03-30T07:23:30Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:31Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:23:31Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4308]
[2022-03-30T07:23:32Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:32Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:32Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:32Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:32Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:32Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1048: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1049: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1048 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1049 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1050: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1050 with parameters: []
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1051: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1051 with parameters: []
[2022-03-30T07:23:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1052: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1053: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1052 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1053 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1054: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1054 with parameters: []
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1055: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1055 with parameters: []
[2022-03-30T07:23:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:32Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:32Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:32Z DEBUG tokio_postgres::prepare] preparing query s1056: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:32Z DEBUG tokio_postgres::query] executing statement s1056 with parameters: []
[2022-03-30T07:23:33Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625010.708611, Skytable = 1648420608.768691
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1057: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1057 with parameters: []
[2022-03-30T07:23:33Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625013.010656, Skytable = 1648420611.695139
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1058: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1058 with parameters: []
[2022-03-30T07:23:33Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1059: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1059 with parameters: []
[2022-03-30T07:23:33Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:33Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1060: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1060 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1061: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1061 with parameters: []
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1062: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1062 with parameters: [0]
[2022-03-30T07:23:33Z DEBUG tokio_postgres::prepare] preparing query s1063: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:33Z DEBUG tokio_postgres::query] executing statement s1063 with parameters: []
[2022-03-30T07:23:33Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:34Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:23:34Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4331]
[2022-03-30T07:23:35Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:35Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:35Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:35Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:35Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:35Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1064: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1065: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1064 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1065 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1066: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1066 with parameters: []
[2022-03-30T07:23:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1067: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1067 with parameters: []
[2022-03-30T07:23:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1068: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1068 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1069: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1069 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1070: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1070 with parameters: []
[2022-03-30T07:23:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:35Z DEBUG tokio_postgres::prepare] preparing query s1071: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:35Z DEBUG tokio_postgres::query] executing statement s1071 with parameters: []
[2022-03-30T07:23:35Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:36Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:36Z DEBUG tokio_postgres::prepare] preparing query s1072: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:36Z DEBUG tokio_postgres::query] executing statement s1072 with parameters: []
[2022-03-30T07:23:36Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625013.907087, Skytable = 1648420608.768691
[2022-03-30T07:23:36Z DEBUG tokio_postgres::prepare] preparing query s1073: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:36Z DEBUG tokio_postgres::query] executing statement s1073 with parameters: []
[2022-03-30T07:23:36Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625016.064715, Skytable = 1648420611.695139
[2022-03-30T07:23:36Z DEBUG tokio_postgres::prepare] preparing query s1074: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:36Z DEBUG tokio_postgres::query] executing statement s1074 with parameters: []
[2022-03-30T07:23:36Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:36Z DEBUG tokio_postgres::prepare] preparing query s1075: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:36Z DEBUG tokio_postgres::query] executing statement s1075 with parameters: []
[2022-03-30T07:23:36Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:36Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:36Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:36Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:37Z DEBUG tokio_postgres::prepare] preparing query s1076: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:37Z DEBUG tokio_postgres::query] executing statement s1076 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:37Z DEBUG tokio_postgres::prepare] preparing query s1077: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:37Z DEBUG tokio_postgres::query] executing statement s1077 with parameters: []
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:37Z DEBUG tokio_postgres::prepare] preparing query s1078: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:37Z DEBUG tokio_postgres::query] executing statement s1078 with parameters: [0]
[2022-03-30T07:23:37Z DEBUG tokio_postgres::prepare] preparing query s1079: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:37Z DEBUG tokio_postgres::query] executing statement s1079 with parameters: []
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:37Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:37Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:23:38Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4325]
[2022-03-30T07:23:38Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:38Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:38Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:38Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:38Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:38Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1080: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1081: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1080 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1081 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1082: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1082 with parameters: []
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1083: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1083 with parameters: []
[2022-03-30T07:23:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1084: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1084 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1085: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1085 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1086: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1086 with parameters: []
[2022-03-30T07:23:38Z DEBUG tokio_postgres::prepare] preparing query s1087: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:38Z DEBUG tokio_postgres::query] executing statement s1087 with parameters: []
[2022-03-30T07:23:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:38Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:39Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:39Z DEBUG tokio_postgres::prepare] preparing query s1088: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:39Z DEBUG tokio_postgres::query] executing statement s1088 with parameters: []
[2022-03-30T07:23:39Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625017.072421, Skytable = 1648420608.768691
[2022-03-30T07:23:39Z DEBUG tokio_postgres::prepare] preparing query s1089: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:39Z DEBUG tokio_postgres::query] executing statement s1089 with parameters: []
[2022-03-30T07:23:39Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625019.105741, Skytable = 1648420611.695139
[2022-03-30T07:23:39Z DEBUG tokio_postgres::prepare] preparing query s1090: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:39Z DEBUG tokio_postgres::query] executing statement s1090 with parameters: []
[2022-03-30T07:23:39Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:39Z DEBUG tokio_postgres::prepare] preparing query s1091: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:39Z DEBUG tokio_postgres::query] executing statement s1091 with parameters: []
[2022-03-30T07:23:39Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:40Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:40Z DEBUG tokio_postgres::prepare] preparing query s1092: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:40Z DEBUG tokio_postgres::query] executing statement s1092 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:40Z DEBUG tokio_postgres::prepare] preparing query s1093: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:40Z DEBUG tokio_postgres::query] executing statement s1093 with parameters: []
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:40Z DEBUG tokio_postgres::prepare] preparing query s1094: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:40Z DEBUG tokio_postgres::query] executing statement s1094 with parameters: [0]
[2022-03-30T07:23:40Z DEBUG tokio_postgres::prepare] preparing query s1095: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:40Z DEBUG tokio_postgres::query] executing statement s1095 with parameters: []
[2022-03-30T07:23:40Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:41Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [153]
[2022-03-30T07:23:41Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4308]
[2022-03-30T07:23:41Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:41Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:41Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:41Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:41Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:41Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1096: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1097: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1096 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1097 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1098: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1098 with parameters: []
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1099: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1099 with parameters: []
[2022-03-30T07:23:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1100: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1100 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1101: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1101 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1102: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1102 with parameters: []
[2022-03-30T07:23:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:41Z DEBUG tokio_postgres::prepare] preparing query s1103: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:41Z DEBUG tokio_postgres::query] executing statement s1103 with parameters: []
[2022-03-30T07:23:41Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:42Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:42Z DEBUG tokio_postgres::prepare] preparing query s1104: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:42Z DEBUG tokio_postgres::query] executing statement s1104 with parameters: []
[2022-03-30T07:23:42Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625020.510655, Skytable = 1648420608.768691
[2022-03-30T07:23:42Z DEBUG tokio_postgres::prepare] preparing query s1105: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:42Z DEBUG tokio_postgres::query] executing statement s1105 with parameters: []
[2022-03-30T07:23:42Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625022.1407, Skytable = 1648420611.695139
[2022-03-30T07:23:42Z DEBUG tokio_postgres::prepare] preparing query s1106: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:42Z DEBUG tokio_postgres::query] executing statement s1106 with parameters: []
[2022-03-30T07:23:42Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:42Z DEBUG tokio_postgres::prepare] preparing query s1107: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:42Z DEBUG tokio_postgres::query] executing statement s1107 with parameters: []
[2022-03-30T07:23:42Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:43Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:43Z DEBUG tokio_postgres::prepare] preparing query s1108: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:43Z DEBUG tokio_postgres::query] executing statement s1108 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:43Z DEBUG tokio_postgres::prepare] preparing query s1109: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:43Z DEBUG tokio_postgres::query] executing statement s1109 with parameters: []
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:43Z DEBUG tokio_postgres::prepare] preparing query s1110: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:43Z DEBUG tokio_postgres::query] executing statement s1110 with parameters: [0]
[2022-03-30T07:23:43Z DEBUG tokio_postgres::prepare] preparing query s1111: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:43Z DEBUG tokio_postgres::query] executing statement s1111 with parameters: []
[2022-03-30T07:23:43Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:44Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:44Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:44Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:44Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:44Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:44Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1112: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1113: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1112 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1113 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1114: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1115: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1115 with parameters: []
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1114 with parameters: []
[2022-03-30T07:23:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1116: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1117: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1117 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1116 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1118: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1118 with parameters: []
[2022-03-30T07:23:44Z DEBUG tokio_postgres::prepare] preparing query s1119: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:44Z DEBUG tokio_postgres::query] executing statement s1119 with parameters: []
[2022-03-30T07:23:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:44Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [148]
[2022-03-30T07:23:44Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4239]
[2022-03-30T07:23:45Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:45Z DEBUG tokio_postgres::prepare] preparing query s1120: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:45Z DEBUG tokio_postgres::query] executing statement s1120 with parameters: []
[2022-03-30T07:23:45Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625023.668976, Skytable = 1648420608.768691
[2022-03-30T07:23:45Z DEBUG tokio_postgres::prepare] preparing query s1121: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:45Z DEBUG tokio_postgres::query] executing statement s1121 with parameters: []
[2022-03-30T07:23:45Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625025.195527, Skytable = 1648420611.695139
[2022-03-30T07:23:45Z DEBUG tokio_postgres::prepare] preparing query s1122: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:45Z DEBUG tokio_postgres::query] executing statement s1122 with parameters: []
[2022-03-30T07:23:45Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:45Z DEBUG tokio_postgres::prepare] preparing query s1123: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:45Z DEBUG tokio_postgres::query] executing statement s1123 with parameters: []
[2022-03-30T07:23:45Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:46Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:46Z DEBUG tokio_postgres::prepare] preparing query s1124: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:46Z DEBUG tokio_postgres::query] executing statement s1124 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:46Z DEBUG tokio_postgres::prepare] preparing query s1125: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:46Z DEBUG tokio_postgres::query] executing statement s1125 with parameters: []
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:46Z DEBUG tokio_postgres::prepare] preparing query s1126: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:46Z DEBUG tokio_postgres::query] executing statement s1126 with parameters: [0]
[2022-03-30T07:23:46Z DEBUG tokio_postgres::prepare] preparing query s1127: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:46Z DEBUG tokio_postgres::query] executing statement s1127 with parameters: []
[2022-03-30T07:23:46Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:47Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:47Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:47Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:47Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:47Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:47Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1128: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1129: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1128 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1129 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1130: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1130 with parameters: []
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1131: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1131 with parameters: []
[2022-03-30T07:23:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1132: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1133: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1132 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1133 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1134: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:47Z DEBUG tokio_postgres::prepare] preparing query s1135: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1134 with parameters: []
[2022-03-30T07:23:47Z DEBUG tokio_postgres::query] executing statement s1135 with parameters: []
[2022-03-30T07:23:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:47Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:47Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:48Z DEBUG tokio_postgres::prepare] preparing query s1136: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:48Z DEBUG tokio_postgres::query] executing statement s1136 with parameters: []
[2022-03-30T07:23:48Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625026.824344, Skytable = 1648420608.768691
[2022-03-30T07:23:48Z DEBUG tokio_postgres::prepare] preparing query s1137: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:48Z DEBUG tokio_postgres::query] executing statement s1137 with parameters: []
[2022-03-30T07:23:48Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625028.252435, Skytable = 1648420611.695139
[2022-03-30T07:23:48Z DEBUG tokio_postgres::prepare] preparing query s1138: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:48Z DEBUG tokio_postgres::query] executing statement s1138 with parameters: []
[2022-03-30T07:23:48Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:48Z DEBUG tokio_postgres::prepare] preparing query s1139: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:48Z DEBUG tokio_postgres::query] executing statement s1139 with parameters: []
[2022-03-30T07:23:48Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: []
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [0]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [21]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [149]
[2022-03-30T07:23:48Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-03-30T07:23:49Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:49Z DEBUG tokio_postgres::prepare] preparing query s1140: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:49Z DEBUG tokio_postgres::query] executing statement s1140 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:49Z DEBUG tokio_postgres::prepare] preparing query s1141: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:49Z DEBUG tokio_postgres::query] executing statement s1141 with parameters: []
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:49Z DEBUG tokio_postgres::prepare] preparing query s1142: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:49Z DEBUG tokio_postgres::query] executing statement s1142 with parameters: [0]
[2022-03-30T07:23:49Z DEBUG tokio_postgres::prepare] preparing query s1143: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:49Z DEBUG tokio_postgres::query] executing statement s1143 with parameters: []
[2022-03-30T07:23:49Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:50Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:50Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:50Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:50Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:50Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:50Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1144: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1145: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1144 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1145 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1146: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1146 with parameters: []
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1147: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1147 with parameters: []
[2022-03-30T07:23:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1148: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1148 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1149: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1149 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1150: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1150 with parameters: []
[2022-03-30T07:23:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:50Z DEBUG tokio_postgres::prepare] preparing query s1151: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:50Z DEBUG tokio_postgres::query] executing statement s1151 with parameters: []
[2022-03-30T07:23:50Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:51Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:51Z DEBUG tokio_postgres::prepare] preparing query s1152: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:51Z DEBUG tokio_postgres::query] executing statement s1152 with parameters: []
[2022-03-30T07:23:51Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625029.977248, Skytable = 1648420608.768691
[2022-03-30T07:23:51Z DEBUG tokio_postgres::prepare] preparing query s1153: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:51Z DEBUG tokio_postgres::query] executing statement s1153 with parameters: []
[2022-03-30T07:23:51Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625031.300491, Skytable = 1648420611.695139
[2022-03-30T07:23:51Z DEBUG tokio_postgres::prepare] preparing query s1154: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:51Z DEBUG tokio_postgres::query] executing statement s1154 with parameters: []
[2022-03-30T07:23:51Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:51Z DEBUG tokio_postgres::prepare] preparing query s1155: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:51Z DEBUG tokio_postgres::query] executing statement s1155 with parameters: []
[2022-03-30T07:23:51Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:51Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:52Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: []
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [22]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [21]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [152]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Ошибка! Не все значения пререданы модулю modbus_winter_garden от ПЛК!
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1156: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1156 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1157: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1157 with parameters: []
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1158: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1158 with parameters: [0]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1159: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1159 with parameters: []
[2022-03-30T07:23:53Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:53Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:53Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:53Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:53Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:53Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:53Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1160: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1161: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1161 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1160 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1162: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1162 with parameters: []
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1163: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1163 with parameters: []
[2022-03-30T07:23:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1164: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1164 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1165: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1165 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1166: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1166 with parameters: []
[2022-03-30T07:23:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:53Z DEBUG tokio_postgres::prepare] preparing query s1167: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:53Z DEBUG tokio_postgres::query] executing statement s1167 with parameters: []
[2022-03-30T07:23:53Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:54Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:54Z DEBUG tokio_postgres::prepare] preparing query s1168: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:54Z DEBUG tokio_postgres::query] executing statement s1168 with parameters: []
[2022-03-30T07:23:54Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625033.199544, Skytable = 1648420608.768691
[2022-03-30T07:23:54Z DEBUG tokio_postgres::prepare] preparing query s1169: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:54Z DEBUG tokio_postgres::query] executing statement s1169 with parameters: []
[2022-03-30T07:23:54Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625034.333787, Skytable = 1648420611.695139
[2022-03-30T07:23:54Z DEBUG tokio_postgres::prepare] preparing query s1170: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:54Z DEBUG tokio_postgres::query] executing statement s1170 with parameters: []
[2022-03-30T07:23:54Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:54Z DEBUG tokio_postgres::prepare] preparing query s1171: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:54Z DEBUG tokio_postgres::query] executing statement s1171 with parameters: []
[2022-03-30T07:23:54Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:56Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1172: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1172 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1173: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1173 with parameters: []
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1174: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1174 with parameters: [0]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1175: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1175 with parameters: []
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:23:56Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:56Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:56Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:56Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4244]
[2022-03-30T07:23:56Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:56Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:56Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1176: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1177: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1177 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1176 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1178: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1178 with parameters: []
[2022-03-30T07:23:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1179: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1179 with parameters: []
[2022-03-30T07:23:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1180: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1180 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1181: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1181 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1182: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1182 with parameters: []
[2022-03-30T07:23:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:56Z DEBUG tokio_postgres::prepare] preparing query s1183: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:56Z DEBUG tokio_postgres::query] executing statement s1183 with parameters: []
[2022-03-30T07:23:56Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:57Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:23:57Z DEBUG tokio_postgres::prepare] preparing query s1184: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:57Z DEBUG tokio_postgres::query] executing statement s1184 with parameters: []
[2022-03-30T07:23:57Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625036.610322, Skytable = 1648420608.768691
[2022-03-30T07:23:57Z DEBUG tokio_postgres::prepare] preparing query s1185: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:23:57Z DEBUG tokio_postgres::query] executing statement s1185 with parameters: []
[2022-03-30T07:23:57Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625037.378797, Skytable = 1648420611.695139
[2022-03-30T07:23:57Z DEBUG tokio_postgres::prepare] preparing query s1186: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:57Z DEBUG tokio_postgres::query] executing statement s1186 with parameters: []
[2022-03-30T07:23:57Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:23:57Z DEBUG tokio_postgres::prepare] preparing query s1187: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:23:57Z DEBUG tokio_postgres::query] executing statement s1187 with parameters: []
[2022-03-30T07:23:57Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:23:59Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:23:59Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:23:59Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:23:59Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:23:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:23:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:23:59Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:23:59Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:23:59Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:23:59Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1188: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1189: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1188 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1189 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1190: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1191: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1190 with parameters: []
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1191 with parameters: []
[2022-03-30T07:23:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1192: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1193: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1192 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1193 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1194: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1194 with parameters: []
[2022-03-30T07:23:59Z DEBUG tokio_postgres::prepare] preparing query s1195: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:23:59Z DEBUG tokio_postgres::query] executing statement s1195 with parameters: []
[2022-03-30T07:23:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:23:59Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:23:59Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1196: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1196 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1197: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1197 with parameters: []
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1198: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1198 with parameters: [0]
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1199: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1199 with parameters: []
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:24:00Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4255]
[2022-03-30T07:24:00Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1200: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1200 with parameters: []
[2022-03-30T07:24:00Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625040.050327, Skytable = 1648420608.768691
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1201: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1201 with parameters: []
[2022-03-30T07:24:00Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625040.403449, Skytable = 1648420611.695139
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1202: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1202 with parameters: []
[2022-03-30T07:24:00Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::prepare] preparing query s1203: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:00Z DEBUG tokio_postgres::query] executing statement s1203 with parameters: []
[2022-03-30T07:24:00Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:24:02Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:02Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:24:02Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:24:02Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:24:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:24:02Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:24:02Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1204: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1205: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1204 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1205 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1206: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1207: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1206 with parameters: []
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1207 with parameters: []
[2022-03-30T07:24:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:24:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1208: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1209: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1208 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1209 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1210: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:02Z DEBUG tokio_postgres::prepare] preparing query s1211: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1210 with parameters: []
[2022-03-30T07:24:02Z DEBUG tokio_postgres::query] executing statement s1211 with parameters: []
[2022-03-30T07:24:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:02Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:03Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1212: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1212 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1213: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1213 with parameters: []
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1214: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1214 with parameters: [0]
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1215: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1215 with parameters: []
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:24:03Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1216: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1216 with parameters: []
[2022-03-30T07:24:03Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625043.21469, Skytable = 1648420608.768691
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1217: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1217 with parameters: []
[2022-03-30T07:24:03Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625043.438619, Skytable = 1648420611.695139
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1218: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1218 with parameters: []
[2022-03-30T07:24:03Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::prepare] preparing query s1219: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:03Z DEBUG tokio_postgres::query] executing statement s1219 with parameters: []
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [150]
[2022-03-30T07:24:03Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4217]
[2022-03-30T07:24:05Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:05Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:05Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:24:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:24:05Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:24:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:24:05Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:24:05Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1220: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1221: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1221 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1220 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1222: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1222 with parameters: []
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1223: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1223 with parameters: []
[2022-03-30T07:24:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1224: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1224 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1225: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1225 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1226: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1226 with parameters: []
[2022-03-30T07:24:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:05Z DEBUG tokio_postgres::prepare] preparing query s1227: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:05Z DEBUG tokio_postgres::query] executing statement s1227 with parameters: []
[2022-03-30T07:24:05Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:06Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1228: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1228 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1229: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1229 with parameters: []
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1230: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1230 with parameters: [0]
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1231: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1231 with parameters: []
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:24:06Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1232: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1232 with parameters: []
[2022-03-30T07:24:06Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625046.377869, Skytable = 1648420608.768691
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1233: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1233 with parameters: []
[2022-03-30T07:24:06Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625046.493216, Skytable = 1648420611.695139
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1234: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1234 with parameters: []
[2022-03-30T07:24:06Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::prepare] preparing query s1235: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:06Z DEBUG tokio_postgres::query] executing statement s1235 with parameters: []
[2022-03-30T07:24:06Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:24:06Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:24:06Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4306]
[2022-03-30T07:24:08Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:08Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:08Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:24:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:24:08Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:24:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:24:08Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:24:08Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1236: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1237: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1236 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1237 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1238: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1238 with parameters: []
[2022-03-30T07:24:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1239: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1239 with parameters: []
[2022-03-30T07:24:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1240: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1240 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1241: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1241 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1242: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1242 with parameters: []
[2022-03-30T07:24:08Z DEBUG tokio_postgres::prepare] preparing query s1243: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:08Z DEBUG tokio_postgres::query] executing statement s1243 with parameters: []
[2022-03-30T07:24:08Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:09Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:09Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1244: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1245: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1244 with parameters: []
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1245 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:24:09Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625046.377869, Skytable = 1648420608.768691
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1246: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1246 with parameters: []
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1247: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1248: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1247 with parameters: [0]
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1248 with parameters: []
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1249: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:09Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625049.536269, Skytable = 1648420611.695139
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1249 with parameters: []
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1250: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1250 with parameters: []
[2022-03-30T07:24:09Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::prepare] preparing query s1251: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:09Z DEBUG tokio_postgres::query] executing statement s1251 with parameters: []
[2022-03-30T07:24:09Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:24:09Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:09Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [151]
[2022-03-30T07:24:10Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4342]
[2022-03-30T07:24:11Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:11Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:11Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:24:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:24:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:24:11Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:24:11Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:24:11Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1252: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1253: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1252 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1253 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1254: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1255: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1254 with parameters: []
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1255 with parameters: []
[2022-03-30T07:24:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1256: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1257: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1256 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1257 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1258: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1258 with parameters: []
[2022-03-30T07:24:11Z DEBUG tokio_postgres::prepare] preparing query s1259: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:11Z DEBUG tokio_postgres::query] executing statement s1259 with parameters: []
[2022-03-30T07:24:11Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:12Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:12Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1260: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1260 with parameters: []
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:12Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625049.532714, Skytable = 1648420608.768691
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1261: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1261 with parameters: []
[2022-03-30T07:24:12Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625052.567122, Skytable = 1648420611.695139
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1262: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1262 with parameters: []
[2022-03-30T07:24:12Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1263: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1263 with parameters: []
[2022-03-30T07:24:12Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1264: INSERT INTO avr_control_insert (mains_power_supply, start_generator, generator_faulty, generator_work, connection) VALUES ($1, $2, $3, $4, $5)
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1264 with parameters: [0, 0, 0, 0, 1]
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1265: SELECT mains_power_supply, start_generator, generator_faulty, generator_work, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1265 with parameters: []
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. avr_control_insert следующие значения: mains_power_supply: 0, start_generator: 0, generator_faulty: 0, generator_work: 0, connection: 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1266: INSERT INTO нагрузка_на_генератор (нагрузка) VALUES ($1)
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1266 with parameters: [0]
[2022-03-30T07:24:12Z DEBUG tokio_postgres::prepare] preparing query s1267: SELECT нагрузка FROM нагрузка_на_генератор ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:12Z DEBUG tokio_postgres::query] executing statement s1267 with parameters: []
[2022-03-30T07:24:12Z INFO  ats_monitoring::modbus_ats::avr_control] Считаны из ПЛК и записаны в табл. нагрузка_на_генератор следующие значения: load: 0
[2022-03-30T07:24:13Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [152]
[2022-03-30T07:24:13Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4339]
[2022-03-30T07:24:14Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:14Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:24:14Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:24:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:24:14Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:24:14Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:24:14Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1268: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1269: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1268 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1269 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1270: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1270 with parameters: []
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1271: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1271 with parameters: []
[2022-03-30T07:24:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1272: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1272 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1273: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1273 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1274: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1274 with parameters: []
[2022-03-30T07:24:14Z DEBUG tokio_postgres::prepare] preparing query s1275: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Генератор в режиме трансляции питания от электросети работает исправно.
[2022-03-30T07:24:14Z DEBUG tokio_postgres::query] executing statement s1275 with parameters: []
[2022-03-30T07:24:14Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:15Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:15Z DEBUG tokio_postgres::prepare] preparing query s1276: SELECT EXTRACT(epoch FROM mark) FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:15Z DEBUG tokio_postgres::query] executing statement s1276 with parameters: []
[2022-03-30T07:24:15Z INFO  ats_monitoring::ram::db] Time (unix) of the last entry in a table 'avr_control_insert': Postgres = 1648625052.685324, Skytable = 1648420608.768691
[2022-03-30T07:24:15Z DEBUG tokio_postgres::prepare] preparing query s1277: SELECT EXTRACT(epoch FROM now()) FROM avr_control_insert ORDER BY now() DESC limit 1
[2022-03-30T07:24:15Z DEBUG tokio_postgres::query] executing statement s1277 with parameters: []
[2022-03-30T07:24:15Z INFO  ats_monitoring::ram::db] Time (unix) now: PostgreSQL = 1648625055.622584, Skytable = 1648420611.695139
[2022-03-30T07:24:15Z DEBUG tokio_postgres::prepare] preparing query s1278: SELECT mark, connection FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:15Z DEBUG tokio_postgres::query] executing statement s1278 with parameters: []
[2022-03-30T07:24:15Z INFO  ats_monitoring::ram::db] Latest value of plc_connect: PostgreSQL = 1, Skytable = 1
[2022-03-30T07:24:15Z DEBUG tokio_postgres::prepare] preparing query s1279: SELECT mark, generator_faulty FROM avr_control_insert ORDER BY mark DESC limit 1
[2022-03-30T07:24:15Z DEBUG tokio_postgres::query] executing statement s1279 with parameters: []
[2022-03-30T07:24:15Z INFO  ats_monitoring::ram::db] Latest value of generator_faulty: PostgreSQL = 0, Skytable = 0
[2022-03-30T07:24:15Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:15Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:15Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: []
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [1]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_ats::avr_control] Ошибка! Не все значения переданы модулю modbus_ats от ПЛК!
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [148]
[2022-03-30T07:24:16Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4301]
[2022-03-30T07:24:17Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:17Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:17Z INFO  ats_monitoring::generator_monitoring::generator] Запрос работоспособности генератора в режиме трансляции питания от электросети
[2022-03-30T07:24:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Запрос наличия питания от электросети
[2022-03-30T07:24:17Z INFO  ats_monitoring::generator_monitoring::generator] response from PostgreSQL: generator_faulty = 0
[2022-03-30T07:24:17Z INFO  ats_monitoring::generator_monitoring::generator] Генератор в режиме трансляции питания от электросети работает исправно
[2022-03-30T07:24:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] response from PostgreSQL: mains_power_supply = 2
[2022-03-30T07:24:17Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Питание от электросети есть
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1280: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1280 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1281: INSERT INTO события_авр (событие) VALUES ($1)
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1281 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1282: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1283: SELECT событие, время_и_дата FROM события_авр ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1282 with parameters: []
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1283 with parameters: []
[2022-03-30T07:24:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:24:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. события_авр: Питание от электросети есть.
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1284: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1285: INSERT INTO журнал_работы_приложения (событие) VALUES ($1)
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1284 with parameters: ["Генератор в режиме трансляции питания от электросети работает исправно."]
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1285 with parameters: ["Питание от электросети есть."]
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1286: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:17Z DEBUG tokio_postgres::prepare] preparing query s1287: SELECT событие, время_и_дата FROM журнал_работы_приложения ORDER BY время_и_дата DESC limit 1
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1286 with parameters: []
[2022-03-30T07:24:17Z DEBUG tokio_postgres::query] executing statement s1287 with parameters: []
[2022-03-30T07:24:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:17Z INFO  ats_monitoring::psql::postgresql] Запись в табл. журнал_работы_приложения: Питание от электросети есть.
[2022-03-30T07:24:18Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:19Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:19Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [149]
[2022-03-30T07:24:20Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4279]
[2022-03-30T07:24:20Z INFO  ats_monitoring] starting up generator_monitoring_spawn
[2022-03-30T07:24:20Z INFO  ats_monitoring] starting up power_supply_monitoring_spawn
[2022-03-30T07:24:23Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:23Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [175]
[2022-03-30T07:24:24Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4425]
[2022-03-30T07:24:26Z INFO  ats_monitoring::power_supply_monitoring::power_supply] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-03-30T07:24:26Z INFO  ats_monitoring::generator_monitoring::generator] Ошибка! Связь СУБД PostgreSQL с Modbus клиентом отсутствует!
[2022-03-30T07:24:26Z INFO  ats_monitoring] starting up write_data_to_ram_spawn
[2022-03-30T07:24:27Z INFO  ats_monitoring] starting up modbus_winter_garden_spawn
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Связь ПЛК с модулем modbus_winter_garden: Ok
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_1: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_2: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_3: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR phyto_lighting_4: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR fan: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_1: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_2: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR automatic_watering_3: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR temperature_indoor: [22]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR humidity_indoor: [21]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_indoor: [177]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_winter_garden::winter_garden] Response IR illumination_outdoor: [4422]
[2022-03-30T07:24:27Z INFO  ats_monitoring] starting up modbus_ats_spawn
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Связь ПЛК с модулем modbus_ats: Ok
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR mains_power_supply: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR start_generator: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_faulty: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR generator_work: [0]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR connection: [1]
[2022-03-30T07:24:27Z INFO  ats_monitoring::modbus_ats::avr_control] Response IR load: [0]
